                                                                                                                      EVALUATION KIT AVAILABLE
Click here for production status of specific part numbers.
MAX98090                                                                     Ultra-Low Power Stereo Audio Codec
General Description                                                             Benefits and Features
The MAX98090 is a fully integrated audio codec whose                            ●● 102dB DR Stereo DAC to HP (8kHz < fS < 96kHz)
high-performance, ultra-low power consumption and                               ●● 3.6mW Stereo Playback Power Consumption
small footprint make it ideal for portable applications.
                                                                                ●● 99dB DR Stereo ADC (8kHz < fS < 96kHz)
The device features a highly flexible input scheme with
                                                                                ●● 4.2mW Stereo Record Power Consumption
six input pins (WLP) that can be configured as analog or
digital microphone inputs, differential or single-ended line                    ●● 3 Stereo Single-Ended/Differential Analog
inputs, or as full-scale direct differential inputs. Analog                           Microphone/Line Inputs (WLP Version)
inputs can be routed to the record path ADC or directly to                      ●● Stereo PDM Digital Microphone Input
any analog output mixer.                                                        ●● Master Clock Frequencies from 256 x fS to 60MHz
The device accepts master clock frequencies of either                           ●● I2S/LJ/RJ/TDM Digital Audio Interface
256 x fS or from 10MHz to 60MHz. The digital audio inter-
                                                                                ●● FlexSound Technology Signal Processing
face supports master or slave mode operation, sample                                  • Record Path Biquad Filter
rates from 8kHz to 96kHz, and standard PCM formats                                    • Playback Path 7-Band Parametric EQ
such as I2S, left/right-justified, and TDM.                                           • Playback Path Automatic Level Control
The record/playback paths feature FlexSound® technology                               • Digital Filtering and Gain/Level Control
DSP. This includes digital gain and filtering, a biquad filter                  ●● Stereo Low EMI Class D Speaker Amplifiers
(record), dynamic range control (playback), and a seven                               • 3.2W/Channel (RL = 4Ω, VSPK_VDD = 5V, WLP)
band parametric equalizer (playback) that can improve loud-                           • 1.8W/Channel (RL = 8Ω, VSPK_VDD = 5V, WLP)
speaker performance by optimizing the frequency response.                       ●● Stereo DirectDrive Class H Headphone Amplifier
The stereo Class D speaker amplifier provides efficient                               Jack Detection and Identification
amplification, features low radiated emissions, supports                        ●● Differential Receiver Amplifier/Stereo Line Output
filterless operation, and can drive both 4Ω and 8Ω loads.
The DirectDrive® stereo Class H headphone ampli-                                ●● Extensive Click-and-Pop Reduction Circuitry
fier provides a ground referenced output eliminating the                        ●● RF Immune Analog Inputs and Outputs
need for large DC-blocking capacitors. The device also                          ●● Programmable Microphone Bias
includes a differential receiver (earpiece) amplifier that                      ●● I2C Control Interface with Two Address Options
can be reconfigured as a stereo single-ended line output.
                                                                                ●● 49-Bump 0.4mm WLP and 40-Pin TQFN Packages
Simplified Block Diagram
                                                       BATTERY 1.8V 1.2V         I2S/TDM           I2C
                                     STEREO DIGITAL                                                           STEREO LINE OUTPUT
                         OR                                                                                   CLASS AB AMPLIFIER
                                       MICOPHONE
               DIGITAL                                      POWER            DIGITAL AUDIO       CONTROL
                                 1                                                                              (SINGLE ENDED)   LINE OUTPUT
            MICROPHONE                                    MANAGEMENT           INTERFACE        REGISTERS
                                                                                                                       OR             OR
                                 2
                                     MICROPHONE 1                                                                SPEAKER LEFT
                 OR
                                      PREAMP/PGA                                                               CLASS D AMPLIFIER
         ANALOG                      (DIFFERENTIAL)                                                              (DIFFERENTIAL)    RECEIVER/
                     LINE INPUT                                            FLEXSOUND DSP                                           EARPIECE
       MICROPHONE
                                                                    • DIGITAL BIQUAD FILTER
                                     MICROPHONE 2                      (RECORD)                                  SPEAKER LEFT
                                 3    PREAMP/PGA                    • 7-BAND PARAMETRIC                        CLASS D AMPLIFIER
                 OR                                                                                              (DIFFERENTIAL)
                                     (DIFFERENTIAL)                    EQUALIZER (PLAYBACK)
                                 4                     STEREO                                      STEREO                           SPEAKER
         ANALOG      LINE INPUT                                     • DYNAMIC RANGE CONTROL
                                                         ADC                                         DAC                           LEFT/RIGHT
       MICROPHONE                   LINE INPUT A PGA                   (PLAYBACK)                               SPEAKER RIGHT
                                   (DIFFERENTIAL OR                 • DIGITAL FILTERING                        CLASS D AMPLIFIER
                                     SINGLE-ENDED)                  • DIGITAL GAIN/LEVEL                         (DIFFERENTIAL)
                 OR              5                                     CONTROL
                                 6
         ANALOG      LINE INPUT     LINE INPUT B PGA                                                          STEREO HEADPHONE
       MICROPHONE                  (DIFFERENTIAL OR                                                            CLASS H AMPLIFIER
                                     SINGLE-ENDED)                                                              (SINGLE ENDED)
                  OR                                                                                                              HEADPHONES
                                    JACK DETECTION                        MAX98090                                CHARGE PUMP
                                                                                                                                       OR
      3-POLE (TRS) 4-POLE (TRRS)                                                                                                    HEADSET
Ordering Information appears at end of data sheet.
19-6492; Rev 4; 11/18


MAX98090                                                                                    Ultra-Low Power Stereo Audio Codec
                                                        TABLE OF CONTENTS
General Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Features and Benefits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Simplified Block Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
Absolute Maximum Ratings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
Package Thermal Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
Electrical Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
Digital Filter Specifications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
Digital Input/Output Characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
Input Clock Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
Digital Audio Interface Timing Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
I2C Timing Characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Digital Microphone Timing Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Quiescent Power Consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
Typical Operating Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37
Bump/Pin Configurations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64
Bump/Pin Descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66
Detailed Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68
Device I2C Register Map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68
Software Reset . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76
Power and Performance Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77
   Device Performance Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  77
   Device Enable Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  78
Analog Audio Input Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
   Analog Microphone Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  82
       Analog Microphone Preamplifier and PGA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  83
       Analog Microphone Bias Voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  84
   Digital Microphone Inputs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  84
       Digital Microphone Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  84
       Digital Microphone Frequency Compensation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  86
   Analog Line Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  89
       Analog Line Input Mixers  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  89
       Analog Line Input PGAs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  90
   Analog Input PGA to Analog Output Mixer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92
   Analog Full-Scale Direct to ADC Mixer Inputs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92
Audio Record Path  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93
   Analog-to-Digital Converter (ADC)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  94
       ADC Functional Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  94
www.maximintegrated.com                                                                                                                              Maxim Integrated │ 2


MAX98090                                                                                     Ultra-Low Power Stereo Audio Codec
                                          TABLE OF CONTENTS (continued)
       ADC Input Mixer Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95
   Record Path FlexSound DSP  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95
       Record Path Digital Filters  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95
       Record Path Sidetone . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98
       Record Path Digital Gain and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  99
Digital Audio Interface (DAI) Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100
   DAI Clock Control and Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101
   Master Mode Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101
       Quick Configuration Mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  103
       Exact Integer Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  104
       Manual Ratio Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105
   Slave Mode Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105
   DAI Digital Audio Data Path Control and Routing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  107
   DAI Digital Audio Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110
       TDM Mode Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
Audio Playback Path . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
   Playback Path FlexSound DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
       Playback Path Digital Gain and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
       Playback Path 7-Band Parametric Equalizer  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117
       Playback Path Dynamic Range Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  120
       Playback Path Digital Filters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  124
   Digital-to-Analog Converter (DAC) Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  124
Analog Audio Output Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126
   Analog Class AB Configurable Receiver/Line Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  127
       Receiver/Earpiece Mixer and Gain Control  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  127
       Line Output Mixer and Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  129
   Analog Class D Speaker Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  131
       Speaker Output Mixer and Gain Control  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  132
       Efficient Class D Speaker Output Driver  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  134
   Analog Class-H Headphone Output  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  134
       Headphone Output Mixer and Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135
       Headphone Ground Sense . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  138
       DirectDrive Headphone Output Amplifier . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  139
       Class H Amplifier Charge Pump . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  139
   Click-and-Pop Reduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
Jack Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 143
   Jack Detection Internal Comparators  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  144
   Jack Detection Programmable Debounce . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  144
www.maximintegrated.com                                                                                                                                Maxim Integrated │ 3


MAX98090                                                                                      Ultra-Low Power Stereo Audio Codec
                                           TABLE OF CONTENTS (continued)
   Jack Detection Interrupt Generation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  146
   Operation with an Internal Pullup Resistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  146
   Operation with an External Pullup Resistance  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  146
   Accessory Button Detection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  148
   Jack Detection with Internal Analog Microphones  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  148
Quick Setup Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150
Device Status Flags  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 153
   Status Flag Masking  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  153
Device Revision Identification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154
I2C Serial Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155
   Bit Transfer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  155
   START and STOP Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  155
   Early STOP Conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  155
   Slave Address  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  155
   Acknowledge . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  156
   Write Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  156
   Read Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  157
Applications Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 158
   Typical Application Circuits  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  158
   Startup/Shutdown Register Sequencing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  160
   Component Selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161
       AC-Coupling Capacitors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161
       Charge-Pump Capacitor Selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161
   Filterless Class D Speaker Operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161
       EMI Considerations and Optional Ferrite Bead Filter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  162
   RF Susceptibility  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  162
   Supply Bypassing, Layout, and Grounding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  163
   Recommended PCB Routing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  163
   Unused Pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  164
   WLP Applications Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  164
Ordering Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
Chip Information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
Package Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
Revision History  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166
www.maximintegrated.com                                                                                                                                 Maxim Integrated │ 4


MAX98090                                                                         Ultra-Low Power Stereo Audio Codec
                                                   LIST OF FIGURES
Figure 1. I2S Audio Interface Timing Diagrams (TDM = 0) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Figure 2. TDM Audio Interface Short Mode Timing Diagram (TDM = 1, BCI = 1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Figure 3. I2C Interface Timing Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Figure 4. Digital Microphone Timing Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Figure 5. Analog Audio Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
Figure 6. Analog Microphone Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82
Figure 7. Digital Microphone Input Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84
Figure 8. Digital Microphone Compensation Filter Frequency Response  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86
Figure 9. Analog Line Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89
Figure 10. Analog Line Input External Gain Configurations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90
Figure 11. Analog Direct to ADC Mixer Input Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92
Figure 12. Record Path Block Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93
Figure 13. Record Path ADC Section . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94
Figure 14. Record Path FlexSound Technology DSP Block . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96
Figure 15. Simplified Digital Audio Interface Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100
Figure 16. DAI Clock Control and Configuration Section . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101
Figure 17. DAI Digital Data Path Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107
Figure 18. Digital Audio Interface (DAI) Data Path Configurations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108
Figure 19. DAI Timing for I2S Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  111
Figure 20. DAI Timing for Left Justified Data Formats . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  111
Figure 21. DAI Timing for Right Justified Data Formats . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112
Figure 22. DAI Timing for TDM Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114
Figure 23. Playback Path Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
Figure 24. Playback Path Sidetone and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
Figure 25. Playback Path DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117
Figure 26. Dynamic Range Compression and Expansion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120
Figure 27. DRC Enable and Make-Up Gain . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120
Figure 28. DRC Compression Ratio and Threshold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121
Figure 29. DRC Expansion Ratio and Threshold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121
Figure 30. DRC Attack and Release Time Waveforms  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122
Figure 31. Playback Path Digital-to-Analog Converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125
Figure 32. Analog Audio Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126
Figure 33. Receiver Output Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127
Figure 34. Stereo Single-Ended Line Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128
Figure 35. Class D Speaker Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131
Figure 36. DirectDrive Headphone Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134
Figure 37. Reduced Power DAC Playback to Headphone Output Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . 136
Figure 38. Headphone Output Ground Sense Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138
www.maximintegrated.com                                                                                                                   Maxim Integrated │ 5


MAX98090                                                                            Ultra-Low Power Stereo Audio Codec
                                       LIST OF FIGURES (continued)
Figure 39. Conventional vs. DirectDrive Headphone Output Bias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 139
Figure 40. Class H Amplifier Charge Pump Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140
Figure 41. Class H Amplifier Supply Range Transitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
Figure 42. Zero-Crossing Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
Figure 43. Block Diagram and Typical Application Circuit for Jack Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 143
Figure 44. Jack Detection Cases with Internal Pullup Resistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 145
Figure 45. Jack Detection Operation with External Pullup Resistance  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147
Figure 46. Jack Detection with Internal Analog Microphones  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 148
Figure 47. START, STOP, and REPEATED START Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155
Figure 48. Acknowledge Timing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156
Figure 49. Writing One Byte of Data to the MAX98090 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156
Figure 50. Writing n-Bytes of Data to the MAX98090 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156
Figure 51. Reading One Byte of Data from the MAX98090 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 157
Figure 52. Reading n-Bytes of Data from the MAX98090 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 157
Figure 53. Typical Application Circuit with Analog Microphone Inputs and Receiver Output  . . . . . . . . . . . . . . . . . . 158
Figure 54. Typical Application Circuit with Digital Microphone Input and Stereo Line Outputs . . . . . . . . . . . . . . . . . 159
Figure 55. Optional Class D Ferrite Bead EMI Filter  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
Figure 56. Optional Class H Output RMI Filter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
Figure 57. PCB Breakout Routing Example for WLP Package . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163
Figure 58. WLP Package Ball Dimensions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164
                                                       LIST OF TABLES
Table 1. MAX98090 Control Register Map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 69
Table 2. Software Reset Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76
Table 3. Bias Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77
Table 4. DAC and Headphone Performance Mode Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 77
Table 5. ADC Performance Mode Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78
Table 6. Device Shutdown Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78
Table 7. Input Enable Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79
Table 8. Output Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80
Table 9. Microphone 1 Enable and Level Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83
Table 10. Microphone 2 Enable and Level Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83
Table 11. Microphone Bias Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85
Table 12. Digital Microphone Clocks for Commonly Used Master Clocks Settings . . . . . . . . . . . . . . . . . . . . . . . . . . . 85
Table 13. Digital Microphone Enable  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85
Table 14. Digital Microphone Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86
Table 15. Recommended Compensation Filter Settings for f MCLK = 11.2896MHz . . . . . . . . . . . . . . . . . . . . . . . . . . 87
www.maximintegrated.com                                                                                                                       Maxim Integrated │ 6


MAX98090                                                                    Ultra-Low Power Stereo Audio Codec
                                     LIST OF TABLES (continued)
Table 16. Recommended Compensation Filter Settings for f MCLK = 12MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87
Table 17. Recommended Compensation Filter Settings for f MCLK = 12.288MHz . . . . . . . . . . . . . . . . . . . . . . . . . . . 87
Table 18. Recommended Compensation Filter Settings for f MCLK = 13MHz/26MHz . . . . . . . . . . . . . . . . . . . . . . . . 88
Table 19. Recommended Compensation Filter Settings for f MCLK = 19.2MHz . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88
Table 20. Recommended Compensation Filter Settings for f MCLK = 256 x fS  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  . 88
Table 21. Line Input Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89
Table 22. External Gain Mode Series Resistance Values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90
Table 23. Line Input Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91
Table 24. Input Mode and Source Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91
Table 25. Left ADC Mixer Input Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95
Table 26. Right ADC Mixer Input Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95
Table 27. DSP Filter Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96
Table 28. DSP Biquad Filter Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97
Table 29. Record Path Biquad Digital Preamplifier Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97
Table 30. Record Path Biquad Filter Coefficients . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98
Table 31. Record Path Sidetone Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98
Table 32. Left Record Path Digital Gain Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99
Table 33. Right Record Path Digital Gain Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99
Table 34. System Master Clock (MCLK) Prescaler Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102
Table 35. Master Mode Clock Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102
Table 36. Master Clock Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103
Table 37. Sample Rate Quick Setup Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103
Table 38. Quick Configuration Mode Lookup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104
Table 39. Clock Mode Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104
Table 40. Manual Clock Ratio Configuration Register (NI MSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 105
Table 41. Manual Clock Ratio Configuration Register (NI LSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106
Table 42. Manual Clock Ratio Configuration Register (MI MSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106
Table 43. Manual Clock Ratio Configuration Register (MI MSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106
Table 44. Digital Audio Interface (DAI) Data Path Configurations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109
Table 45. Digital Audio Interface (DAI) Input/Output Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 109
Table 46. Digital Audio Interface (DAI) Format Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110
Table 47. Digital Audio Interface (DAI) TDM Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
Table 48. Digital Audio Interface (DAI) TDM Format Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
Table 49. Playback Gain and Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
Table 50. DSP Biquad Filter Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118
Table 51. Parametric Equalizer Playback Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118
Table 52. Parametric Equalizer Band N (1–7) Biquad Filter Coefficient Registers  . . . . . . . . . . . . . . . . . . . . . . . . . . 119
Table 53. Dynamic Range Control (DRC) Timing Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 123
www.maximintegrated.com                                                                                                               Maxim Integrated │ 7


MAX98090                                                                           Ultra-Low Power Stereo Audio Codec
                                       LIST OF TABLES (continued)
Table 54. Dynamic Range Control (DRC) Gain Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 123
Table 55. Dynamic Range Control (DRC) Compressor Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 123
Table 56. Dynamic Range Control (DRC) Expander Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124
Table 57. DSP Filter Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125
Table 58. Receiver and Left Line Output Mixer Source Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128
Table 59. Receiver and Left Line Output Mixer Gain Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129
Table 60. Receiver and Left Line Output Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129
Table 61. Right Line Output Mixer Source Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130
Table 62. Right Line Output Mixer Gain Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130
Table 63. Right Line Output Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 130
Table 64. Left Speaker Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132
Table 65. Right Speaker Mixer Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132
Table 66 Speaker Mixer Gain Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132
Table 67. Left Speaker Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133
Table 68. Right Speaker Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133
Table 69. Left Headphone Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135
Table 70. Right Headphone Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135
Table 71. Headphone Mixer Control and Gain Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135
Table 72. Left Headphone Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 137
Table 73. Right Headphone Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 137
Table 74. Charge-Pump Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 139
Table 75. Zero-Crossing Detection and Volume Smoothing Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . 142
Table 76. Jack Detection Status Results  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144
Table 77. Jack Detect Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 149
Table 78. Jack Status Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 149
Table 79. Digital Audio Interface (DAI) Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150
Table 80. Playback Path Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150
Table 81. Analog Microphone/Direct Input to Record Path Quick Setup Register . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
Table 82. Line Input to Record Path Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
Table 83. Analog Microphone Input to Analog Output Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152
Table 84. Line Input to Analog Output Quick Setup Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152
Table 85. Device Status Interrupt Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 153
Table 86. Device Status Interrupt Mask Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154
Table 87. Revision ID Number Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 154
Table 88. Device I2C Slave Address . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155
Table 89. Detailed Device Startup Sequence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160
Table 90. Register Changes that Require SHDN = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160
Table 91. Unused Pin Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164
www.maximintegrated.com                                                                                                                      Maxim Integrated │ 8


MAX98090                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Functional Diagram
                                   MCLK                         LRCLK                         BCLK                      SDOUT          DVDD          DVDDIO        SDIN                           SCL      SDA     IRQ                           AVDD REF        BIAS
                                                                                                                                                                                                                                                BIAS CONTROL
                                                                                                                             DIGITAL AUDIO INTERFACE                                             I2C INTERFACE
                                                                                                                                                                                                                                               AND GENERATION
                                                                                                                 DATA OUTPUT           SDOEN
                                                                                                                                                  LTEN
                                                                                                                   ENABLE              HIZOFF
                                                                             MAS
                                                                                                                                      TDM, FSW             LOOP
                             PRESCALED                     FRAME             BCI            BIT                                     SLOTDLY[3:0]         THROUGH
                            CLOCK (PCLK)                   CLOCK              WCI         CLOCK                                      SLOTL/R[1:0]           MUX
                            GENERATION
                                                                          USE_MI
                                            PSCLK[1:0]                                                           OUTPUT SHIFT                           INPUT SHIFT
                                                                           NI[14:0]                                                    RJ, DLY
                                                                                                                  REGISTER                               REGISTER
                                                                          MI[14:0]                                                     WS[1:0]
                                                                                                                                                                                                                          MAX98090
                                                                                                                     LOOP                               DATA INPUT
                                                                   CLOCK GENERATION                                                LBEN SDIEN
                                                                                                                  BACK MUX                                ENABLE
                                                                    AND DISTRIBUTION
                                                          FREQ[3:0]      BSEL[2:0]
                                                                                                                                         DMONO           PLAYBACK
                                                    DAI: CLOCK CONTROL                                                                                 INPUT MIXER
                                                    AND CONFIGURATION                                                          DAI: DATA PATH
                    TO DIGITAL                                            TO RECORD AND
                  MIC CONTROL                                            PLAYBACK PATHS
                                                                                                                                                                                                                                                                  DACLEN
                                                                                       LEFT RECORD PATH                                                                                                                   LEFT PLAYBACK PATH
                                    ADLEN
                                                          DIGITAL                               LEFT                              LEFT                         LEFT
                                                                              LEFT                              LEFT                                                                                   LEFT 7-BAND         LEFT/RIGHT DRC:
                                                            MIC                               BIQUAD                             LEVEL                         GAIN             LEFT    LEFT                                                       LEFT               DAC
                                                                            FILTERS                          SIDETONE                                                                                 PARAMETRIC               DYNAMIC
                                                           LEFT                                FILTER                                                                        SIDETONE  LEVEL                                                     FILTERS            LEFT
                                     ADC                                                                                                                                                                EQUALIZER          RANGE CONTROL
                                                           MUX
                                    LEFT
                                                                                             RECBQEN                             AVLG[2:0]                                                             EQ_BANDEN                DRCEN
                                                                                                                                  AVL[3:0]                                                               DVEQ[3:0]             DRCG[4:0]
                                                                                             AVBQ[3:0]
                                                         DIGMICL             MODE          REC_B0[23:0]                                                        DVG[1:0]                                   EQCLP              DRCRLS[2:0]
                                                                                                                                                                                          DVM          B0_EQ_[23:0]          DRCATK[2:0]          MODE               DACHP
                                   ADCHP                                      AHPF         REC_B1[23:0]      DSTS[1:0]           AVRG[2:0]                                   DSTS[1:0]                                       DRCCMP[2:0]
                                                                                                                                                                                         DV[3:0]       B1_EQ_[23:0]                               DHPF            PERFMODE
                                   OSR128                                     DHF          REC_B2[23:0]                           AVR[3:0]                                                             B2_EQ_[23:0]          DRCTHC[4:0]
                                                         DIGMICR
                                 ADCDITHER                                                 REC_A1[23:0]                                                                                                A1_EQ_[23:0]          DRCEXP[2:0]
                                                                                           REC_A2[23:0]                                                                                                A2_EQ_[23:0]           DRCHE[4:0]
                                                          DIGITAL                              RIGHT                             RIGHT                        RIGHT
                                                                             RIGHT                             RIGHT                                                           RIGHT                  RIGHT 7-BAND            RIGHT ALC:
                                                            MIC                               BIQUAD                             LEVEL                        GAIN                     RIGHT                                                      RIGHT               DAC
                                                                            FILTERS                          SIDETONE                                                                                 PARAMETRIC              AUTOMATIC
                                                           RIGHT                                                                                                             SIDETONE  LEVEL                                                     FILTERS            RIGHT
                                     ADC                                                       FILTER                                                                                                   EQUALIZER          LEVEL CONTROL
                                                           MUX
                                   RIGHT
                                                                                       RIGHT RECORD PATH                                        L/R ST                                                                   RIGHT PLAYBACK PATH
                                                                                                             SIDETONE TO                        LEVEL                    SIDETONE FROM                                                                            DACREN
                                                                                                           PLAYBACK PATH                                                 PLAYBACK PATH
                                   ADREN
                                                                                                                                                DVST[4:0]                                                                 FLEXSOUND TECHNOLOGY DSP
                                                                                                                                                                                                                                                    RCVLVOL[4:0]
                                                                                                                                                                                                                                                         RCVLM
                                                                                                                                                                                                                                                       RCVLEN
                                                                                                                                                                                                                             MIXSPL[5:0]
                                                                                                                                                                                                   DACL
                                                                                                                                                                                                                            MIXSPLG[1:0]
        JACKSNS               JACK                                                                                                                                                                 DACR      RCV/
                                                                MBVSEL[1:0]           MICCLK[2:0]
                           DETECTION                                                                                              ANALOG                    DAC TO                                                   -12dB TO 0dB                                                         RCVP/
                                                 MBEN                                                                                                                                              MIC 1     LINE                                                    -62dB TO 8dB
                                                                                                                                    INPUTS                 ANALOG                                            OUT                                       LINE OUT                           LOUTL
                                                                                                                                   TO ADC                 OUTPUTS                                  MIC 2     LEFT                                     LEFT PGA
         MICBIAS                                               MICROPHONE                                PCLK
                                                                     BIAS               DIGITAL                                                                                                   LINE A MIXER
                                                                GENERATOR            MICROPHONE
                                                                                                                                                                                                  LINE B                                                                    ZDEN
                                                                                       CONTROL        DMDL                                                                                                                           LINMOD                                 VS2EN
                                                                                                      DMDR                                                                                                                                                                  VSEN
                                                                                                                                                                                                   DACL
                                              EXTMIC[0]        PA1EN[1:0]           PGAM1[4:0]                                                                                                                                                                                            RCVN/
                                                                                                                                                                                                                                      RCV/
                                                                                                                                                                                                   DACR      RCV/                                                    -62dB TO 8dB         LOUTR
                                                                                                                                                                                                                                       LINE            LINE OUT
                                                                                                                                                                                                   MIC 1     LINE                      OUT            RIGHT PGA
                                      IN1-IN2                                                                                                                                                                OUT       -12dB TO 0dB
                                                                                                                                                                                                   MIC 2 RIGHT                        MUX
                                                 MIC 1
                                                INPUT              MIC 1              MIC 1
                                      IN5-IN6                    PREAMP                PGA                                                                                                        LINE A MIXER
                                                 MUX
                                                                         0dB                 0dB TO 20dB                                                                                          LINE B                     MIXSPL[5:0]             RCVRVOL[4:0]
         IN1/DMD                                                         10dB                                                                                                                                               MIXSPLG[1:0]                 RCVRM
         IN2/DMC                                                         30dB                                                                                                                                                                           RCVREN
                                                                                     ZDENB                                                                                                         DACL                      MIXSPL[5:0]
                                                                                                                                                                                                   DACR                     MIXSPLG[1:0]                 SPVOLL[4:0]
                                      IN3-IN4                                                                                                                                                                                                                                             SPKLGND
                                                                                                                                                                                                   MIC 1     SPK                                            SPLM
                                                 MIC 2                                                                                                                                                                                                     SPLEN
                                                                   MIC 2              MIC 2                                                                                                                  LEFT
                                      IN5-IN6   INPUT                                                                                                                                              MIC 2
                                                                 PREAMP                PGA                                                                                                                  MIXER     -12dB TO 0dB             -48dB TO 14dB                              SPKLP
                                                 MUX                                                                                                                                              LINE A
                                                                         0dB                 0dB TO 20dB                                                                                                                              SPEAKER                                             SPKLN
                                                                                                                                                                                                                                                               6dB
                                                                         10dB                                                                                                                     LINE B                              LEFT PGA
                                                                         30dB
                                              EXTMIC[1]        PA2EN[1:0]           PGAM2[4:0]                                MIXADL[6:0]
                                                                                                                                                                                                                                                          ZDEN
                                                                                                                                                                                                                                                                                          SPK_VDD
                                                                                                                                                                                                                                                          VS2EN
              IN3                                                                                                      IN1-IN2
                                               IN1SEEN                                                                                                                                                                                                    VSEN
              IN4                                                                                                      IN3-IN4                                                                     DACL
                                               IN3SEEN
                                                                                                                                                                                                                                               -48dB TO 14dB                              SPKRP
                                               IN5SEEN                                                                 IN5-IN6                                                                     DACR
                                                                 LINEAEN                                                         ADC                                                                                  -12dB TO 0dB    SPEAKER                  6dB                        SPKRN
                                               IN34DIFF                                                                                                                                                                              RIGHT PGA
                                                                EXTBUFA                                                 LINE A   LEFT                                                              MIC 1     SPK
                                                                                                                                                                                                            RIGHT
                                                                                                                        LINE B MIXER                                                               MIC 2
                                                                                                                                                                                                            MIXER                                            SPKSLAVE
                                          IN1                                                                            MIC 1                                                                    LINE A
                                          IN3   LINE A                                                                                                                                                                      MIXSPL[5:0]                  SPVOLR[4:0]
                                                                                                                         MIC 2                                                                    LINE B                                                                                  SPKRGND
                                          IN5    INPUT            LINE A                                                                                                                                                   MIXSPLG[1:0]                     SPLM
                                                MIXER              PGA                                                                                                                                                                                     SPREN
                                      IN3-IN4
                                                                          -6dB                                         IN1-IN2
                                                                          TO 20dB                                      IN3-IN4                                                                                                                       HPVOLL[4:0]
                                                                                                                                                                                                   DACL                                                  HPLM
              IN5                                             LINAPGA[2:0]                                             IN5-IN6   ADC                                                                                         MIXHPL[5:0]                HPLEN
                                              MIXG135                                                                                                                                              DACR                     MIXHPLG[1:0]
                                                                                                                        LINE A  RIGHT
              IN6                                                                                                                                                                                  MIC 1
      (WLP ONLY)                              MIXG246                                                                   LINE B MIXER                                                                          HP
                                                                                                                                                                                                                      -12dB TO 0dB
                                                              LINBPGA[2:0]                                                                                                                         MIC 2 LEFT
                                                                                                                         MIC 1                                                                              MIXER                       HP
                                                                                                                                                                                                  LINE A                                                             -67dB TO 3dB         HPL
                                                                                                                         MIC 2                                                                                                        LEFT          HEADPHONE
                                          IN2                                                                                                                                                                                                         LEFT PGA
                                                                                                                                                                                                  LINE B                              MUX
                                          IN4   LINE B
                                          IN6    INPUT            LINE B
                                                                   PGA
                                      IN6-IN5   MIXER                                                                         MIXADR[6:0]
                                                                          -6dB                                                                                                                                                     MIXHPLSEL             ZDEN
                                                                                                                                                                                                                                                                                          HPSNS
                                                                          TO 20dB                                                                                                                                                                       VS2EN
                                                                                                                                                                                                                                   MIXHPRSEL             VSEN
                                                                 LINEBEN
                                               IN2SEEN          EXTBUFB                                                                          ANALOG INPUT                                      DACL
                                               IN4SEEN                                                                                        TO ANALOG OUTPUT                                     DACR                                 HP                          -67dB TO 3dB
                                               IN6SEEN                                                                                                                                                                                              HEADPHONE                             HPR
                                                                                                                                                                                                                                     RIGHT
                                               IN65DIFF                                                                                                                                            MIC 1      HP                                     RIGHT PGA
                                                                                                                                                                                                                      -12dB TO 0dB    MUX
                                                                                                                                                                                                   MIC 2    RIGHT
                                                                                                                                                                                                            MIXER
                                                                                                                                                                                                  LINE A
                                                                                                                                                                                                  LINE B                     MIXHPR[5:0]             HPVOLR[4:0]           HEADPHONE      HPVDD
                                                                                                                                                                                                                            MIXHPRG[1:0]                 HPRM              DIRECTDRIVE
                                                                                                                                                                                                                                                        HPREN                             HPGND
                                                                                                                                                                                                                                                                          CHARGE PUMP
                                                                                                                                             AGND    DGND                                                                                                              CPVSS CPVDD C1N C1P
www.maximintegrated.com                                                                                                                                                                                                                                                  Maxim Integrated │ 9


MAX98090                                                                                                  Ultra-Low Power Stereo Audio Codec
Absolute Maximum Ratings
(Voltages with respect to AGND, unless otherwise noted.)                                              HPSNS.............................(VHPGND - 0.3V) to (VHPGND + 0.3V)
AVDD, DVDD, HPVDD..........................................-0.3V to +2.2V                             HPL, HPR..........................(VCPVSS - 0.3V) to (VCPVDD + 0.3V)
SPKLVDD, SPKRVDD, DVDDIO..........................-0.3V to +6.0V                                      RCVP/LOUTL............ (VSPKLGND - 0.3V) to (VSPKLVDD + 0.3V)
DGND, HPGND, SPKLGND, SPKRGND..............-0.1V to +0.1V                                             RCVN/LOUTR........... (VSPKLGND - 0.3V) to (VSPKLVDD + 0.3V)
CPVDD.............................(VHPGND - 0.3V) to (VHPGND + 2.2V)                                  SPKLP, SPKLN......... (VSPKLGND - 0.3V) to (VSPKLVDD + 0.3V)
CPVSS.............................(VHPGND - 2.2V) to (VHPGND + 0.3V)                                  SPKRP, SPKRN.......(VSPKRGND - 0.3V) to (VSPKRVDD + 0.3V)
C1N...................................(VCPVSS - 0.3V) to (VHPGND + 0.3V)                              JACKSNS..............................................................-0.3V to +6.0V
C1P................................... (VHPGND - 0.3V) to (VCPVDD + 0.3V)                             Continuous Power Dissipation (TA = +70°C)
MICBIAS.......................................... -0.3V to (VSPKLVDD + 0.3V)                              WLP (derate 23.8mW/°C above +70°C)...........................1.9W
REF, BIAS............................................. -0.3V to (VAVDD + 0.3V)                            TQFN (derate 35.7mW/°C above +70°C)......................2.86W
MCLK, SDIN, SDA, SCL, IRQ...............................-0.3V to +6.0V                                Operating Temperature Range............................ -40°C to +85°C
LRCLK, BCLK, SDOUT..................... -0.3V to (VDVDDIO + 0.3V)                                     Storage Temperature Range............................. -65°C to +150°C
IN1, IN2, IN3, IN4, IN5, IN6..................................-0.3V to +2.2V
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Package Thermal Characteristics (Note 1)
WLP                                                                                                   TQFN
    Junction-to-Ambient Thermal Resistance (θJA)...........42°C/W                                         Junction-to-Ambient Thermal Resistance (θJA)...........28°C/W
                                                                                                          Junction-to-Case Thermal Resistance (θJC)..................2°C/W
Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer
             board. For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
Electrical Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                   PARAMETER                           SYMBOL                                  CONDITIONS                                   MIN            TYP            MAX        UNITS
 POWER SUPPLY
                                                                                                      VSPKLVDD, VSPKVDD,
                                                                                                                                             2.8            3.7             5.5
                                                                                                      VSPKRVDD
                                                                          Guaranteed by
 Supply Voltage Range                                                                                 VAVDD, VHPVDD                         1.65            1.8              2          V
                                                                          PSRR (Note 3)
                                                                                                      VDVDD                                 1.08            1.2            1.98
                                                                                                      VDVDDIO                               1.65            1.8             3.6
                                                                          Full-duplex 8kHz Analog                                                          1.94             3.5
                                                                          mono, receiver              Speaker                                              0.73              2
                                                                          output                      Digital                                              0.97             1.2
                                                                          DAC playback                Analog                                               1.45              2
                                                                          48kHz stereo,
 Quiescent Supply Current (Note 4)                        IVDD                                        Speaker                                                0            0.005        mA
                                                                          headphone
                                                                          outputs                     Digital                                              1.04             1.3
                                                                          DAC playback                Analog                                               0.91             2.4
                                                                          48kHz stereo,               Speaker                                              2.18              3
                                                                          speaker outputs             Digital                                              1.05             1.3
www.maximintegrated.com                                                                                                                                         Maxim Integrated │ 10


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                      CONDITIONS                    MIN       TYP       MAX      UNITS
 REF Voltage                                                                                              1.25                 V
                                                  BIAS from resistive division (BIAS_MODE
                                                                                                          0.90
                                                  = 0)
 BIAS Voltage                                                                                                                  V
                                                  BIAS from bandgap
                                                                                                          0.78
                                                  (BIAS_MODE = 1)
                                                                           Analog                           1         10
 Shutdown Supply Current (Note 4)                 TA = +25°C               Speaker                          1          5      µA
                                                                           Digital                         2.1        20
 Shutdown to Full Operation                                                                                10                 ms
 DIFFERENTIAL INPUT (ANALOG MICROPHONE) TO ADC RECORD PATH
                                                  fS = 48kHz, MODE = 1 (FIR audio),
                                                                                                           97                 dB
                                                  A-weighting filter applied
 Dynamic Range (Note 5)                  DR
                                                  fS = 8kHz, MODE = 0 (IIR voice),
                                                                                                90         96                 dB
                                                  A-weighting filter applied
                                                  AV_MICPRE = 20dB, VIN = 90mVRMS,
                                                                                                          -82        -75
                                                  f = 1kHz,
 Total Harmonic Distortion + Noise     THD+N      AV_MICPRE = 0dB, VIN = 900mVRMS,                        -91                 dB
                                                  f = 1kHz
                                                  AV_MICPRE = 30dB,
                                                                                                          -73
                                                  VIN = 28.5mVRMS, f = 1kHz
 Common-Mode Rejection Ratio           CMRR       f = 217Hz, VIN_CM = 100mVP-P                             59                 dB
                                                  VAVDD = 1.65V to 2.0V,
                                                                                                40         57
                                                  input referred
 Power-Supply Rejection Ratio                                                f = 217Hz                     60
                                       PSRR                                                                                   dB
 (Note 3)                                         VRIPPLE = 100mVP-P,
                                                                             f = 1kHz                      60
                                                  input referred
                                                                             f = 10kHz                     59
                                                                             MODE = 0
                                                                                                           2.2
                                                                             (voice) 8kHz
                                                  1kHz, 0dB input,           MODE = 0
                                                                                                           1.1
                                                  highpass filter disabled   (voice) 16kHz
 Path Phase Delay                                                                                                             ms
                                                  measured from analog       MODE = 1
                                                  input to digital output                                  4.5
                                                                             (music) 8kHz
                                                                             MODE = 1
                                                                                                           0.8
                                                                             (music) 48kHz
www.maximintegrated.com                                                                                       Maxim Integrated │ 11


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                  SYMBOL                     CONDITIONS                    MIN        TYP       MAX      UNITS
 Gain Error                                        DC accuracy                                               1        6.2       %
DIFFERENTIAL (ANALOG MICROPHONE) PREAMP and PGA
 Full-Scale Input                                 AV_MICPRE = 0dB                                            1                VRMS
                                                                      PA_EN[1:0] = 01                        0
 Microphone Preamplifier Gain         AV_MICPRE (Note 6)              PA_EN[1:0] = 10            19         20         21       dB
                                                                      PA_EN[1:0] = 11            29         30         31
 Microphone Level Adjust Gain                                         PGAM_[4:0] = 0x00          19         20         21
                                     AV_MICPGA (Note 6)                                                                         dB
 (PGA)                                                                PGAM_[4:0] = 0x14                      0
                                                  All gain settings, measured at IN_
 MIC Input Resistance                  RIN_MIC                                                   28         50                  kΩ
                                                  (measured single-ended)
MICROPHONE BIAS
                                                  ILOAD = 1mA, MBVSEL[1:0] = 00                 2.1        2.2        2.3
                                                  ILOAD = 1mA, MBVSEL[1:0] = 01                 2.3        2.4        2.5
 MICBIAS Output Voltage                VMICBIAS                                                                                  V
                                                  ILOAD = 1mA, MBVSEL[1:0] = 10                2.475      2.57        2.7
                                                  ILOAD = 1mA, MBVSEL[1:0] = 11                 2.7        2.8        2.9
                                                  ILOAD = 1mA to 2mA,        WLP                         ±0.085      ±0.5
 Load Regulation                                                                                                               mV
                                                  MBVSEL[1:0] = 00           TQFN                        ±0.085     ±0.75
                                                  VSPKLVDD = 2.8V to 5.5V, MBVSEL[1:0]
 Line Regulation                                                                                          ±0.01        ±1      mV
                                                  = 00
                                                                                 f = 217Hz                  95
                                                  VRIPPLE (SPKLVDD)
 Ripple Rejection                                                                f = 1kHz                   97                  dB
                                                  = 100mVP-P
                                                                                 f = 10kHz                  85
                                                  A-weighted, f = 20Hz to 20kHz                            7.4                µVRMS
 Noise Voltage
                                                  f = 1kHz                                                52.3                nV/√Hz
SINGLE-ENDED (LINE) INPUT TO ADC PATH
                                                  fS = 48kHz, fMCLK = 12.288MHz, MODE =
 Dynamic Range (Note 5)                  DR                                                                 98                  dB
                                                  1 (FIR audio)
 Total Harmonic Distortion + Noise      THD+N     VIN = 0.222VRMS, f = 1kHz                                -85        -80       dB
SINGLE-ENDED (LINE) INPUT PGA
                                                                                                           0.5
 Full-Scale Input                        VIN                                                                                  VRMS
                                                  AV_EXTERNAL = -6dB, EXTBUF = 1                             1
www.maximintegrated.com                                                                                        Maxim Integrated │ 12


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                     CONDITIONS                     MIN       TYP       MAX      UNITS
                                                                 PGALIN = 0x0                    18        20        21.5
                                                                 PGALIN = 0x1                    13        14         15
                                                                 PGALIN = 0x2                     2         3          4
 Line Input Level Adjust Gain (PGA) AV_LINEPGA (Note 6)          PGALIN = 0x3                    -1         0         +1       dB
                                                                 PGALIN = 0x4                    -4        -3         -2
                                                                 PGALIN = 0x5,
                                                                                                 -7        -6         -5
                                                                 0x6, 0x7
 Line Input Amplifier Gain           AV_LINEAMP Single-ended only                                           6                  dB
 Input Resistance                        RIN                                                     14        20                  kΩ
 Feedback Resistance                   RIN_FB     TA = +25°C                                     19        20         21       kΩ
DIGITAL LOOP-THROUGH: RECORD OUTPUT TO PLAYBACK INPUT PATH
                                                  fS = 48kHz, fMCLK = 12.288MHz, MODE =
 Dynamic Range (Note 5)                  DR                                                                97                  dB
                                                  1 (FIR audio)
                                                  fIN = 1kHz, fS = 48kHz, fMCLK =
 Total Harmonic Distortion + Noise     THD+N                                                              -83        -72       dB
                                                  12.288MHz, MODE = 1 (FIR audio)
DAC PLAYBACK PATH TO RECEIVER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR       fS = 48kHz, fMCLK = 12.288MHz                           100                  dB
                                                  f = 1kHz, POUT = 20mW,
 Total Harmonic Distortion + Noise     THD+N                                                              -68        -58       dB
                                                  RREC = 32Ω
DIFFERENTIAL ANALOG INPUT TO RECEIVER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                                      90        96                  dB
 Total Harmonic Distortion + Noise     THD+N                                                              -71                  dB
                                                  VSPKLVDD = 2.8V to 5.5V                      68.4        80
 Power-Supply Rejection Ratio                                                 f = 217Hz                    77
                                       PSRR                                                                                    dB
 (Note 3)                                         VRIPPLE = 100mVP-P          f = 1kHz                     77
                                                                              f = 10kHz                    69
RECEIVER AMPLIFIER (Note 7)
                                                  RREC = 32Ω, f = 1kHz, THD < 1%, BIAS_
                                                                                                           97
                                                  MODE = 0
 Output Power                           POUT                                                                                  mW
                                                  RREC = 32Ω, f = 1kHz, THD < 1%, BIAS_
                                                                                                           74
                                                  MODE = 1
 Full-Scale Output                                AV_RECPGA = 0dB (Note 8)                                  1                VRMS
                                                                      RCVLVOL = 0x00            -63       -61       -59.5
 Receiver Volume Control (PGA)       AV_RECPGA (Notes 6 and 9)                                                                 dB
                                                                      RCVLVOL = 0x1F           +7.2        +8      +8.75
www.maximintegrated.com                                                                                       Maxim Integrated │ 13


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                    CONDITIONS                      MIN       TYP       MAX      UNITS
                                                  +8dB to +6dB                                             0.5
                                                  +6dB to +0dB                                              1
 Volume Control Step Size
                                                  0dB to -14dB                                              2                  dB
 (Note 9)
                                                  -14dB to -38dB                                            3
                                                  -38dB to -62dB                                            4
 Mute Attenuation                                 f = 1kHz                                      87         97                  dB
 Output Offset Voltage                   VOS      AV_REC = -62dB, TA = +25°C                                          ±3      mV
                                                  Peak voltage,
                                                  A-weighted,         Into shutdown                       -67
 Click-and-Pop Level                     KCP      32 samples                                                                  dBV
                                                  per second,         Out of shutdown                     -68
                                                  AV_REC = 0dB
                                                  No sustained        RL = 32W                            500
 Capacitive Drive Capability                                                                                                   pF
                                                  oscillations        RL = ∞                              100
DAC PLAYBACK PATH TO LINEOUT AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR       fS = 48kHz, fMCLK = 12.288MHz                           100                  dB
                                                  f = 1kHz, RLOUT = 10kW
 Total Harmonic Distortion + Noise     THD+N                                                              -86        -70       dB
                                                  (0.5VRMS output level)
SINGLE-ENDED ANALOG INPUT TO LINE OUT AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                                                98                  dB
                                                  f = 1kHz, RLOUT = 10kW
 Total Harmonic Distortion + Noise     THD+N                                                              -86                  dB
                                                  (0.5VRMS output level)
                                                  VSPK_VDD = 2.8V to 5.5V                       60         74
 Power-Supply Rejection Ratio                                              f = 217Hz                       74
                                        PSRR                                                                                   dB
 (Note 3)                                         VRIPPLE = 100mVP-P       f = 1kHz                        74
                                                                           f = 10kHz                       73
LINE OUT AMPLIFIER (Note 7)
 Full-Scale Output                                (Note 8)                                               0.707               VRMS
 Line Output Amplifier Gain          AV_LOUTAMP                                                            -3                  dB
www.maximintegrated.com                                                                                       Maxim Integrated │ 14


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                    CONDITIONS                      MIN       TYP        MAX      UNITS
 Line Output Volume                                                    RCV_VOL = 0x00           -63        -61       -59.5
                                     AV_LOUTPGA (Notes 6 and 9)                                                                 dB
 Control (PGA)                                                         RCV_VOL = 0x1F          +7.2        +8       +8.75
                                                  8dB to 6dB                                               0.5
                                                  6dB to 0dB                                                 1
 Volume Control Step Size
                                                  0dB to -14dB                                               2                  dB
 (Note 9)
                                                  -14dB to -38dB                                             3
                                                  -38dB to -62dB                                             4
 Mute Attenuation                                 f = 1kHz                                       87         97                  dB
                                                  No sustained          RLOUT = 1kW                        500
 Capacitive Drive Capability                                                                                                    pF
                                                  oscillations          RLOUT = ∞                          100
DAC PLAYBACK PATH TO SPEAKER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                                                 91                  dB
                                                  f = 1kHz, POUT = 200mW, ZSPK = 8W +
 Total Harmonic Distortion + Noise     THD+N                                                               -70                  dB
                                                  68µH, fMCLK = 12.288MHz
                                                  SPKL to SPKR and SPKR to SPKL,
 Crosstalk                                                                                                -104                  dB
                                                  POUT = 640mW, f = 1kHz
 Output Noise                                                                                               27                µVRMS
DIFFERENTIAL ANALOG INPUT TO SPEAKER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR        Output referenced to 2VRMS                               91                  dB
                                                   f = 1kHz, POUT = 200mW,
 Total Harmonic Distortion + Noise     THD+N                                                               -70                  dB
                                                   ZSPK = 8W + 68mH
 Output Noise                                                                                               28                µVRMS
                                                   VSPK_VDD= 2.8V to 5.5V                        50         80
 Power-Supply Rejection Ratio                                                   f = 217Hz                   68
                                        PSRR                                                                                    dB
 (Note 3)                                          VRIPPLE = 100mVP-P           f = 1kHz                    67
                                                                                f = 10kHz                   61
www.maximintegrated.com                                                                                        Maxim Integrated │ 15


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                    CONDITIONS                      MIN       TYP        MAX      UNITS
SPEAKER AMPLIFIER (Note 7)
                                                                      VSPK_VDD = 5.0V                     1450
                                                  f = 1kHz, THD+N     VSPK_VDD = 4.2V                     1000
                                                  = 1%, ZSPK =
                                                                      VSPK_VDD = 3.7V                      780
                                                  8W + 68µH, WLP
                                                  package             VSPK_VDD = 3.3V                      600
                                                                      VSPK_VDD = 3.0V                      500
 Output Power                           POUT                                                                                   mW
                                                                      VSPK_VDD = 5.0V                     1800
                                                  f = 1kHz, THD+N     VSPK_VDD = 4.2V                     1250
                                                  = 10%, ZSPK =
                                                                      VSPK_VDD = 3.7V                      970
                                                  8W + 68µH, WLP
                                                  package             VSPK_VDD = 3.3V                      760
                                                                      VSPK_VDD = 3.0V                      620
                                                                      VSPK_VDD = 5.0V                     2600
                                                  f = 1kHz, THD+N     VSPK_VDD = 4.2V                     1800
                                                  = 1%, ZSPK =
                                                                      VSPK_VDD = 3.7V                     1400
                                                  4W + 33µH, WLP
                                                  package             VSPK_VDD = 3.3V                     1100
                                                                      VSPK_VDD = 3.0V                      900
 Output Power                           POUT                                                                                   mW
                                                                      VSPK_VDD = 5.0V                     3250
                                                  f = 1kHz, THD+N     VSPK_VDD = 4.2V                     2250
                                                  = 10%, ZSPK =
                                                                      VSPK_VDD = 3.7V                     1700
                                                  4W + 33µH, WLP
                                                  package             VSPK_VDD = 3.3V                     1350
                                                                      VSPK_VDD = 3.0V                     1100
 Full-Scale Output                                AV_SPK = +6dB (Note 8)                                     2                VRMS
 Speaker Output Amplifier Gain       AV_SPKAMP                                                             +6                   dB
                                                                         SPVOLL = 0x00          -51        -48       -44.5
 Speaker Volume Control (PGA)        AV_SPKPGA (Notes 6 and 9)                                                                  dB
                                                                         SPVOLR = 0x1F           13         14         15
                                                  14dB to 9dB                                              0.5
                                                  +9dB to -6dB                                               1
 Volume Control Step Size
                                                  -6dB to -14dB                                              2                  dB
 (Note 9)
                                                  -14dB to -32dB                                             3
                                                  -32dB to -48dB                                             4
 Mute Attenuation                                 f = 1kHz                                       76         84                  dB
www.maximintegrated.com                                                                                        Maxim Integrated │ 16


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                     CONDITIONS                     MIN       TYP        MAX      UNITS
 Output Offset Voltage                  VOS       AV_SPKPGA = -62dB, TA = +25°C                           ±0.5         ±4      mV
                                                  Peak voltage,
                                                  A-weighted,              Into shutdown                   -65
 Click-and-Pop Level                    KCP       32 samples                                                                   dBV
                                                  per second,              Out of shutdown                 -65
                                                  AV_SPK = 0dB
 DAC PLAYBACK PATH TO HEADPHONE AMPLIFIER PATH
                                                  fS = 48kHz,              Master or slave
                                                                                                           102
 Dynamic Range (Note 5)                  DR       fMCLK =                  mode                                                 dB
                                                  12.288MHz                Slave mode           94
                                                  f = 1kHz, POUT =         RHP = 16W                       -86        -77
 Total Harmonic Distortion + Noise     THD+N      10mW                     RHP = 32W                       -88                  dB
                                                  f = 1kHz, VOUT = 1VRMS, RHP = 10kW                       -88
                                                  f = 1kHz, VIN = -1dBFS, RHP = 10kW                      -105                  dB
 Crosstalk                                        HPL to HPR and HPR to HPL,
                                                                                                          -104                  dB
                                                  POUT = 5mW, f = 1kHz, RHP = 32W
                                                  VAVDD = VHPVDD = 1.65V to 2.0V                70          80
 Power-Supply Rejection Ratio                                               f = 217Hz                       79
                                       PSRR       VRIPPLE = 100mVP-P,                                                           dB
 (Note 3)                                                                   f = 1kHz                        79
                                                  AV_HP = 0dB
                                                                            f = 10kHz                       74
                                                                            MODE = 0 (voice)
                                                                                                           2.2
                                                                            8kHz
                                                  1kHz, 0dB input,          MODE = 0 (voice)
                                                                                                           1.1
                                                  highpass filter disabled  16kHz
 DAC Path Phase Delay                                                                                                           ms
                                                  measured from digital     MODE = 1
                                                  input to analog output                                   4.5
                                                                            (music) 8kHz
                                                                            MODE = 1
                                                                                                          0.76
                                                                            (music) 48kHz
 Gain Error                                                                                                  1         5        %
 Channel Gain Mismatch                                                                                       1                  %
SINGLE-ENDED ANALOG INPUT TO HEADPHONE AMPLIFIER PATH
 Dynamic Range (Note 5)                           AV_LINE = 0dB AV_HPPGA = 0 dB                            101                  dB
 Total Harmonic Distortion + Noise     THD+N      VIN = 250mVRMS, f =1kHz                                  -80                  dB
                                                  HPL to HPR and HPR to HPL,
 Crosstalk                                                                                                 -94                  dB
                                                  POUT = 5mW, f = 1kHz, RHP = 32W
www.maximintegrated.com                                                                                        Maxim Integrated │ 17


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                    CONDITIONS                      MIN       TYP       MAX      UNITS
                                                  VAVDD = VHPVDD = 1.65V to 2.0V                 40        60
 Power-Supply Rejection Ratio                                                  f = 217Hz                   61
                                        PSRR      VRIPPLE = 100mVP-P,                                                          dB
 (Note 3)                                                                      f = 1kHz                    61
                                                  AV_TOTAL = 0dB
                                                                               f = 10kHz                   60
HEADPHONE AMPLIFIER (Note 7)
                                                                          RHP = 16W              20        40
 Output Power                           POUT      f = 1kHz, THD = 1%                                                          mW
                                                                          RHP = 32W                        30
                                                  RHP = 16W, POUT = 10mW, f = 1kHz                        -88        -77
 Total Harmonic Distortion + Noise     THD+N      RHP = 10kW, VOUT = 1VRMS,                                                    dB
                                                                                                          -88
                                                   f = 1kHz
 Full-Scale Output                                AVHP = 0dB (Note 8)                                       1                VRMS
                                                                          HPVOL_ = 0x00         -69       -67        -65
 Headphone Volume Control (PGA)       AV_HPPGA                                                                                 dB
                                                                          HPVOL_ = 0x1F         2.5         3        3.5
                                                  +3dB to +1dB                                             0.5
                                                  +1dB to -5dB                                              1
 Volume Control Step Size
                                                  -5dB to -19dB                                             2                  dB
 (Note 9)
                                                  -19dB to -43dB                                            3
                                                  -43dB to -67dB                                            4
 Mute Attenuation                                 f = 1kHz                                                110                  dB
                                                                      TA = +25°C                          ±0.5        ±1
 Output Offset Voltage                   VOS      AV_HP = -67dB                                                               mV
                                                                      TA = TMIN to TMAX                               ±3
                                                  No sustained        RHP = 32W                           500
 Capacitive Drive Capability                                                                                                   pF
                                                  oscillations        RHP = ∞                             100
                                                  Peak voltage,
                                                  A-weighted,         Into shutdown                       -73
 Click-and-Pop Level                     KCP      32 samples                                                                  dBV
                                                  per second,         Out of shutdown                     -73
                                                  AV_HP = -67dB
JACK DETECTION
                                                                                               0.80 x    0.95 x    0.98 x
                                                  MICBIAS enabled
                                                                                             VMICBIAS VMICBIAS VMICBIAS
 JACKSNS High Threshold               VTH_HIGH                                                                                  V
                                                                                               0.80 x    0.95 x    0.98 x
                                                  MICBIAS disabled
                                                                                             VSPKLVDD VSPKLVDD VSPKLVDD
www.maximintegrated.com                                                                                       Maxim Integrated │ 18


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                 SYMBOL                    CONDITIONS                      MIN       TYP       MAX      UNITS
                                                                                               0.06 x    0.10 x    0.17 x
                                                  MICBIAS enabled
                                                                                             VMICBIAS VMICBIAS VMICBIAS
 JACKSNS Low Threshold                VTH_LOW                                                                                   V
                                                                                               0.06 x    0.10 x    0.17 x
                                                  MICBIAS disabled
                                                                                             VSPKLVDD VSPKLVDD VSPKLVDD
 JACKSNS Sense Voltage                 VSENSE     MICBIAS disabled                                     VSPKLVDD                 V
 JACKSNS Strong Pullup
                                        RSPU      MICBIAS disabled, JDWK = 0                    1.9        2.4       2.7       kΩ
 Resistance
 JACKSNS Weak Pullup Current            IWPU      MICBIAS disabled, JDWK = 1                                5         12       µA
                                                  JDEB = 00                                                25
 JACKSNS Glitch Debounce Period        tGLITCH                                                                                ms
                                                  JDEB = 11                                               200
www.maximintegrated.com                                                                                       Maxim Integrated │ 19


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                  SYMBOL                      CONDITIONS                    MIN      TYP      MAX      UNITS
 RECORD PATH LEVEL CONTROL
 Record Level Adjust Range           AV_ADCLVL    AVL/AVR = 0xF to 0x0 (Note 6)                 -12                 +3       dB
 Record Level Adjust Step Size                                                                             1                 dB
 Record Gain Adjust Range           AV_ADCGAIN AVLG/AVRG = 0x0 to 0x3 (Note 6)                    0                 42       dB
 Record Gain Adjust Step Size                                                                              6                 dB
 RECORD PATH VOICE MODE IIR LOWPASS FILTER (MODE = 0)
                                                                                               0.444
                                                  Ripple limit cutoff
                                                                                                x fS
 Passband Cutoff                        fPLP                                                                                 Hz
                                                                                               0.449
                                                  -3dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1               0.1       dB
                                                                                                                  0.47
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation                             f > fSLP                                       74                          dB
 RECORD PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 0, fLRCLK < 50kHz)
                                                                                                0.43
                                                  Ripple limit cutoff
                                                                                                x fS
                                                                                                0.48
 Passband Cutoff                        fPLP      -3dB cutoff                                                                Hz
                                                                                                x fS
                                                                                                 0.5
                                                  -6.02dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1              +0.1       dB
                                                                                                                  0.58
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation                             f < fSLP                                       60                          dB
 RECORD PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 1, fLRCLK > 50kHz)
                                                                                               0.208
                                                  Ripple Limit cutoff
                                                                                                x fS
 Passband Cutoff                        fPLP                                                                                 Hz
                                                                                                0.28
                                                  -3dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1              +0.1       dB
                                                                                                                  0.45
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation                             f < fSLP                                       60                          dB
www.maximintegrated.com                                                                                       Maxim Integrated │ 20


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                  SYMBOL                       CONDITIONS                    MIN     TYP      MAX      UNITS
 RECORD PATH DC-BLOCKING HIGHPASS FILTER
 DC Attenuation                      AV_ADCHPF    AHPF = 1                                                90                 dB
 RECORD PATH PROGRAMMALE BIQUAD FILTER
 Preattenuator Gain Range                                                                        -15                0        dB
 Preattenuator Step Size                                                                                   1                 dB
                                                                                               0.0008
                                                  Highpass filter
                                                                                                 x fS
                                                                                                 0.02
                                                  High-frequency shelving filter
                                                                                                 x fS
                                                                                                0.002
 Cutoff Frequency                                 Lowpass filter                                                             Hz
                                                                                                 x fS
                                                                                               0.0008
                                                  Low-frequency shelving filter
                                                                                                 x fS
                                                                                               0.0008
                                                  Peak filter
                                                                                                 x fS
 Quality Factor                          Q        Peak filter                                                      10
 DIGITAL SIDETONE: RECORD PATH TO PLAYBACK PATH (MODE = 0)
 Sidetone Level Adjust Range          AV_STLVL    DVST = 0x1F to 0x01                           -60.5             -0.5       dB
 Sidetone Level Adjust Step Side                                                                           2                 dB
                                                  fIN = 1kHz, full-scale amplitude, fS = 8kHz             1.8
 Sidetone Path Phase Delay                                                                                                   ms
                                                  highpass filter disabled          fS = 16kHz            0.9
 PLAYBACK PATH LEVEL CONTROL
 Playback Path Attenuation
                                     AV_DACLVL    DV = 0xF to 0x0 (Note 6)                       -15                0        dB
 Range
 Playback Path Attenuation Step
                                                                                                           1                 dB
 Size
 Playback Path Gain Adjust
                                    AV_DACGAIN DVG = 00 to 11 (Note 6)                             0               18        dB
 Range
 Playback Path Gain Adjust Step
                                                                                                           6                 dB
 Size
www.maximintegrated.com                                                                                       Maxim Integrated │ 21


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                  SYMBOL                      CONDITIONS                    MIN      TYP      MAX      UNITS
 PLAYBACK PATH VOICE MODE IIR LOWPASS FILTER (MODE = 0)
                                                                                               0.448
                                                  Ripple limit cutoff
                                                                                                x fS
 Passband Cutoff                        fPLP                                                                                 Hz
                                                                                               0.451
                                                  -3dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1              +0.1       dB
                                                                                                                  0.476
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation (Note 11)                   f > fSLP                                       75                          dB
 PLAYBACK PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 0, fLRCLK < 50kHz)
                                                                                                0.43
                                                  Ripple limit cutoff
                                                                                                x fS
                                                                                                0.47
 Passband Cutoff                        fPLP      -3dB cutoff                                                                Hz
                                                                                                x fS
                                                                                                 0.5
                                                  -6.02dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1              +0.1       dB
                                                                                                                   0.58
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation (Note 11)                   f > fSLP                                       60                          dB
 PLAYBACK PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE1 = 1, DHF = 1 for fLRCLK > 50kHz)
                                                                                                0.24
                                        fPLP      Ripple limit cutoff
                                                                                                x fS
 Passband Cutoff                                                                                                             Hz
                                                                                                0.31
                                                  -3dB cutoff
                                                                                                x fS
 Passband Ripple                                  f < fPLP                                      -0.1              +0.1       dB
                                                                                                                  0.477
 Stopband Cutoff                        fSLP                                                                                 Hz
                                                                                                                   x fS
 Stopband Attenuation (Note 11)                   f < fSLP                                       60                          dB
 PLAYBACK PATH DC-BLOCKING HIGHPASS FILTER
 DC Attenuation                                   DHPF = 1                                                89                 dB
www.maximintegrated.com                                                                                       Maxim Integrated │ 22


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                  SYMBOL                      CONDITIONS                     MIN     TYP      MAX      UNITS
 PLAYBACK PATH DYNAMIC RANGE CONTROL
 Gain Range                                                                                        0                12       dB
 Compression Threshold                                                                           -31                 0      dBFS
 Expansion Threshold                                                                             -66               -35      dBFS
 Attack Time                                                                                   0.0005              0.2        s
 Release Time                                                                                  0.0625                8        s
 PLAYBACK PATH PARAMETRIC EQUALIZER
 Number of Bands                                                                                           7                Bands
 Per Band Gain Range                                                                           -12                 +12       dB
 Preattenuator Gain Range                                                                      -15                   0       dB
 Preattenuator Step Size                                                                                   1                 dB
                                                                                               0.0008
                                                  Highpass filter
                                                                                                 x fS
                                                                                                 0.02
                                                  High-frequency shelving filter
                                                                                                 x fS
                                                                                                0.002
 Cutoff Frequency                                 Lowpass filter                                                             Hz
                                                                                                 x fS
                                                                                               0.0008
                                                  Low-frequency shelving filter
                                                                                                 x fS
                                                                                               0.0008
                                                  Peak filter
                                                                                                 x fS
 Quality Factor                          Q        Peak filter                                                       10
www.maximintegrated.com                                                                                       Maxim Integrated │ 23


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Digital Input/Output Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                  SYMBOL                   CONDITIONS                     MIN       TYP       MAX      UNITS
 MCLK
 Input High Voltage                       VIH                                                 1.26                            V
 Input Low Voltage                        VIL                                                                      0.6        V
 Input Leakage Current                  IIH, IIL    VDVDDIO = 2.0V, TA = +25°C                  -1                 +1        µA
 Input Capacitance                                                                                        10                 pF
 SDIN, BCLK, LRCLK (Input)
                                                                                              0.7 x
 Input High Voltage                       VIH                                                                                 V
                                                                                            VDVDDIO
                                                                                                                  0.3 x
 Input Low Voltage                        VIL                                                                                 V
                                                                                                               VDVDDIO
 Input Hysteresis                                                                                        100                 mV
 Input Leakage Current                  IIH, IIL    VDVDDIO = 3.6V, TA = +25°C                  -1                 +1        µA
 Input Capacitance                                                                                        10                 pF
 BCLK, LRCLK, SDOUT (Output)
                                                                                            VDVDDIO
 Output High Voltage                     VOH        IOH = 3mA                                                                 V
                                                                                              - 0.4
 Output Low Voltage                       VOL       IOL = 3mA                                                      0.4        V
                                                    VDVDDIO = 2.0V, TA = +25°C,
 Input Leakage Current                  IIH, IIL                                                -1                 +1        µA
                                                    high-impedance state
 SDA, SCL (Input)
                                                                                              0.7 x
 Input High Voltage                       VIH                                                                                 V
                                                                                            VDVDDIO
                                                                                                                  0.3 x
 Input Low Voltage                        VIL                                                                                 V
                                                                                                               VDVDDIO
 Input Hysteresis                                                                                        100                 mV
 Input Leakage Current                  IIH, IIL    VDVDDIO = 2.0V, TA = +25°C                  -1                 +1        µA
 Input Capacitance                                                                                        10                 pF
 SDA, IRQ (Output)
                                                                                                                  0.2 x
 Output Low Voltage                       VOL       VDVDDIO = 1.65V, IOH = 3mA                                                V
                                                                                                               VDVDDIO
 Output High Current                      IOH       VDVDDIO = 1.65V, IOL = 3mA                                      1        µA
www.maximintegrated.com                                                                                      Maxim Integrated │ 24


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Digital Input/Output Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                  SYMBOL                   CONDITIONS                     MIN       TYP       MAX      UNITS
 DIGITAL MICROPHONE DATA (DMD) INPUT
                                                                                             0.65 x
 Input High Voltage                       VIH                                                                                 V
                                                                                            VDVDDIO
                                                                                                                 0.35 x
 Input Low Voltage                        VIL                                                                                 V
                                                                                                               VDVDDIO
 Input Hysteresis                                                                                        100                 mV
 Input Leakage Current                  IIH, IIL    VDVDDIO = 2.0V, TA = +25°C                -25                 +25        µA
 Input Capacitance                                                                                        10                 pF
 DIGITAL MICROPHONE CLOCK (DMC) OUTPUT
                                                                                            VAVDD -
 Output High Voltage                     VOH        IOH = 3mA                                                                 V
                                                                                              0.4
 Output Low Voltage                       VOL       IOL = 3mA                                                     0.4         V
www.maximintegrated.com                                                                                      Maxim Integrated │ 25


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Input Clock Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS
= 0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
            PARAMETER                  SYMBOL                   CONDITIONS                     MIN      TYP         MAX    UNITS
 INPUT CLOCK CHARACTERISTICS
                                                    fS = 8kHz, voice mode filters
                                                                                              2.048                  60
                                                    (MODE = 0)
                                                    fS = 48kHz, music mode filters
 MCLK Input Frequency                    fMCLK                                                  10                   60      MHz
                                                    (MODE = 1)
                                                    fS = 96kHz, music mode filters
                                                                                             12.288                  60
                                                    (MODE = 1)
                                                    PSCLK = 01                                  40       50          60
 MCLK Input Duty Cycle                                                                                                        %
                                                    PSCLK = 10 or 11                            30                   70
 Maximum MCLK Input Jitter                                                                                1                   ns
                                                    DHF = 0                                      8                   48
 LRCLK Sample Rate (Note 12)            fLRCLK                                                                               kHz
                                                    DHF = 1                                     48                   96
 DAI LRCLK Average Frequency                        FREQ = 0x8 to 0xF                            0                    0
                                                                                                                              %
 Error (Note 13)                                    FREQ = 0x0                               -0.025               +0.025
                                                    8kHz ≤ fS ≤ 48kHz,
                                                                             OSR = 128
                                                    voice mode filters                      256 x fS
                                                                             or 64
                                                    (MODE = 0), DHF = 0
                                                    8kHz ≤ fS ≤ 48kHz,       OSR = 128      256 x fS
 Minimum PCLK to LRCLK
                                                    music mode filters                                                      fPCLK
 Frequency Ratio
                                                    (MODE = 1), DHF = 0      OSR = 64       208 x fS
                                                    48kHz < fS ≤ 96kHz,
                                                    music mode filters       OSR = 64       128 x fS
                                                    (MODE = 1), DHF = 1
 PLL Lock Time                                                                                            2           7       ms
 Maximum LRCLK Input Jitter
                                                                                                                    ±100      ns
 to Maintain PLL Lock
 Soft-Start/Stop Time                                                                                    10                   ms
www.maximintegrated.com                                                                                      Maxim Integrated │ 26


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Digital Audio Interface Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                  SYMBOL                   CONDITIONS                     MIN       TYP       MAX      UNITS
 DIGITAL AUDIO INTERFACE TIMING CHARACTERISTICS
 BCLK Cycle Time                          tBCLK    Slave mode                                  80                            ns
 BCLK High Time                          tBCLKH    Slave mode                                  20                            ns
 BCLK Low Time                           tBCLKL    Slave mode                                  20                            ns
 BCLK or LRCLK Rise and
                                           tr, tf  Master mode, CL = 15pF                                 5                  ns
 Fall Time
 SDIN to BCLK Setup Time                 tSETUP                                                20                            ns
 LRCLK to BCLK Setup Time             tSYNCSET     Slave mode                                  20                            ns
 SDIN to BCLK Hold Time                   tHOLD                                                20                            ns
 LRCLK to BCLK Hold Time             tSYNCHOLD     Slave mode                                  20                            ns
                                                                     TDM = 1                             20
 Minimum Delay Time from LSB                                         TDM = 1, FSW = 1                    20
 BCLK Falling Edge to High-             tHIZOUT    Master mode                                                               ns
 Impedance State                                                     TDM = 1, FSW = 0                    20
                                                                     TDM = 0, DLY = 1                    20
 LRCLK Rising Edge to
                                       tSYNCTX     C = 30pF, TDM = 1, FSW = 1                                      40        ns
 SDOUT MSB Delay
                                                                     TDM = 1, BCLK
                                                                                                                   50
 BCLK to SDOUT Delay                     tCLKTX    C = 30pF          rising edge                                             ns
                                                                     TDM = 0                                       50
                                                                     TDM = 1                  -15                 +15
 Delay Time from BCLK to LRCLK        tCLKSYNC     Master mode                                                    0.8 x      ns
                                                                     TDM = 0
                                                                                                                 tBCLK
www.maximintegrated.com                                                                                      Maxim Integrated │ 27


MAX98090                                                                               Ultra-Low Power Stereo Audio Codec
                                                                                                                                       tBCLK
                                   tF
                t                                                                                                         tBCLKH                   tBCLKL
          BCLK R                                                                        BCLK
    (OUTPUT)                                                                         (INPUT)
                              tCLKSYNC                                                                            tSYNCSET
        LRCLK                                                                         LRCLK
    (OUTPUT)                                                                         (INPUT)
                            tHIZOUT             tCLKTX                                                  tHIZOUT                tCLKTX
        SDOUT                                                                         SDOUT
                    LSB                   HI-Z                   MSB                               LSB                HI-Z                        MSB
    (OUTPUT)                                                                       (OUTPUT)
                                                          tSETUP tHOLD                                                                     tSETUP tHOLD
          SDIN                                                                          SDIN
                    LSB                                        MSB                                 LSB                                          MSB
       (INPUT)                                                                       (INPUT)
                                      MASTER MODE                                                                 SLAVE MODE
Figure 1. I2S Audio Interface Timing Diagrams (TDM = 0)
                                                                 TDM SHORT MODE TIMING (fSW= 0)
                                                                                                                                         tBCLK
                                               tR                                                                          tBCLKH                    tBCLKL
                         tF
      BCLK
 (OUTPUT)                                                                            BCLK
                                                                                (OUTPUT)
               tCLKSYNC                         tCLKSYNC                                    tSYNCSET                         tSYNCHOLD
    LRCLK
                                                                                    LRCLK
 (OUTPUT)
                                                                                (OUTPUT)
        tHIZOUT                 tCLKTX                                                   tHIZOUT             tCLKTX
    SDOUT                                                                          SDOUT
                LSB            HI-Z               MSB                                            LSB        HI-Z                   MSB
 (OUTPUT)                                                                       (OUTPUT)
                                                         tSETUP   tHOLD                                                                      tHOLD    tSETUP
      SDIN
                  LSB                           MSB                                  SDIN           LSB                          MSB
   (INPUT)
                                                                                  (INPUT)
                                        MASTER MODE                                                       SLAVE MODE
                                                                  TDM LONG MODE TIMING (fSW = 1)
                                                                                                                                         tBCLK
                         tF                    tR                                                                           tBCLKH                    tBCLKL
      BCLK                                                                           BCLK
 (OUTPUT)                                                                       (OUTPUT)
                        tENDSYNC                tCLKSYNC
    LRCLK                                                                           LRCLK
 (OUTPUT)                                                                       (OUTPUT)
        tHI-ZOUT                 tSYNCTX                        tCLKTX                    tHI-ZOUT             tSYNCTX                              tCLKTX
    SDOUT                                                                          SDOUT
                LSB            HI-Z               MSB                           (OUTPUT)         LSB        HI-Z                   MSB
 (OUTPUT)
                                                         tSETUP   tHOLD                                                                      tSETUP    tHOLD
      SDIN                                                                           SDIN
                  LSB                           MSB                                                LSB                           MSB
   (INPUT)                                                                        (INPUT)
                                         MASTER MODE                                                                   SLAVE MODE
Figure 2. TDM Audio Interface Short Mode Timing Diagram (TDM = 1, BCI = 1)
www.maximintegrated.com                                                                                                                 Maxim Integrated │ 28


MAX98090                                                                                     Ultra-Low Power Stereo Audio Codec
I2C Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                           SYMBOL                            CONDITIONS                         MIN             TYP         MAX      UNITS
 I2C TIMING CHARACTERISTICS
                                                                    Guaranteed by SCL pulse width low
 Serial Clock Frequency                             fSCL                                                               0                         400        kHz
                                                                    and high
 Bus Free Time Between STOP
                                                    tBUF                                                              1.3                                    µs
 and START Conditions
 Hold Time (Repeated) START
                                                 tHD,STA                                                              0.6                                    µs
 Condition
 SCL Pulse-Width Low                               tLOW                                                               1.3                                    µs
 SCL Pulse-Width High                              tHIGH                                                              0.6                                    µs
 Setup Time for a Repeated START
                                                  tSU,STA                                                             0.6                                    µs
 Condition
                                                                    RPU = 475Ω, CB = 100pF, 400pF                      0                         900
 Data Hold Time                                  tHD,DAT            Transmitting                                       0                         900         ns
                                                                    Receiving                                                                      0
 Data Setup Time                                 tSU,DAT                                                             100                                     ns
                                                                                                                   20 + 0.1
 SDA and SCL Receiving Rise Time                       tR           (Note 14)                                                                    300         ns
                                                                                                                     x CB
                                                                                                                   20 + 0.1
 SDA and SCL Receiving Fall Time                       tF           (Note 14)                                                                    300         ns
                                                                                                                     x CB
                                                                    RPU = 475Ω, CB = 100pF to 400pF                20 + 0.1
 SDA Transmitting Fall Time                            tF                                                                                        250         ns
                                                                    (Note 14)                                        x CB
 Setup Time for STOP Condition                   tSU,STO                                                              0.6                                    µs
                                                                    Guaranteed by SDA transmitting fall
 Bus Capacitance                                      CB                                                                                         400         pF
                                                                    time
 Pulse Width of Suppressed Spike                      tSP                                                              0                          50         ns
                        SDA
                                                                               tSU,STA                                       tBUF
                                                        tSU,DAT                                  tHD,STA
                                             tLOW                                                        tSP
                                                                   tHD,DAT                                   tSU,STO
                        SCL                              tHIGH
                          tHD,STA
                                                    tR          tF
                             START CONDITION                                         REPEATED START                    STOP         START
                                                                                       CONDITION                     CONDITION    CONDITION
Figure 3. I2C Interface Timing Diagram
www.maximintegrated.com                                                                                                                     Maxim Integrated │ 29


MAX98090                                                                           Ultra-Low Power Stereo Audio Codec
Digital Microphone Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected
between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P =
CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                    SYMBOL                           CONDITIONS             MIN     TYP       MAX      UNITS
 DIGITAL MICROPHONE TIMING CHARACTERISTICS
                                                         MICCLK = 000                                  fPCLK/2
                                                         MICCLK = 001                                  fPCLK/3
                                                         MICCLK = 010                                  fPCLK/4
 DMC Frequency                             fDMC                                                                              MHz
                                                         MICCLK = 011                                  fPCLK/5
                                                         MICCLK = 100                                  fPCLK/6
                                                         MICCLK = 101                                  fPCLK/8
 DMD to DMC Setup Time                    tSU,MIC        Either clock edge                       20                           ns
 DMD to DMC Hold Time                     tHD,MIC        Either clock edge                        0                           ns
                                                                  1/fDMC
                                      DMC
                                                     tHD,MIC tSU,MIC
                                                                      tHD,MIC tSU,MIC
                                      DMD       LEFT             RIGHT             LEFT   RIGHT
Figure 4. Digital Microphone Timing Diagram
Note 2: The MAX98090 is 100% production tested at TA =+25°C. Specifications over temperature limits are guaranteed by design.
Note 3: BIAS derived from a bandgap reference (BIAS_MODE = 1).
Note 4: Analog supply current = AVDD + HPVDD, speaker supply current = SPKLVDD + SPKRVDD, and digital supply current =
           DVDD + DVDDIO.
Note 5: Dynamic range measurements are performed with the EIAJ method (a -60dBFS output signal at 1kHz, A-weighted and nor-
           malized to 0dBFS; f = 20Hz – 20kHz).
Note 6: Gain measured relative to the 0dB setting.
Note 7: Performance measured using DAC Inputs, unless otherwise stated.
Note 8: Full-scale analog output with 0dB of programmable gain, and a 0dBFS DAC input amplitude, a 1VRMS differential analog
           input amplitude, or a 0.5VRMS single-ended analog input amplitude.
Note 9: Performance measured using an analog input to amplifier output path.
Note 10: Digital filter performance is invariant over temperature and production tested at TA = +25°C.
Note 11: The filter specification is accurate only for synchronous clocking modes (integer MCLK to LRCLK ratio).
Note 12: fLRCLK may be any rate in the indicated range. Asynchronous and non-integer fMCLK/fLRCLK ratios can exhibit some full-
           scale performance degradation compared to synchronous integer ratios.
Note 13: In master-mode operation, the accuracy of the MCLK input proportionally determines the accuracy of the sample clock rate.
Note 14: CB is in pF.
www.maximintegrated.com                                                                                       Maxim Integrated │ 30


MAX98090                                                          Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                 DEVICE MODE AND                     IAVDD IHPVDD    IDVDD  IDVDDIO ISPK_VDD   POWER
                                                                                                            RANGE
                  CONFIGURATION                       (mA)  (mA)      (mA)    (mA)    (mA)      (mW)
                                                                                                             (dB)
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO HEADPHONE OUTPUT (MUSIC FILTERS)
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music         1.39   1.28     1.04    0.02     0.00      6.05        102
 filters, RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music         0.94   0.51     1.02    0.02     0.00      3.84         99
 filters, RLOAD = 32Ω, low power mode
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music
                                                      1.39   1.28      1.11   0.02     0.00      6.14        102
 filters, RLOAD = 32Ω, dynamic range control
 enabled
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music         1.39   1.28     1.65    0.02     0.00      6.78        102
 filters, RLOAD = 32Ω, parametric equalizer enabled
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 96kHz, 20-bit, music         1.39   1.28     1.17    0.02     0.00      6.21        102
 filters, RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, music filters,  1.40   1.29     1.00    0.02     0.00      6.03        102
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, music filters,  0.96   0.51     1.00    0.02     0.00      3.85         99
 RLOAD = 32Ω, low power mode
www.maximintegrated.com                                                                         Maxim Integrated │ 31


MAX98090                                                          Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                 DEVICE MODE AND                     IAVDD IHPVDD    IDVDD IDVDDIO ISPK_VDD    POWER
                                                                                                            RANGE
                  CONFIGURATION                       (mA)  (mA)      (mA)   (mA)     (mA)      (mW)
                                                                                                             (dB)
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO HEADPHONE OUTPUT (VOICE FILTERS)
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,     1.35   1.28     0.89   0.02     0.00       5.81        101
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,     0.91   0.51     0.89   0.02     0.00       3.62        98.5
 RLOAD = 32Ω, low power mode
 Mono DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,     0.78   0.69     0.82   0.02     0.00       3.64        101
 RLOAD = 32Ω
 Mono DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,     0.56   0.30     0.82   0.02     0.00       2.55        98.5
 RLOAD = 32Ω, low power mode
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters,    1.35   1.28     0.94   0.02     0.00       5.87         99
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters,    0.91   0.50     0.94   0.02     0.00       3.68         97
 RLOAD = 32Ω, low power mode
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO SPEAKER OUTPUT
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music         1.10   0.00     1.04   0.02     2.18      11.47         91
 filters, RLOAD = 8Ω, LLOAD = 68µH
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music
                                                      0.91   0.00     1.03   0.02     2.18      10.93         91
 filters, RLOAD = 8Ω, LLOAD = 68µH, low power
 mode
 Mono DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music         0.65   0.00     0.90   0.02      1.11      6.36         91
 filters, RLOAD = 8Ω, LLOAD = 68µH
 Mono DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music
                                                      0.51   0.00     0.90   0.02      1.11      6.09         91
 filters, RLOAD = 8Ω, LLOAD = 68µH, low power
 mode
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 96kHz, 20-bit, music         1.21   0.00     1.17   0.02     2.18      11.61         91
 filters, RLOAD = 8Ω, LLOAD = 68µH
 Stereo DAC Playback to Speaker Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, music filters,  1.21   0.00     1.06   0.02     2.18      11.50         91
 RLOAD = 8Ω, LLOAD = 68µH
www.maximintegrated.com                                                                         Maxim Integrated │ 32


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                    DEVICE MODE AND              IAVDD  IHPVDD    IDVDD  IDVDDIO   ISPK_VDD    POWER
                                                                                                            RANGE
                     CONFIGURATION                (mA)   (mA)      (mA)    (mA)       (mA)      (mW)
                                                                                                             (dB)
 ANALOG AUDIO LINE INPUT TO DIGITAL RECORD PATH OUTPUT
 Stereo Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     3.09    0.00     1.38    0.02       0.00       7.19         98
 filters
 Stereo Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     1.97    0.00     1.39    0.02       0.00       5.21         98
 filters, low power mode
 Stereo Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     3.10    0.00     1.46    0.02       0.00       7.30         98
 filters, Digital Biquad Filter Enabled
 Mono Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     1.86    0.00     1.10    0.02       0.00       4.65         98
 filters
 Stereo Single-Ended Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     3.19    0.00     1.35    0.02       0.00       7.33         97
 filters
 Stereo Single-Ended Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music     2.02    0.00     1.35    0.02       0.00       5.24         97
 filters, low power mode
 Stereo Single-Ended Line Input to Record Path
                                                  2.90    0.00     0.90    0.02       0.00       6.28         98
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters
 Stereo Single-Ended Line Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters  1.73    0.00     0.90    0.02       0.00       4.20         97
 low power mode
www.maximintegrated.com                                                                         Maxim Integrated │ 33


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                  DEVICE MODE AND                 IAVDD IHPVDD    IDVDD  IDVDDIO   ISPK_VDD    POWER
                                                                                                            RANGE
                   CONFIGURATION                   (mA)  (mA)      (mA)    (mA)       (mA)      (mW)
                                                                                                             (dB)
 ANALOG MICROPHONE INPUT TO DIGITAL RECORD PATH OUTPUT (MUSIC FILTERS)
 Stereo Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      3.50   0.00     1.36    0.02       0.00       7.88         97
 filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      2.22   0.00     1.38    0.02       0.00       5.65         97
 filters, low power mode
 Mono Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      2.02   0.00     1.05    0.02       0.00       4.90         97
 filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      1.35   0.00     1.08    0.02       0.00       3.74         97
 filters, low power mode
 ANALOG MICROPHONE INPUT TO DIGITAL RECORD PATH OUTPUT (VOICE FILTERS)
 Stereo Analog Microphone Input to Record Path
                                                   3.20   0.00     0.91    0.02       0.00       6.81         99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters   1.93   0.00     0.92    0.02       0.00       4.57         98
 low power mode
 Mono Analog Microphone Input to Record Path
                                                   1.87   0.00     0.82    0.02       0.00       4.35         99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters   1.20   0.00     0.83    0.02       0.00       3.18         98
 low power mode
 Stereo Analog Microphone Input to Record Path
                                                   3.26   0.00      1.11   0.02       0.00       7.16         98
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters  1.98   0.00     1.12    0.02       0.00       4.91         97
 low power mode
 Mono Analog Microphone Input to Record Path
                                                   1.90   0.00     0.94    0.02       0.00       4.54         98
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 16kHz, 16-bit, voice filters  1.23   0.00     0.94    0.02       0.00       3.35         97
 low power mode
www.maximintegrated.com                                                                         Maxim Integrated │ 34


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                  DEVICE MODE AND                 IAVDD IHPVDD    IDVDD  IDVDDIO   ISPK_VDD    POWER
                                                                                                            RANGE
                   CONFIGURATION                   (mA)  (mA)      (mA)    (mA)       (mA)      (mW)
                                                                                                             (dB)
 ANALOG AUDIO INPUT DIRECT TO DIGITAL RECORD PATH OUTPUT
 Stereo Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      2.85   0.00     1.39    0.02       0.00       6.76         99
 filters
 Stereo Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      1.84   0.00     1.39    0.02       0.00       4.98         98
 filters, low power mode
 Mono Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      1.61   0.00     1.08    0.02       0.00       4.20         99
 filters
 Mono Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music      1.09   0.00     1.09    0.02       0.00       3.29         98
 filters, low power mode
 ANALOG AUDIO INPUT TO ANALOG AUDIO OUTPUT
 Stereo Single-Ended Line Input to Headphones
                                                   1.12   2.42     0.00    0.00       0.00       6.34         99
 (RLOAD = 32Ω)
 Mono Single-Ended Line Input to Headphones
                                                   0.72   1.57     0.00    0.00       0.00       3.41         99
 (RLOAD = 32Ω)
 Stereo Differential Line Input to Headphones
                                                   1.07   1.26     0.00    0.00       0.00       4.19        100
 (RLOAD = 32Ω)
 Stereo Differential Line Input to Speaker Output
                                                   0.36   0.00     0.00    0.00       2.08       8.34         91
 (RLOAD = 8Ω, LLOAD = 68µH)
 Mono Differential Line Input to Speaker Output
                                                   0.31   0.00     0.00    0.00       1.04       4.42         91
 (RLOAD = 8Ω, LLOAD = 68µH)
 Stereo Single-Ended Line Input to Line Output
                                                   0.76   0.00     0.00    0.00       0.74       4.12         99
 (RLOAD = 10kΩ)
www.maximintegrated.com                                                                         Maxim Integrated │ 35


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V, slave mode operation.)
                                                                                                          DYNAMIC
                 DEVICE MODE AND                  IAVDD IHPVDD    IDVDD  IDVDDIO   ISPK_VDD    POWER
                                                                                                            RANGE
                  CONFIGURATION                    (mA)  (mA)      (mA)    (mA)       (mA)      (mW)
                                                                                                              (dB)
 FULL-DUPLEX AUDIO OPERATION
 Mono Full Duplex: Analog Microphone Input
 to Record Path and DAC Playback to Receiver
                                                                                                            REC: 99
 Output                                            2.67   0.00     0.95    0.02       0.73       8.61
                                                                                                             PB: 100
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,
 RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input
 to Record Path and DAC Playback to Receiver
                                                                                                            REC: 99
 Output                                            1.94   0.00     0.95    0.02       0.73       7.31
                                                                                                             PB: 98
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,
 RLOAD = 32Ω, low power mode
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                            REC: 97
 Output                                            2.69   0.69     1.22    0.02       0.00       7.51
                                                                                                             PB: 102
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music
 filters, RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                            REC: 97
 Output                                            1.80   0.30     1.24    0.02       0.00       5.26
                                                                                                             PB: 99
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, music
 filters, RLOAD = 32Ω, low power mode
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                            REC: 99
 Output                                            2.54   0.69     0.95    0.02       0.00       6.93
                                                                                                             PB: 102
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,
 RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                            REC: 99
 Output                                            1.66   0.30     0.96    0.02       0.00       4.67
                                                                                                             PB: 99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,
 RLOAD = 32Ω, low power mode
 Stereo Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphones                                                                 REC: 99
                                                   4.44   1.28     1.14    0.02       0.00      11.54
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,                                                            PB: 102
 RLOAD = 32Ω
 Stereo Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphones                                                                 REC: 99
                                                   2.73   0.51     1.15    0.02       0.00       7.18
 fMCLK = 13MHz, fS = 8kHz, 16-bit, voice filters,                                                            PB: 99
 RLOAD = 32Ω, low power mode
www.maximintegrated.com                                                                         Maxim Integrated │ 36


MAX98090                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                 ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT
                               TOTAL HARMONIC DISTORTION PLUS                                                             TOTALHARMONIC DISTORTION PLUS                                                               TOTAL HARMONIC DISTORTION PLUS
                               NOISE vs. FREQUENCY (MIC TO ADC)                                                           NOISEvs. FREQUENCY (MICTOADC)                                                               NOISE vs. FREQUENCY (MIC TO ADC)
                      0                                                                                              0                                                                                      0
                                                                     MAX98090 toc01
                                                                                                                                                                    MAX98090 toc02                                                                           MAX98090 toc03
                               fMCLK = 13MHz                                                                                  fMCLK = 13MHz                                                                           fMCLK = 12.288MHz
                    -10                                                                                            -10                                                                                     -10
                               fLRCLK = 8kHz                                                                                  fLRCLK = 44.1kHz                                                                        fLRCLK = 48kHz
                    -20        VIN = 707mVRMS                                                                      -20        VIN = 707mVRMS                                                               -20        VIN = 707mVRMS
                               AV_MIC = 0dB                                                                                   AV_MIC = 0dB                                                                            AV_MIC = 0dB
                    -30                                                                                            -30        CIN = 10mF                                                                   -30
THD+N RATIO (dB)                                                                                                                                                                       THD+N RATIO (dB)
                               CIN = 10µF                                                                                                                                                                             CIN = 10µF
                                                                                      THD+N RATIO (dB)
                    -40                                                                                            -40                                                                                     -40
                    -50                                                                                            -50                                                                                     -50
                    -60                                                                                            -60                                                                                     -60
                    -70                                                                                            -70                                                                                     -70
                    -80                                                                                            -80                                                                                     -80
                    -90                                                                                            -90                                                                                     -90
                   -100                                                                                           -100                                                                                    -100
                          10               100          1k         10k                                                   10          100         1k
                                                                                                                                               1,000      10k
                                                                                                                                                        10,000     100k
                                                                                                                                                                 100,000                                         10          100           1k        10k   100k
                                            FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)                                                                           FREQUENCY (Hz)
                               TOTAL HARMONIC DISTORTION PLUS                                                                 TOTAL HARMONIC DISTORTION PLUS                                                          TOTAL HARMONIC DISTORTION PLUS
                               NOISE vs. FREQUENCY (MIC TO ADC)                                                               NOISE vs. FREQUENCY (MIC TO ADC)                                                        NOISE vs. FREQUENCY (MIC TO ADC)
                     0                                                                                              0                                                                                        0
                                                                     MAX98090 toc04                                                                                   MAX98090 toc05                                                                         MAX98090 toc06
                               fMCLK = 12.288MHz                                                                              fMCLK = 13MHz                                                                           fMCLK = 13MHz
                    -10                                                                                            -10                                                                                     -10
                               fLRCLK = 96kHz                                                                                 fLRCLK = 8kHz                                                                           fLRCLK = 8kHz
                    -20        VIN = 707mVRMS                                                                      -20        VIN = 70.7mVRMS                                                              -20        VIN = 22.4mVRMS
                               AV_MIC = 0dB                                                                                   AV_MIC = +20dB                                                                          AV_MIC = +30dB
                    -30                                                                                            -30                                                                                     -30
THD+N RATIO (dB)                                                                               THD+N RATIO (dB)                                                                        THD+N RATIO (dB)
                               CIN = 10µF                                                                                     CIN = 10µF                                                                              CIN = 10µF
                    -40                                                                                            -40                                                                                     -40
                    -50                                                                                            -50                                                                                     -50
                    -60                                                                                            -60                                                                                     -60
                    -70                                                                                            -70                                                                                     -70
                    -80                                                                                            -80                                                                                     -80
                    -90                                                                                            -90                                                                                     -90
                   -100                                                                                           -100                                                                                    -100
                          10         100           1k        10k   100k                                                  10                100          1k         10k                                           10                100          1k         10k
                                            FREQUENCY (Hz)                                                                                  FREQUENCY (Hz)                                                                          FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                  Maxim Integrated │ 37


MAX98090                                                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                  ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT (CONTINUED)
                                                                                                                                                          COMMON-MODE REJECTION                                                                                  POWER-SUPPLY REJECTION RATIO
                                                GAIN vs. FREQUENCY (MIC TO ADC)                                                                        RATIO vs. FREQUENCY (MIC TO ADC)                                                                            vs. FREQUENCY (MIC TO ADC)
                                      5                                                                                                     100                                                                                                   100
                                                                                                 MAX98090 toc07                                                                                       MAX98090 toc08                                                                                                    MAX98090 toc09
                                                fMCLK = 13MHz
                                      4                                                                                                      90            AV_MIC = +20dB                                                                           90
                                                fLRCLK = 8kHz
                                      3         VIN = 707mVRMS                                                                               80                                  AV_MIC = +30dB                                                     80
                                                AV_MIC = 0dB
NORMALIZED GAIN (dB)
                                      2                                                                                                      70                                                                                                     70
                                                CIN = 10µF
                                      1                                                                                                      60                                                                                                     60
                                                                                                                  CMRR (dB)                                                                                                     PSRR (dB)
                                      0                                                                                                      50                                                                                                     50
                                     -1                                                                                                      40                        AV_MIC = +0dB                                                                40
                                     -2                                                                                                      30                                                                                                     30           fMCLK = 12.288MHz
                                     -3                                                                                                      20         fMCLK = 12.288MHz                                                                           20           fLRCLK = 48kHz
                                                                                                                                                        fLRCLK = 48kHz                                                                                           VRIPPLE = 100mVP-P
                                     -4                                                                                                      10         CIN = 10µF                                                                                  10           CIN = 10µF
                                     -5                                                                                                       0                                                                                                         0
                                           10                100           1k                 10k                                                  10          100          1k         10k          100k                                                    10          100           1k        10k          100k
                                                              FREQUENCY (Hz)                                                                                         FREQUENCY (Hz)                                                                                            FREQUENCY (Hz)
                                                  POWER-SUPPLY REJECTION RATIO                                                                             INBAND OUTPUT SPECTRUM,                                                                                INBAND OUTPUT SPECTRUM,
                                                vs. FREQUENCY (SPK_VDD to MICBIAS)                                                                          -3dBFS INPUT (MIC TO ADC)                                                                             -60dBFS INPUT (MIC TO ADC)
                                                                                     MAX98090 toc10
                                     120                                                                                                     20                                                                                                   20
                                                                                                                                                                                                      MAX98089 toc11                                                                                          MAX98090 toc12
                                                                           BIAS_MODE= 1                                                                                           fMCLK = 13MHz                                                                                            fMCLK = 13MHz
                                                                                                                                              0                                                                                                    0
  POWER-SUPPLY REJECTION RATIO(dB)
                                                                                                                                                                                    fLRCLK = 8kHz                                                                                            fLRCLK = 8kHz
                                     100
                                                                                                                                                                                    AV_MIC = 0dB                                                  -20                                        AV_MIC = 0dB
                                                                                                                                                                                                                       OUTPUT AMPLITUDE (dBFS)
                                                                                                                                             -20
                                                                                                                  OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                       CIN = 10µF                                                                                               CIN = 10µF
                                     80                                                                                                      -40                                                                                                  -40
                                                                                                                                             -60                                                                                                  -60
                                     60
                                                                                                                                             -80                                                                                                  -80
                                                                    BIAS_MODE= 0
                                     40                                                                                                     -100                                                                                                 -100
                                                                                                                                            -120                                                                                                 -120
                                     20          VSPK_VDD = 3.7V
                                                                                                                                            -140                                                                                                 -140
                                                 VMICBIAS = 2.8V
                                      0                                                                                                     -160                                                                                                 -160
                                           10          100         1,000        10,000       100,000                                               0     500 1000 1500 2000 2500 3000 3500 4000                                                             0    500 1000 1500 2000 2500 3000 3500 4000
                                                               FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)                                                                                           FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                          Maxim Integrated │ 38


MAX98090                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                     ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT (CONTINUED)
                                     INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,
                                      -3dBFS INPUT (MIC TO ADC)                                                                     -60dBFS INPUT (MIC TO ADC)                                                                      -3dBFS INPUT (MIC TO ADC)
                           20                                                                                             20                                                                                             20
                                                                              MAX98090 toc13                                                                                 MAX98090 toc14                                                                                 MAX98090 toc15
                                                            fMCLK = 13MHz                                                                                  fMCLK = 13MHz                                                                              fMCLK = 12.288MHz
                            0                             fLRCLK = 44.1kHz                                                 0                             fLRCLK = 44.1kHz                                                 0                               fLRCLK = 48kHz
                           -20                                AV_MIC = 0dB                                                -20                                AV_MIC = 0dB                                                -20                                AV_MIC = 0dB
OUTPUT AMPLITUDE (dBFS)                                                                        OUTPUT AMPLITUDE (dBFS)                                                                        OUTPUT AMPLITUDE (dBFS)
                                                                CIN = 10µF                                                                                     CIN = 10µF                                                                                     CIN = 10µF
                           -40                                                                                            -40                                                                                            -40
                           -60                                                                                            -60                                                                                            -60
                           -80                                                                                            -80                                                                                            -80
                          -100                                                                                           -100                                                                                           -100
                          -120                                                                                           -120                                                                                           -120
                          -140                                                                                           -140                                                                                           -140
                          -160                                                                                           -160                                                                                           -160
                                 0       5         10           15           20                                                 0       5         10           15           20                                                 0       5         10           15           20
                                             FREQUENCY (kHz)                                                                                FREQUENCY (kHz)                                                                                FREQUENCY (kHz)
                                     INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,
                                     -60dBFS INPUT (MIC TO ADC)                                                                      -3dBFS INPUT (MIC TO ADC)                                                                     -60dBFS INPUT (MIC TO ADC)
                           20                                                                                             20                                                                                             20
                                                                              MAX98090 toc16                                                                                 MAX98090 toc17                                                                                 MAX98090 toc18
                                                        fMCLK = 12.288MHz                                                                              fMCLK = 12.288MHz                                                                              fMCLK = 12.288MHz
                            0                                                                                              0                                                                                              0                               fLRCLK = 96kHz
                                                            fLRCLK = 48kHz                                                                                 fLRCLK = 96kHz
                           -20                                AV_MIC = 0dB                                                -20                                AV_MIC = 0dB                                                -20                                AV_MIC = 0dB
OUTPUT AMPLITUDE (dBFS)                                                                        OUTPUT AMPLITUDE (dBFS)                                                                        OUTPUT AMPLITUDE (dBFS)
                                                                CIN = 10µF                                                                                     CIN = 10µF                                                                                     CIN = 10µF
                           -40                                                                                            -40                                                                                            -40
                           -60                                                                                            -60                                                                                            -60
                           -80                                                                                            -80                                                                                            -80
                          -100                                                                                           -100                                                                                           -100
                          -120                                                                                           -120                                                                                           -120
                          -140                                                                                           -140                                                                                           -140
                          -160                                                                                           -160                                                                                           -160
                                 0       5         10           15           20                                                 0       5         10           15           20                                                 0       5         10           15           20
                                             FREQUENCY (kHz)                                                                                FREQUENCY (kHz)                                                                                FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                       Maxim Integrated │ 39


MAX98090                                                                                                                                                          Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                             DIGITAL MICROPHONE INPUT TO RECORD PATH OUTPUT
                                          TOTAL HARMONIC DISTORTION                                                                            INBAND OUTPUT SPECTRUM,                                                                           INBAND OUTPUT SPECTRUM,
                                           PLUS NOISE vs. FREQUENCY                                                                                   -10dBFS INPUT                                                                                     -26dBFS INPUT
                                         (DIGITAL MIC TO RECORD PATH)                                                                         (DIGITAL MIC TO RECORD PATH)                                                                      (DIGITAL MIC TO RECORD PATH)
                              0                                                                                                   20                                                                                                  20
                                                                                   MAX98090 toc19                                                                                      MAX98090 toc20
                                                                                                                                                                    fMCLK = 13MHz
                                                                                                                                                                                                                                                                                         MAX98090 toc21
                             -10        fMCLK = 13MHz                                                                                                                                                                                                                 fMCLK = 13MHz
                                                                                                                                   0                                  fLRCLK = 8kHz                                                    0
                                        fLRCLK = 8kHz                                                                                                                                                                                                                   fLRCLK = 8kHz
                             -20        fDMC = 3.25MHz                                                                                                             fDMC = 3.25MHz                                                                                    fDMC = 3.25MHz
                                                                                                                                  -20
                                                                                                       OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                      -20
                                                                                                                                                                                                           OUTPUT AMPLITUDE (dBFS)
                                        AV_DMIC = 0dB                                                                                                                AV_DMIC = 0dB                                                                                     AV_DMIC = 0dB
                             -30
THD+N RATIO (dB)
                                                                                                                                  -40                                                                                                 -40
                             -40
                                                                                                                                  -60                                                                                                 -60
                             -50
                                                                                                                                  -80                                                                                                 -80
                             -60
                                                                VIN = -26dBFS
                                              VIN = -3dBFS                                                                       -100                                                                                                -100
                             -70
                             -80                                                                                                 -120                                                                                                -120
                             -90                                                                                                 -140                                                                                                -140
                            -100                                                                                                 -160                                                                                                -160
                                   10             100           1k                10k                                                   0     500 1000 1500 2000 2500 3000 3500 4000                                                        0   500 1000 1500 2000 2500 3000 3500 4000
                                                   FREQUENCY (Hz)                                                                                       FREQUENCY (Hz)                                                                                    FREQUENCY (Hz)
                                           INBAND OUTPUT SPECTRUM,                                                                             TOTAL HARMONIC DISTORTION                                                                         INBAND OUTPUT SPECTRUM,
                                                  -60dBFS INPUT                                                                                 PLUS NOISE vs. FREQUENCY                                                                                -10dBFS INPUT
                                          (DIGITAL MIC TO RECORD PATH)                                                                        (DIGITAL MIC TO RECORD PATH)                                                                      (DIGITAL MIC TO RECORD PATH)
                              20                                                                                                    0                                                                                                 20
                                                                                      MAX98090 toc22                                                                                      MAX98090 toc23                                                                                 MAX98090 toc24
                                                                fMCLK = 13MHz                                                                fMCLK = 13MHz                                                                                                            fMCLK = 13MHz
                               0                                  fLRCLK = 8kHz                                                   -10                                                                                                   0                              fLRCLK = 16kHz
                                                                                                                                             fLRCLK = 16kHz
                                                               fDMC = 3.25MHz                                                     -20        fDMC = 3.25MHz                                                                                                          fDMC = 3.25MHz
                             -20                                                                                                                                                                                                      -20
  OUTPUT AMPLITUDE (dBFS)                                                                                                                                                                                  OUTPUT AMPLITUDE (dBFS)
                                                                 AV_DMIC = 0dB                                                               AV_DMIC = 0dB                                                                                                             AV_DMIC = 0dB
                                                                                                                                  -30
                                                                                                         THD+N RATIO (dB)
                             -40                                                                                                                                                                                                      -40
                                                                                                                                  -40
                             -60                                                                                                                                                                                                      -60
                                                                                                                                  -50
                             -80                                                                                                                                                                                                      -80
                                                                                                                                  -60
                            -100                                                                                                                                    VIN = -26dBFS                                                    -100
                                                                                                                                  -70              VIN = -3dBFS
                            -120                                                                                                  -80                                                                                                -120
                            -140                                                                                                  -90                                                                                                -140
                            -160                                                                                                 -100                                                                                                -160
                                   0     500 1000 1500 2000 2500 3000 3500 4000                                                         10             100           1k               10k                                                   0   1k   2k    3k   4k   5k    6k   7k      8k
                                                    FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)                                                                                    FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                      Maxim Integrated │ 40


MAX98090                                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                          DIGITAL MICROPHONE INPUT TO RECORD PATH OUTPUT (CONTINUED)
                                                                                                                                                                                                                                              TOTAL HARMONIC DISTORTION
                                      INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                                                                                                                                                                                                                               PLUS NOISE vs. FREQUENCY
                                             -26dBFS INPUT                                                                                      -60dBFS INPUT
                                                                                                                                                                                                                                             (DIGITAL MIC TO RECORD PATH)
                                     (DIGITAL MIC TO RECORD PATH)                                                                       (DIGITAL MIC TO RECORD PATH)
                                                                                                                                                                                                                                  0
                                                                                                                                                                                                                                                                                             MAX98090 toc27
                           20                                                                                                 20
                                                                                  MAX98090 toc25
                                                                                                                                                                                                                                            fMCLK = 12.288MHz
                                                                                                                                                                                     MAX98090 toc26
                                                               fMCLK = 13MHz                                                                                      fMCLK = 13MHz
                            0                                   fLRCLK = 16kHz                                                 0                                   fLRCLK = 16kHz                                                -20        fLRCLK = 48kHz
                                                              fDMC = 3.25MHz                                                                                     fDMC = 3.25MHz                                                             fDMC = 3.072MHz
                           -20                                                                                                -20
OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                                AV_DMIC = 0dB                                                                                      AV_DMIC = 0dB                                                            AV_DMIC = 0dB
                                                                                                                                                                                                      THD+N RATIO (dB)
                                                                                                                                                                                                                                 -40
                           -40                                                                                                -40
                           -60                                                                                                -60                                                                                                -60
                                                                                                                                                                                                                                                                      VIN = -26dBFS
                           -80                                                                                                -80                                                                                                               VIN = -3dBFS
                                                                                                                                                                                                                                 -80
                          -100                                                                                               -100
                          -120                                                                                               -120                                                                                               -100
                          -140                                                                                               -140
                                                                                                                                                                                                                                -120
                          -160                                                                                               -160                                                                                                      10         100           1k           10k           100k
                                 0   1k   2k    3k   4k      5k    6k    7k      8k                                                 0   1k   2k    3k   4k      5k    6k    7k      8k
                                                                                                                                                                                                                                                        FREQUENCY (Hz)
                                               FREQUENCY (Hz)                                                                                     FREQUENCY (Hz)
                                      INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,                                                                              INBAND OUTPUT SPECTRUM,
                                             -10dBFS INPUT                                                                                      -26dBFS INPUT                                                                                        -60dBFS INPUT
                                     (DIGITAL MIC TO RECORD PATH)                                                                       (DIGITAL MIC TO RECORD PATH)                                                                         (DIGITAL MIC TO RECORD PATH)
                           20                                                                                                 20                                                                                                 20
                                                                                  MAX98090 toc28                                                                                     MAX98090 toc29                                                                                           MAX98090 toc30
                                                           fMCLK = 12.288MHz                                                                                  fMCLK = 12.288MHz                                                                                       fMCLK = 12.288MHz
                            0                                  fLRCLK = 48kHz                                                  0                                                                                                  0
                                                                                                                                                                  fLRCLK = 48kHz                                                                                          fLRCLK = 48kHz
                           -20                               fDMC = 3.072MHz                                                  -20                               fDMC = 3.072MHz                                                                                         fDMC = 3.072MHz
OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                 -20
                                                                                                                                                                                                      OUTPUT AMPLITUDE (dBFS)
                                                               AV_DMIC = 0dB                                                                                      AV_DMIC = 0dB                                                                                           AV_DMIC = 0dB
                           -40                                                                                                -40                                                                                                -40
                           -60                                                                                                -60                                                                                                -60
                           -80                                                                                                -80                                                                                                -80
                          -100                                                                                               -100                                                                                               -100
                          -120                                                                                               -120                                                                                               -120
                          -140                                                                                               -140                                                                                               -140
                          -160                                                                                               -160                                                                                               -160
                                 0        5k         10k           15k           20k                                                0        5k         10k          15k            20k                                                0           5k           10k          15k           20k
                                               FREQUENCY (Hz)                                                                                     FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                    Maxim Integrated │ 41


MAX98090                                                                                                                                           Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                   LINE INPUT TO ADC RECORD PATH OUTPUT
                           TOTAL HARMONIC DISTORTION PLUS                                                            TOTAL HARMONIC DISTORTION PLUS                                                              TOTAL HARMONIC DISTORTION PLUS
                           NOISE vs. FREQUENCY (LINE TO ADC)                                                         NOISE vs. FREQUENCY (LINE TO ADC)                                                           NOISE vs. FREQUENCY (LINE TO ADC)
                     0                                                                                         0                                                                                           0
                                                                         MAX98090 toc31                                                                              MAX98090 toc32                                                                             MAX98090 toc33
                    -10        fMCLK = 12.288MHz                                                              -10        fMCLK = 12.288MHz                                                                -10        fMCLK = 12.288MHz
                               fLRCLK = 48kHz                                                                            fLRCLK = 48kHz                                                                              fLRCLK = 48kHz
                    -20        AV_LINEPGA = -6dB                                                              -20        AV_LINEPGA = 0dB                                                                 -20        AV_LINEPGA = +20dB
                    -30        VIN_SE = 0.5VRMS                                                               -30        VIN_SE = 354mVRMS                                                                -30        VIN_SE = 35.4mVRMS
THD+N RATIO (dB)                                                                          THD+N RATIO (dB)                                                                            THD+N RATIO (dB)
                               VIN_DIFF = 1VRMS                                                                          VIN_DIFF = 707mVRMS                                                                         VIN_DIFF = 70.7mVRMS
                    -40        CIN = 10µF                                                                     -40        CIN = 10µF                                                                       -40        CIN = 10µF
                    -50                                                                                       -50                                                                                         -50
                    -60                                                                                       -60                                                                                         -60                                  SINGLE-ENDED
                    -70                                                                                       -70                                                                                         -70                  DIFFERENTIAL
                    -80                 DIFFERENTIAL    SINGLE-ENDED                                          -80                 DIFFERENTIAL     SINGLE-ENDED                                           -80
                    -90                                                                                       -90                                                                                         -90
                   -100                                                                                      -100                                                                                        -100
                          10         100           1k       10k        100k                                         10          100           1k       10k         100k                                         10          100          1k        10k        100k
                                           FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                              FREQUENCY (Hz)
                           TOTAL HARMONIC DISTORTION PLUS                                                                POWER-SUPPLY REJECTION RATIO                                                                   CROSSTALK vs. FREQUENCY
                           NOISE vs. FREQUENCY (LINE TO ADC)                                                               vs. FREQUENCY (LINE TO ADC)                                                                       (LINE TO ADC)
                     0                                                                                       100                                                                                           0
                                                                         MAX98090 toc34                                                                              MAX98090 toc35                                                                             MAX98090 toc36
                               fMCLK = 12.288MHz                                                                         fMCLK = 12.288MHz                                                                           fMCLK = 12.288MHz
                    -10                                                                                       90
                               fLRCLK = 48kHz                                                                            fLRCLK = 48kHz                                                                   -20        fLRCLK = 48kHz
                    -20        AV_LINEPGA = -9dB                                                              80         VIN SINGLE-ENDED                                                                            VIN = 0.5mVRMS
                                                                                                                         VRIPPLE = 100mVP-P        BIAS_MODE = 1                                                     AV_LINEPRE = 0dB
                    -30        VIN_SE = 2VRMS                                                                 70                                                                                          -40
THD+N RATIO (dB)
                                                                                                                         CIN = 10µF                                                                                  CIN = 10µF
                                                                                                                                                                                      CROSSTALK (dB)
                               CIN = 10µF
                    -40                                                                                       60
                                                                                          PSRR (dB)
                                                                                                                                                                                                          -60
                    -50                             SINGLE-ENDED                                              50                                                                                                                         SINGLE-ENDED
                                     DIFFERENTIAL                                                                                                                                                         -80
                    -60                                                                                       40
                    -70                                                                                       30                 BIAS_MODE = 0                                                           -100
                    -80                                                                                       20
                                                                                                                                                                                                         -120
                    -90                                                                                       10                                                                                                                         DIFFERENTIAL
                   -100                                                                                        0                                                                                         -140
                          10         100           1k       10k        100k                                         10          100           1k       10k         100k                                         10          100          1k        10k        100k
                                           FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                              FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                              Maxim Integrated │ 42


MAX98090                                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                             LINE INPUT TO ADC RECORD PATH OUTPUT (CONTINUED)
                                                                                  INBAND OUTPUT SPECTRUM                                                                                                            INBAND OUTPUT SPECTRUM
                                                                                 vs. FREQUENCY,-3dBFS INPUT                                                                                                       vs. FREQUENCY, -60dBFS INPUT
                                                                                         (LINE TO ADC)                                                                                                                    (LINE TO ADC)
                                                                       20                                                                                                                               20
                                                                                                                                                 MAX98090 toc37                                                                                                                              MAX98090 toc38
                                                                                                                  fMCLK = 12.288MHz                                                                                                                                   fMCLK = 12.288MHz
                                                                        0                                              fLRCLK = 48kHz                                                                    0                                                                 fLRCLK = 48kHz
                                                                       -20                                        VIN = 354mVRMS_SE                                                                     -20                                                           VIN = 0.5mVRMS_SE
                                            OUTPUT AMPLITUDE (dBFS)                                                                                                          OUTPUT AMPLITUDE (dBFS)
                                                                                                                         AV_PRE = 0dB                                                                                                                                        AV_PRE = 0dB
                                                                       -40                                                 CIN = 10µF                                                                   -40                                                                    CIN = 10µF
                                                                       -60                                                                                                                              -60
                                                                       -80                                                                                                                              -80
                                                                      -100                                                                                                                             -100
                                                                      -120                                                                                                                             -120
                                                                      -140                                                                                                                             -140
                                                                      -160                                                                                                                             -160
                                                                             0          5               10                       15             20                                                            0                      5                           10           15            20
                                                                                            FREQUENCY (kHz)                                                                                                                                   FREQUENCY (kHz)
                                                                             DIRECT ANALOG INPUT TO ADC RECORD PATH OUTPUT
                                 TOTAL HARMONIC DISTORTION                                                                                     POWER-SUPPLY REJECTION
                                   PLUS NOISE vs. FREQUENCY                                                                                      RATIO vs. FREQUENCY                                                                                                       CROSSTALK vs. FREQUENCY
                                 (INPUT DIRECT TO ADC MIXER)                                                                                 (INPUT DIRECT TO ADC MIXER)                                                                                                 (INPUT DIRECT TO ADC MIXER)
                     0                                                                                                          100                                                                                                                         0
                                                                                                 MAX98090 toc39                                                                                                     MAX98090 toc40                                                                                    MAX98090 toc41
                               fMCLK = 12.288MHz                                                                                           MCLK = 12.288MHz                                                                                                            fMCLK = 12.288MHz
                    -10                                                                                                          90        LRCLK = 48kHz                                                                                                               fLRCLK = 48kHz
                               fLRCLK = 48kHz                                                                                                                                                                                                              -20
                    -20        VIN = 707mVRMS                                                                                    80        VRIPPLE = 100mVP-P                                                                                                          VIN = 0.5VRMS
                               CIN = 10µF                                                                                                  CIN = 10µF                                                                                                                  CIN = 10µF
                    -30                                                                                                          70                                                                                                                        -40
THD+N RATIO (dB)                                                                                                                                                                                                                         CROSSTALK (dB)
                    -40                                                                                                          60
                                                                                                                    PSRR (dB)
                                                                                                                                                                                                                                                           -60
                    -50                                                                                                          50
                                                                                                                                 40                                                                                                                        -80
                    -60
                                                                                                                                                                                                                                                                           RIGHT TO LEFT
                    -70                                                                                                          30                                                                                                                       -100
                    -80                                                                                                          20
                                                                                                                                                                                                                                                          -120
                    -90                                                                                                          10
                                                                                                                                                                                                                                                                                   LEFT TO RIGHT
                   -100                                                                                                          0                                                                                                                        -140
                          10          100                               1k        10k          100k                                   10                100             1k                             10k        100k                                            10           100           1k               10k   100k
                                            FREQUENCY (Hz)                                                                                                        FREQUENCY (Hz)                                                                                                     FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                                 Maxim Integrated │ 43


MAX98090                                                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                         DIRECT ANALOG INPUT TO ADC RECORD PATH OUTPUT (CONTINUED)
                                                                           INBAND OUTPUT SPECTRUM,                                                                                                       INBAND OUTPUT SPECTRUM,
                                                                       -3dBFS (INPUT DIRECT TO ADC MIXER)                                                                                            -60dBFS (INPUT DIRECT TO ADC MIXER)
                                                                20                                                                                                                             20
                                                                                                                                               MAX98090 toc42                                                                                                                         MAX98090 toc43
                                                                                                         fMCLK = 12.288MHz                                                                                                                                      fMCLK = 12.288MHz
                                                                 0                                                                                                                              0                                                                   fLRCLK = 48kHz
                                                                                                             fLRCLK = 48kHz
                                                                -20                                        VIN = 0.707VRMS                                                                     -20                                                                   VIN = 1mVRMS
                                                                                                                 CIN = 10µF                                                                                                                                             CIN = 10µF
                                            AMPLITUDE (dBFS)                                                                                                               AMPLITUDE (dBFS)
                                                                -40                                                                                                                            -40
                                                                -60                                                                                                                            -60
                                                                -80                                                                                                                            -80
                                                               -100                                                                                                                           -100
                                                               -120                                                                                                                           -120
                                                               -140                                                                                                                           -140
                                                               -160                                                                                                                           -160
                                                                       0       5             10                                 15            20                                                     0        5                                           10            15           20
                                                                                   FREQUENCY (kHz)                                                                                                                            FREQUENCY (kHz)
                                            ADC RECORD PATH TO DAC PLAYBACK INTERNAL LOOP THROUGH
                            TOTAL HARMONIC DISTORTION PLUS                                                                             TOTAL HARMONIC DISTORTION PLUS                                                                                                  INBAND OUTPUT SPECTRUM,
                                  NOISE vs. FREQUENCY                                                                                        NOISE vs. FREQUENCY                                                                                                             -3dBFS INPUT
                           (LINE TO ADC TO DAC TO HEADPHONE)                                                                          (LINE TO ADC TO DAC TO HEADPHONE)                                                                                           (LINE TO ADC TO DAC TO HEADPHONE)
                     0                                                                                                          0                                                                                                                         20
                                                                                        MAX98090 toc44                                                                                                       MAX98090 toc45                                                                                                     MAX98090 toc46
                    -10        fMCLK = 13MHz                                                                                   -10        fMCLK = 12.288MHz                                                                                                                                                   fMCLK = 13MHz
                               fLRCLK = 44.1kHz                                                                                           fLRCLK = 48kHz                                                                                                   0                                                fLRCLK = 44.1kHz
                    -20        AV_TOTAL = 0dB                                                                                  -20        AV_TOTAL = 0dB                                                                                                                                                     AV_TOTAL = 0dB
                                                                                                                                                                                                                                                          -20
                                                                                                                                                                                                                               OUTPUT AMPLITUDE (dBFS)
                    -30        RHP = 32I                                                                                       -30        RHP = 32I                                                                                                                                                               RHP = 32I
THD+N RATIO (dB)                                                                                           THD+N RATIO (dB)
                               CIN = 10µF                                                                                                 CIN = 10µF                                                                                                      -40                                                     CIN = 10µF
                    -40                                                                                                        -40
                                                                                                                                                                                                                                                          -60
                    -50                                                                                                        -50
                                                                                                                                                                                                                                                          -80
                    -60                                                                                                        -60
                                                                                                                               -70                                                                                                                       -100
                    -70            POUT = 10mW POUT = 20mW                                                                                   POUT = 10mW POUT = 20mW
                    -80                                                                                                        -80                                                                                                                       -120
                    -90                                                                                                        -90                                                                                                                       -140
                   -100                                                                                                       -100                                                                                                                       -160
                          10          100                         1k        10k       100k                                           10                   100         1k                         10k       100k                                                  0           5                         10        15            20
                                             FREQUENCY (Hz)                                                                                                     FREQUENCY (Hz)                                                                                                   FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                              Maxim Integrated │ 44


MAX98090                                                                                                                                                                        Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                 ADC RECORD PATH TO DAC PLAYBACK INTERNAL LOOP THROUGH (CONTINUED)
                                     INBAND OUTPUT SPECTRUM,                                                                                      INBAND OUTPUT SPECTRUM,                                                                                        INBAND OUTPUT SPECTRUM,
                                            -60dBFS INPUT                                                                                               -3dBFS INPUT                                                                                                    -60dBFS INPUT
                                 (LINE TO ADC TO DAC TO HEADPHONE)                                                                           (LINE TO ADC TO DAC TO HEADPHONE)                                                                               (LINE TO ADC TO DAC TO HEADPHONE)
                           20                                                                                                          20                                                                                                             20
                                                                                      MAX98090 toc47                                                                                                   MAX98090 toc48                                                                                         MAX98090 toc49
                                                                   fMCLK = 13MHz                                                                                               fMCLK = 12.288MHz                                                                                        fMCLK = 12.288MHz
                            0                                    fLRCLK = 44.1kHz                                                       0                                                                                                              0
                                                                                                                                                                                   fLRCLK = 48kHz                                                                                           fLRCLK = 48kHz
                           -20                                    AV_TOTAL = 0dB                                                       -20                                        AV_TOTAL = 0dB                                                      -20                                  AV_TOTAL = 0dB
OUTPUT AMPLITUDE (dBFS)                                                                                     OUTPUT AMPLITUDE (dBFS)                                                                                        OUTPUT AMPLITUDE (dBFS)
                                                                       RHP = 32I                                                                                                       RHP = 32I                                                                                                RHP = 32I
                           -40                                         CIN = 10µF                                                      -40                                             CIN = 10µF                                                     -40                                       CIN = 10µF
                           -60                                                                                                         -60                                                                                                            -60
                           -80                                                                                                         -80                                                                                                            -80
                          -100                                                                                                        -100                                                                                                           -100
                          -120                                                                                                        -120                                                                                                           -120
                          -140                                                                                                        -140                                                                                                           -140
                          -160                                                                                                        -160                                                                                                           -160
                                 0             5          10             15          20                                                      0              5           10                15          20                                                    0            5         10           15           20
                                                   FREQUENCY (kHz)                                                                                               FREQUENCY (kHz)                                                                                             FREQUENCY (kHz)
                                                                   DAC PLAYBACK PATH INPUT TO RECEIVER OUTPUT
                                      TOTAL HARMONIC DISTORTION
                                      PLUS NOISE vs. OUTPUT POWER                                                                                TOTAL HARMONIC DISTORTION                                                                                         TOTAL HARMONIC DISTORTION
                                           (DAC TO RECEIVER)                                                                                 vs. OUTPUT POWER (DAC TO RECEIVER)                                                                                  vs. FREQUENCY (DAC TO RECEIVER)
                             0                                                                                                                                                                                                                         0
                                                                                                                                         0
                                                                                           MAX98090 toc50
                                                                                                                                                                                                                                                                                                              MAX98090 toc52
                                     BIAS_MODE = 0
                                                                                                                                                                                                          MAX98090 toc51
                           -10                                                                                                                   BIAS_MODE = 1                                                                                                   fMCLK = 13MHz
                                     fMCLK = 13MHz                                                                                     -10                                                                                                            -10        fLRCLK = 8kHz
                                                                                                                                                 fMCLK = 13MHz
                           -20       fLRCLK = 8kHz                                                                                                                                                                                                               AV_REC = +8dB
                                                                                                                                       -20       fLRCLK = 8kHz                                                                                        -20
                                     AV_REC = +8dB                                                                                                                                                                                                               RREC = 32I
                           -30                                                                                                                   AV_REC = +8dB
                                                                                                                                                                                                                                                      -30
  THD+N RATIO (dB)
                                     RREC = 32I                                                                                        -30
                                                                                                              THD+N RATIO (dB)                                                                                             THD+N RATIO (dB)
                                                                                                                                                 RREC = 32I
                           -40                                                                                                                                                                                                                        -40
                                                          fIN = 3000Hz                                                                 -40
                           -50                                                                                                                                  fIN = 3000Hz                                                                                                             POUT = 25mW
                                                                                                                                       -50                                                                                                            -50
                           -60                                                                                                                                                                                                                        -60
                                                                                                                                       -60
                           -70                                                                                                                                                                                                                        -70
                                                                                                                                       -70
                           -80                                                                                                                                                                                                                        -80
                                                 fIN = 1000Hz                                                                          -80                                                                                                                                               POUT = 50mW
                           -90                                                                                                                                  fIN = 1000Hz
                                        fIN = 100Hz                                                                                    -90                                                                                                            -90
                                                                                                                                                 fIN = 100Hz
                          -100                                                                                                                                                                                                                       -100
                                                                                                                                      -100
                                 0      0.02       0.04   0.06    0.08        0.10   0.12                                                                                                                                                                   10               100          1k                 10k
                                                                                                                                             0       0.02       0.04    0.06       0.08        0.10   0.12
                                                   OUTPUT POWER (W)                                                                                                                                                                                                           FREQUENCY (Hz)
                                                                                                                                                                OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                                                          Maxim Integrated │ 45


MAX98090                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                           DAC PLAYBACK PATH INPUT TO RECEIVER OUTPUT (CONTINUED)
                                       OUTPUT POWER vs. SPEAKER                                                                                                                                                                                     POWER CONSUMPTION vs.
                                    SUPPLY VOLTAGE (DAC TO RECEIVER)                                                                        GAIN vs. FREQUENCY (DAC TO RECEIVER)                                                                 OUTPUT POWER (DAC TO RECEIVER)
                             150                                                                                                       5                                                                                              200
                                                                                           MAX98090 toc53                                                                                  MAX98090 toc54                                                                                        MAX98090 toc55
                                                                                                                                                 fMCLK = 13MHz
                                                                                                                                       4         fLRCLK = 8kHz                                                                                          RREC = 16I
                             125                                                                                                                 VOICE FILTER
RECEIVER OUTPUT POWER (mW)
                                                               BIAS_MODE = 1                                                           3                                                                                              160
                                                                                                                                                                                                            POWER CONSUMPTION (mW)
                                                                                                                                                 AV_REC = 0dB
                                                                                                            NORMALIZED GAIN (dB)
                                                                                                                                       2         RREC = 32I
                             100
                                                                                                                                       1                                                                                              120
                             75                                                                                                        0
                                                                                                                                       -1                                                                                              80
                             50                                BIAS_MODE = 0                                                                                                                                                                                                   fMCLK = 13MHz
                                                                                                                                       -2
                                         fMCLK = 13MHz                                                                                                                                                                                                  RREC = 32I             fLRCLK = 8kHz
                                         fLRCLK = 8kHz                                                                                 -3                                                                                              40                                      BIAS_MODE = 1
                             25
                                         AV_REC = +8dB                                                                                 -4                                                                                                                                      THD+N ≤ 1%
                                         RREC = 32I                                                                                                                                                                                                                            AV_REC = +8dB
                               0                                                                                                       -5                                                                                               0
                                   2.5       3.0         3.5    4.0    4.5         5.0   5.5                                                10               100          1k           10k                                                   0     20   40      60        80    100    120     140
                                               SPEAKER SUPPLY VOLTAGE (V)                                                                                     FREQUENCY (Hz)                                                                                OUTPUT POWER (mW)
                                          POWER-SUPPLY REJECTION RATIO                                                                             INBAND OUTPUT SPECTRUM,                                                                          INBAND OUTPUT SPECTRUM,
                                         vs. FREQUENCY (DAC TO RECEIVER)                                                                         -3dBFS INPUT (DAC TO RECEIVER)                                                                  -60dBFS INPUT (DAC TO RECEIVER)
                             100                                                                                                      20                                                                                               20
                                                                                           MAX98090 toc56                                                                                  MAX98090 toc57                                                                                        MAX98090 toc58
                                                                        SPK_VDD                                                                                            fMCLK = 13MHz                                                                                        fMCLK = 13MHz
                              90                                                                                                       0                                   fLRCLK = 8kHz                                                0                                       fLRCLK = 8kHz
                              80                                                                                                                                           AV_REC = 0dB                                                                                         AV_REC = 0dB
                                                                                                                                      -20                                                                                              -20
                                                                                                            OUTPUT AMPLITUDE (dBV)                                                                           OUTPUT AMPLITUDE (dBV)
                                                                                                                                                                           RREC = 32I                                                                                           RHP = 32I
                              70
                                                                                                                                      -40                                                                                              -40
                              60
PSRR (dB)
                                                           OTHER SUPPLIES
                                                                                                                                      -60                                                                                              -60
                              50
                                                                                                                                      -80                                                                                              -80
                              40
                                                                                                                                     -100                                                                                             -100
                              30
                                         fMCLK = 12.288MHz
                              20                                                                                                     -120                                                                                             -120
                                         fLRCLK = 48kHz
                              10         VRIPPLE = 100mVP-P                                                                          -140                                                                                             -140
                                         RREC = 32I
                               0                                                                                                     -160                                                                                             -160
                                   10              100           1k          10k         100k                                               0            5         10          15      20                                                    0          5            10           15            20
                                                          FREQUENCY (Hz)                                                                                     FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                         Maxim Integrated │ 46


MAX98090                                                                                                                                                                             Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                                                       LINE INPUT TO RECEIVER OUTPUT
                                TOTAL HARMONIC DISTORTION                                                                                          TOTAL HARMONIC DISTORTION                                                                                         TOTAL HARMONIC DISTORTION
                                PLUS NOISE vs. OUTPUT POWER                                                                                        PLUS NOISE vs. OUTPUT POWER                                                                                        PLUS NOISE vs. FREQUENCY
                                     (LINE TO RECEIVER)                                                                                                 (LINE TO RECEIVER)                                                                                               (LINE TO RECEIVER)
                     0                                                                                                                  0                                                                                                                0
                                                                                                  MAX98090 toc59                                                                                                   MAX98090 toc60                                                                                     MAX98090 toc61
                              DIFFERENTIAL INPUT                                                                                                 DIFFERENTIAL INPUT                                                                                                DIFFERENTIAL INPUT
                    -10       BIAS_MODE = 0                                                                                            -10       BIAS_MODE = 1                                                                                          -10        BIAS_MODE = 0
                    -20       AV_LINEPGA = 0dB                                                                                         -20       AV_LINEPGA = 0dB                                                                                       -20        AV_LINEPGA = 0dB
                              AV_REC = +8dB                                                                                                      AV_REC = +8dB                                                                                                     AV_REC = +8dB
                    -30       RREC = 32I                                                                                               -30       RREC = 32I                                                                                             -30        RREC = 32I
THD+N RATIO (dB)                                                                                                   THD+N RATIO (dB)                                                                                                 THD+N RATIO (dB)
                    -40       CIN = 10µF                                                                                               -40       CIN = 10µF                                                                                             -40        CIN = 10µF                         POUT = 25mW
                                                                      fIN = 6000Hz
                    -50                                                                                                                -50                                                                                                              -50
                                                                                                                                                                                           fIN = 6000Hz
                    -60                                                                                                                -60                                                                                                              -60
                    -70                                                                                                                -70                                                                                                              -70
                    -80                                                                                                                -80                                                                                                              -80                        POUT = 80mW
                                               fIN = 1000Hz                                                                                                           fIN = 1000Hz
                    -90                                                                                                                -90                                                                                                              -90
                                  fIN = 100Hz                                                                                                        fIN = 100Hz
                   -100                                                                                                               -100                                                                                                             -100
                          0      0.02       0.04                     0.06     0.08     0.10     0.12                                         0      0.02              0.04   0.06           0.08       0.10      0.12                                         10          100                    1k        10k      100k
                                            OUTPUT POWER (W)                                                                                                          OUTPUT POWER (W)                                                                                          FREQUENCY (Hz)
                                                                                     GAIN vs. FREQUENCY                                                                                                      POWER-SUPPLY REJECTION RATIO
                                                                                      (LINE TO RECEIVER)                                                                                                    vs. FREQUENCY (LINE TO RECEIVER)
                                                                5                                                                                                                                120
                                                                                                                                                     MAX98090 toc62                                                                                                                 MAX98090 toc63
                                                                           DIFFERENTIAL INPUT
                                                                4          AV_TOTAL = 0dB
                                                                           RREC = 32I                                                                                                            100                                                          SPK_VDD
                                                                3
                                                                           CIN = 10µF
                                         NORMALIZED GAIN (dB)
                                                                2
                                                                                                                                                                                                  80
                                                                1
                                                                                                                                                                                     PSRR (dB)
                                                                0                                                                                                                                 60                                     OTHER SUPPLIES
                                                                -1
                                                                                                                                                                                                  40
                                                                -2
                                                                                                                                                                                                            DIFFERENTIAL INPUT
                                                                -3                                                                                                                                          VRIPPLE = 100mVP-P
                                                                                                                                                                                                  20
                                                                                                                                                                                                            RREC = 32I
                                                                -4
                                                                                                                                                                                                            CIN = 10µF
                                                                -5                                                                                                                                 0
                                                                      10             100         1k                                   10k          100k                                                10            100                                 1k            10k        100k
                                                                                           FREQUENCY (Hz)                                                                                                                           FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                           Maxim Integrated │ 47


MAX98090                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                          LINE INPUT TO RECEIVER OUTPUT (CONTINUED)
                                                           INBAND OUTPUT SPECTRUM,                                                                                           INBAND OUTPUT SPECTRUM,
                                                         -3dBV INPUT (LINE TO RECEIVER)                                                                                    -60dBV INPUT (LINE TO RECEIVER)
                                               20                                                                                                        20
                                                                                                    MAX98090 toc64                                                                                                        MAX98090 toc65
                                                                              DIFFERENTIAL INPUT                                                                                                    DIFFERENTIAL INPUT
                                                0                             AV_LINEPGA = 0dB                                                            0                                         AV_LINEPGA = 0dB
                                               -20                            AV_REC = +8dB                                                              -20                                        AV_REC = +6dB
                   OUTPUT AMPLITUDE (dBV)                                                                               OUTPUT AMPLITUDE (dBV)
                                                                              RREC = 32I                                                                                                            RREC = 32I
                                               -40                            CIN = 10µF                                                                 -40                                        CIN = 10µF
                                               -60                                                                                                       -60
                                               -80                                                                                                       -80
                                              -100                                                                                                 -100
                                              -120                                                                                                 -120
                                              -140                                                                                                 -140
                                              -160                                                                                                 -160
                                                     0        5          10          15            20                                                              0             5             10           15           20
                                                                   FREQUENCY (kHz)                                                                                                       FREQUENCY (kHz)
                                                           DAC PLAYBACK PATH INPUT TO LINE OUTPUT
                                                           INBAND OUTPUT SPECTRUM,                                                                                           INBAND OUTPUT SPECTRUM,
                                                         -3dBFS INPUT (DAC TO LINE OUT)                                                                                    -60dBFS INPUT (DAC TO LINE OUT)
                                                20                                                                                                        20
                                                                                                       MAX98090 toc66                                                                                                              MAX98090 toc67
                                                                                  fMCLK = 13MHz                                                                                                          fMCLK = 13MHz
                                                 0                                fLRCLK = 8kHz                                                                0                                         fLRCLK = 8kHz
                                                                                  AV_LOUT = +3dB                                                                                                         AV_LOUT = +3dB
                                               -20                                                                                                        -20
                     OUTPUT AMPLITUDE (dBV)                                                                                     OUTPUT AMPLITUDE (dBV)
                                                                                  RLOUT = 10kI                                                                                                           RLOUT = 10kI
                                               -40                                                                                                        -40
                                               -60                                                                                                        -60
                                               -80                                                                                                        -80
                                              -100                                                                                                       -100
                                              -120                                                                                                       -120
                                              -140                                                                                                       -140
                                              -160                                                                                                       -160
                                                     0         5         10           15           20                                                                  0             5          10           15           20
                                                                   FREQUENCY (kHz)                                                                                                        FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                              Maxim Integrated │ 48


MAX98090                                                                                                                                                                                                            Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                                                                               LINE INPUT TO LINE OUTPUT
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                        TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                           TOTAL HARMONIC DISTORTION PLUS NOISE
                           vs. OUTPUT LEVEL (LINE IN TO LINE OUT)                                                                                       vs. FREQUENCY (LINE IN TO LINE OUT)                                                                                            vs. FREQUENCY (LINE IN TO LINE OUT)
                     0                                                                                                                           0                                                                                                                              0
                                                                                                      MAX98090 toc68                                                                                                                      MAX98090 toc69                                                                                   MAX98090 toc70
                              AV_LINEPGA = 0dB                                                                                                             AV_LINEPGA = 0dB                                                                                                               VIN = 2VRMS
                    -10                                                                                                                         -10        AV_LOUT = +3dB                                                                                                      -10
                              AV_LOUT = +3dB                                                                                                                                                                                                                                              AV_EXTERNAL = -9dB
                    -20       RLOUT = 10kI                                                                                                      -20        RLOUT = 10kI                                                                                                        -20        AV_LOUT = +3dB
                              CIN = 10µF                                                                                                                   CIN = 10µF                                                                                                                     RLOUT = 10kI
                    -30                                                                                                                         -30                                                                                                                            -30        CIN = 10µF
THD+N RATIO (dB)                                                                                                            THD+N RATIO (dB)                                                                                                               THD+N RATIO (dB)
                    -40                                                                                                                         -40                                                                                                                            -40
                    -50                                                                                                                         -50                                                                                                                            -50
                                                                                                                                                                                                                                                                                                   SINGLE-ENDED LINE INPUT
                    -60                                                                                                                         -60          VOUT = 300mVRMS                                                                                                   -60
                                     fIN = 6000Hz
                    -70                                                   fIN = 100Hz                                                           -70                                      VOUT = 0.707mVRMS                                                                     -70
                    -80                                                                                                                         -80                                                                                                                            -80
                    -90                                                                                                                         -90                                                                                                                            -90
                                         fIN = 1000Hz                                                                                                                                                                                                                                            DIFFERENTIAL LINE INPUT
                   -100                                                                                                                        -100                                                                                                                           -100
                          0        0.2        0.4                              0.6       0.8        1.0                                               10           100                             1k                        10k        100k                                         10          100                      1k     10k     100k
                                           OUTPUT LEVEL (V)                                                                                                                          FREQUENCY (Hz)                                                                                                         FREQUENCY (Hz)
                                                                                        INBAND OUTPUT SPECTRUM,                                                                                                                 INBAND OUTPUT SPECTRUM,
                                                                                     -3dBV INPUT (LINE IN TO LINE OUT)                                                                                                       -60dBV INPUT (LINE IN TO LINE OUT)
                                                                         20                                                                                                                                        20
                                                                                                                                                                    MAX98090 toc71                                                                                                                     MAX98090 toc72
                                                                                                                                               AV_LINEPGA = 0dB                                                                                                                 AV_LINEPGA = 0dB
                                                                          0                                                                    AV_LOUT = +3dB                                                       0                                                           AV_LOUT = +3dB
                                                                         -20                                                                   RLOUT = 10kI                                                        -20                                                          RLOUT = 10kI
                                               OUTPUT AMPLITUDE (dBV)                                                                                                                    OUTPUT AMPLITUDE (dBV)
                                                                                                                                               CIN = 10µF                                                                                                                       CIN = 10µF
                                                                         -40                                                                                                                                       -40
                                                                         -60                                                                                                                                       -60
                                                                         -80                                                                                                                                       -80
                                                                        -100                                                                                                                                      -100
                                                                        -120                                                                                                                                      -120
                                                                        -140                                                                                                                                      -140
                                                                        -160                                                                                                                                      -160
                                                                                0              5                       10                             15           20                                                    0          5                       10                            15        20
                                                                                                   FREQUENCY (kHz)                                                                                                                       FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                                 Maxim Integrated │ 49


MAX98090                                                                                                                                                           Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                  DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE                                                                      TOTAL HARMONIC DISTORTION PLUS NOISE
                            vs. OUTPUT POWER (DAC TO SPEAKER)                                                                    vs. OUTPUT POWER (DAC TO SPEAKER)                                                                         vs. OUTPUT POWER (DAC TO SPEAKER)
                     0                                                                                                     0                                                                                                         0
                                                                                  MAX98090 toc73                                                                                           MAX98090 toc74                                                                                              MAX98090 toc75
                              VSPK_VDD = 5V                                                                                         VSPK_VDD = 4.2V                                                                                           VSPK_VDD = 3.7V
                    -10                                                                                                  -10                                                                                                       -10        fMCLK = 12.288MHz
                              fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz            fIN = 6000Hz                                                                                           fIN = 6000Hz
                    -20       fLRCLK = 48kHz            fIN = 6000Hz                                                     -20        fLRCLK = 48kHz                                                                                 -20        fLRCLK = 48kHz
                              AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB                                                                                          AV_SPKPGA = +8dB
                    -30                                                                                                  -30                                                                                                       -30
                                                                                                                                                                                                                                              ZSPK = 8I + 68µH
THD+N RATIO (dB)                                                                                     THD+N RATIO (dB)                                                                                          THD+N RATIO (dB)
                              ZSPK = 8I + 68µH                                                                                      ZSPK = 8I + 68µH
                    -40       WLP PACKAGE                                                                                -40        WLP PACKAGE                                                                                    -40        WLP PACKAGE
                    -50                                                                                                  -50                                                                                                       -50
                    -60                                                                                                  -60                                                                                                       -60
                    -70                                                                                                  -70                                                                                                       -70                                            fIN = 1000Hz
                    -80                                                                                                  -80                                           fIN = 1000Hz                                                -80
                                                               fIN = 1000Hz
                    -90        fIN = 100Hz                                                                               -90         fIN = 100Hz                                                                                   -90          fIN = 100Hz
                   -100                                                                                                 -100                                                                                                      -100
                          0            0.5            1.0          1.5           2.0                                            0      0.2       0.4       0.6   0.8     1.0    1.2    1.4                                                0        0.2        0.4     0.6         0.8     1.0    1.2
                                              OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                        OUTPUT POWER (W)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE                                                                      TOTAL HARMONIC DISTORTION PLUS NOISE
                            vs. OUTPUT POWER (DAC TO SPEAKER)                                                                    vs. OUTPUT POWER (DAC TO SPEAKER)                                                                         vs. OUTPUT POWER (DAC TO SPEAKER)
                     0                                                                                                    0                                                                                                         0
                                                                                  MAX98090 toc76                                                                                        MAX98090 toc77                                                                                            MAX98090 toc78
                              VSPK_VDD = 3V                                                                                         VSPK_VDD = 5V                                                                                             VSPK_VDD = 4.2V
                    -10                                 fIN = 6000Hz                                                     -10                                                                                                       -10
                              fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz                                                                                         fMCLK = 12.288MHz
                    -20       fLRCLK = 48kHz                                                                             -20        fLRCLK = 48kHz                                                                                 -20        fLRCLK = 48kHz
                              AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB fIN = 6000Hz                                                                             AV_SPKPGA = +8dB fIN = 6000Hz
                    -30                                                                                                  -30                                                                                                       -30
                                                                                                                                                                                                            THD+N RATIO (dB)
                                                                                                                                                                                                                                              ZSPK = 4I + 33µH
THD+N RATIO (dB)                                                                                   THD+N RATIO (dB)
                              ZSPK = 8I + 68µH                                                                                      ZSPK = 4I + 33µH
                    -40       WLP PACKAGE                                                                                -40        WLP PACKAGE                                                                                    -40        WLP PACKAGE
                    -50                                                                                                  -50                                                                                                       -50
                    -60                                                                                                  -60                                                                                                       -60
                    -70                                     fIN = 1000Hz                                                 -70                                                                                                       -70
                    -80                                                                                                  -80                                            fIN = 1000Hz                                               -80                                        fIN = 1000Hz
                    -90               fIN = 100Hz                                                                        -90                                                                                                       -90
                                                                                                                                             fIN = 100Hz                                                                                            fIN = 100Hz
                   -100                                                                                                 -100                                                                                                      -100
                          0     0.1     0.2     0.3   0.4   0.5    0.6     0.7   0.8                                           0       0.5      1.0    1.5       2.0    2.5     3.0    3.5                                               0          0.5         1.0         1.5         2.0      2.5
                                              OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                        OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                                             Maxim Integrated │ 50


MAX98090                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                                                                                                                                                                                                                             TOTAL HARMONIC DISTORTION PLUS NOISE
                           TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE
                                                                                                                                                                                                                                               vs. OUTPUT POWER (DAC TOSPEAKER)
                             vs. OUTPUT POWER (DAC TO SPEAKER)                                                                    vs. OUTPUT POWER (DAC TO SPEAKER)                                                                                                                          MAX98090 toc81
                                                                                                                           0                                                                                                            0
                      0
                                                                                     MAX98090 toc79                                                                                              MAX98090 toc80
                               VSPK_VDD = 3.7V                                                                                       VSPK_VDD = 3V                                                                                    -10                 VSPKVDD = 5V
                     -10                                                                                                  -10                                                                                                                             fMCLK = 12.288MHz
                               fMCLK = 12.288MHz          fIN = 6000Hz                                                               fMCLK = 12.288MHz
                     -20       fLRCLK = 48kHz                                                                             -20        fLRCLK = 48kHz                                                                                   -20                 fLRCLK = 48kHz
                               AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB                                                                                 -30                 AV_SPKPGA = +8dB
                     -30                                                                                                  -30
                                                                                                                                                                                                                   THD+N RATIO(dB)
 THD+N RATIO (dB)
                               ZSPK = 4I + 33µH
                                                                                                      THD+N RATIO (dB)
                                                                                                                                     ZSPK = 4I + 33µH                                                                                                     ZSPK = 8Ω + 68µH
                     -40       WLP PACKAGE                                                                                -40        WLP PACKAGE                                                                                      -40                 TQFNPACKAGE
                     -50                                                                                                                                                                                                              -50
                                                                                                                          -50
                                                                                                                                                                           fIN = 6000Hz                                               -60
                     -60                                                                                                  -60
                     -70                                                                                                                                                fIN = 1000Hz                                                  -70                                              fIN = 6000Hz
                                                                                                                          -70
                     -80                                     fIN = 1000Hz                                                                                                                                                             -80                                              fIN = 1000Hz
                                                                                                                          -80
                     -90                                                                                                                                                                                                              -90                                              fIN = 100Hz
                                                                                                                          -90
                                      fIN = 100Hz                                                                                      fIN = 100Hz
                    -100                                                                                                                                                                                                             -100
                                                                                                                         -100
                           0      0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00                                                                                                                                                                   0.00         0.50           1.00          1.50                  2.00
                                                                                                                                 0       0.2     0.4        0.6     0.8     1.0       1.2      1.4
                                           OUTPUT POWER (W)                                                                                                                                                                                                     OUTPUT POWER(W)
                                                                                                                                                     OUTPUT POWER (W)
                            TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE                                                                       TOTAL HARMONIC DISTORTION PLUS NOISE
                              vs. OUTPUT POWER (DAC TOSPEAKER)                                                                     vs. OUTPUT POWER (DAC TOSPEAKER)                                                                           vs. OUTPUT POWER (DAC TOSPEAKER)
                                                                         MAX98090 toc82                                                                                             MAX98090 toc83                                                                                         MAX98090 toc84
                       0                                                                                                    0                                                                                                          0
                                 VSPKVDD = 4.2V                                                                                        VSPKVDD = 3.7V                                                                                             VSPKVDD = 3V      TQFNPACKAGE
                     -10                                                                                                   -10                                                                                                        -10
                                 fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz                                                                                          fMCLK = 12.288MHz
                     -20         fLRCLK = 48kHz                                                                            -20         fLRCLK = 48kHz                                                                                 -20         fLRCLK = 48kHz
                                 AV_SPKPGA = +8dB                                                                          -30         AV_SPKPGA = +8dB                                                                               -30         AV_SPKPGA = +8dB
                     -30
                                                                                                                                       ZSPK = 8Ω + 68µH                                                                                           ZSPK = 8Ω + 68µH
                                                                                                      THD+N RATIO(dB)                                                                                             THD+N RATIO(dB)
                                 ZSPK = 8Ω + 68µH
THD+N RATIO(dB)
                     -40         TQFNPACKAGE                                                                               -40         TQFNPACKAGE                                                                                    -40
                     -50                                                                                                   -50                                                                                                        -50
                     -60                                                                                                   -60                                                                                                        -60
                     -70                                            fIN = 6000Hz                                           -70                                                  fIN = 6000Hz                                          -70                                            fIN = 6000Hz
                     -80                                            fIN = 1000Hz                                           -80                                                  fIN = 1000Hz                                          -80                                            fIN = 1000Hz
                     -90                                             fIN = 100Hz                                           -90                                                  fIN = 100Hz                                           -90                                            fIN = 100Hz
                    -100                                                                                                  -100                                                                                                       -100
                           0.0      0.2   0.4       0.6     0.8    1.0      1.2     1.4                                          0.0       0.2        0.4         0.6     0.8        1.0       1.2                                          0.0    0.1   0.2     0.3   0.4     0.5   0.6      0.7     0.8
                                            OUTPUT POWER(W)                                                                                          OUTPUT POWER(W)                                                                                           OUTPUT POWER(W)
www.maximintegrated.com                                                                                                                                                                                                                                           Maxim Integrated │ 51


                  MAX98090                                                                                                                                                        Ultra-Low Power Stereo Audio Codec
                  Typical Operating Characteristics (continued)
                  (VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
                  between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
                  RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
                  nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
                  = CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
                  AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
                  0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                       DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                               TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE                                                                     TOTAL HARMONIC DISTORTION PLUS NOISE
                                                 vs. OUTPUT POWER (DAC TOSPEAKER)                                                                  vs. OUTPUT POWER (DAC TOSPEAKER)                                                                         vs. OUTPUT POWER (DAC TOSPEAKER)
                                                                                                                                                                                              MAX98090 toc86                                                                                        MAX98090 toc87
                                          0
                                                                                                   MAX98090toc85
                                                                                                                                             0                                                                                                       0
                                                     VSPKVDD = 5V                                                                                      VSPKVDD = 4.2V                                                                                         VSPKVDD = 3.7V
                                         -10                                                                                               -10                                                                                                     -10
                                                     fMCLK = 12.288MHz                                                                                 fMCLK = 12.288MHz                                                                                      fMCLK = 12.288MHz
                                         -20                                                                                               -20         fLRCLK = 48kHz                                                                              -20        fLRCLK = 48kHz
                                                     fLRCLK = 48kHz
                                                     AV_SPKPGA = +8dB                                                                                  AV_SPKPGA = +8dB                                                                            -30        AV_SPKPGA = +8dB
                                         -30                                                                                               -30
                                                                                                                                                                                                                                                              ZSPK = 4Ω + 33µH
                                                                                                                                                                                                                            THD+N RATIO(dB)
                                                                                                                                                       ZSPK = 4Ω + 33µH
                                                                                                                   THD+N RATIO(dB)
                                                     ZSPK = 4Ω + 33µH
                  THD+N RATIO(dB)
                                         -40                                                                                               -40         TQFNPACKAGE                                                                                 -40        TQFNPACKAGE
                                                     TQFNPACKAGE
                                         -50                                                                                               -50                                                                                                     -50
                                         -60                                                                                               -60                                                                                                     -60
                                         -70                                                    fIN = 6000Hz                               -70                                           fIN = 6000Hz                                              -70                                         fIN = 6000Hz
                                         -80                                                    fIN = 1000Hz                               -80                                           fIN = 1000Hz                                              -80                                         fIN = 1000Hz
                                         -90                                                                                               -90                                           fIN = 100Hz                                               -90                                         fIN = 100Hz
                                                                                                fIN = 100Hz
                                        -100                                                                                              -100                                                                                                    -100
                                               0.0              1.0                2.0                 3.0                                       0.0        0.5        1.0        1.5     2.0            2.5                                             0.00 0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00
                                                                 OUTPUT POWER(W)                                                                                    OUTPUT POWER(W)                                                                                        OUTPUT POWER(W)
                                         TOTAL HARMONIC DISTORTION PLUS NOISE                                                                    TOTAL HARMONIC DISTORTION PLUS NOISE                                                                    TOTAL HARMONIC DISTORTION PLUS NOISE
                                           vs. OUTPUT POWER (DAC TOSPEAKER)                                                                         vs. FREQUENCY (DAC TO SPEAKER)                                                                          vs. FREQUENCY (DAC TO SPEAKER)
                                    0
                                                                                               MAX98090 toc88                               0
                                                                                                                                                                                                                                                    0
                                                                                                                                                                                                           MAX98090 toc89
                                                                                                                                                                                                                                                                                                                 MAX98090 toc90
                                           VSPKVDD = 3V                     TQFN PACKAGE                                                               VSPK_VDD = 5V
                           -10                                                                                                             -10                                                                                                                VSPK_VDD = 4.2V
                                           fMCLK = 12.288MHz                                                                                           fMCLK = 12.288MHz                                                                           -10
                                                                                                                                                                                                                                                              fMCLK = 12.288MHz
                           -20             fLRCLK = 48kHz                                                                                  -20         fLRCLK = 48kHz
                                                                                                                                                                                                                                                   -20        fLRCLK = 48kHz
                                           AV_SPKPGA = +8dB                                                                                            AV_SPKPGA = +8dB
                           -30                                                                                                             -30                                                                                                                AV_SPKPGA = +8dB
                                                                                                                                                                                                                                                   -30
                                                                                                                       THD+N RATIO (dB)
                                           ZSPK = 4Ω + 33µH                                                                                            ZSPK = 8I + 68µH
                                                                                                                                                                                                                               THD+N RATIO (dB)
                                                                                                                                                                                                                                                              ZSPK = 8I + 68µH
THD+N RATIO(dB)
                           -40                                                                                                             -40         WLP PACKAGE
                                                                                                                                                                                                                                                   -40        WLP PACKAGE
                                                                                                                                           -50                      POUT = 1.00W
                           -50                                                                                                                                                                                                                     -50
                                                                                                                                           -60                                                                                                                    POUT = 0.76W
                           -60                                                                                                                                                                                                                     -60
                           -70                                                            fIN = 6000Hz                                     -70                                                                                                     -70
                           -80                                                            fIN = 1000Hz                                     -80                                                                                                     -80
                                                                                                                                                                        POUT = 0.25W                                                                                           POUT = 0.20W
                           -90                                                            fIN = 100Hz                                      -90                                                                                                     -90
                      -100                                                                                                                -100                                                                                                    -100
                                        0.0      0.2      0.4         0.6    0.8         1.0     1.2         1.4                                 10           100            1k         10k            100k                                              10          100          1k          10k            100k
                                                            OUTPUT POWER(W)                                                                                          FREQUENCY (Hz)                                                                                         FREQUENCY (Hz)
                  www.maximintegrated.com                                                                                                                                                                                                                                      Maxim Integrated │ 52


MAX98090                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                           TOTAL HARMONIC DISTORTION PLUS NOISE                                                         TOTAL HARMONIC DISTORTION PLUS NOISE                                                                       TOTAL HARMONIC DISTORTION PLUS
                              vs. FREQUENCY (DAC TO SPEAKER)                                                               vs. FREQUENCY (DAC TO SPEAKER)                                                                        NOISE vs. FREQUENCY (DAC TO SPEAKER)
                      0                                                                                            0                                                                                                        0
                                                                        MAX98090 toc91                                                                                           MAX98090 toc92                                                                                           MAX98090 toc93
                                VSPK_VDD = 3.7V                                                                              VSPK_VDD = 5V                                                                                             VSPK_VDD = 4.2V
                     -10                                                                                          -10                                                                                                      -10
                                fMCLK = 12.288MHz                                                                            fMCLK = 12.288MHz                                                                                         fMCLK = 12.288MHz
                     -20        fLRCLK = 48kHz                                                                    -20        fLRCLK = 48kHz                                                                                -20         fLRCLK = 48kHz
                                AV_SPKPGA = +8dB                                                                             AV_SPKPGA = +8dB                                                                                          AV_SPKPGA = +8dB
                     -30                                                                                          -30                                                                                                      -30
THD+N RATIO (dB)                                                                              THD+N RATIO (dB)
                                ZSPK = 8I + 68µH                                                                             ZSPK = 4I + 33µH
                                                                                                                                                                                                  THD+N RATIO (dB)
                                                                                                                                                                                                                                       ZSPK = 4I + 33µH
                     -40        WLP PACKAGE                                                                       -40        WLP PACKAGE                                                                                   -40         WLP PACKAGE
                     -50            POUT = 0.60W                                                                  -50                                                                                                      -50               POUT = 1.50W
                     -60                                                                                          -60           POUT = 2.00W
                                                                                                                                                                                                                           -60
                     -70                                                                                          -70                                                                                                      -70
                     -80                                                                                          -80                                                                                                      -80
                                                 POUT = 0.15W                                                                                  POUT = 0.50W
                     -90                                                                                          -90                                                                                                      -90                        POUT = 0.40W
                    -100                                                                                         -100                                                                                                -100
                           10          100           1k         10k   100k                                              10          100            1k           10k          100k                                                10             100            1k        10k           100k
                                              FREQUENCY (Hz)                                                                               FREQUENCY (Hz)                                                                                             FREQUENCY (Hz)
                             TOTAL HARMONIC DISTORTION PLUS                                                                 TOTAL HARMONIC DISTORTION PLUS                                                                               TOTAL HARMONIC DISTORTION PLUS
                           NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                           NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                         NOISE vs. FREQUENCY (DAC TO SPEAKER)
                                                                                                                                                                      MAX98090 toc95                                                                                              MAX98090 toc96
                       0                                                                                            0                                                                                                            0
                                                                          MAX98090 toc94
                                 VSPK_VDD = 3.7V                                                                  -10        VSPKVDD = 5V                                                                                    -10           VSPKVDD = 4.2V
                     -10
                                 fMCLK = 12.288MHz                                                                           fMCLK = 12.288MHz                                                                                             fMCLK = 12.288MHz
                     -20         fLRCLK = 48kHz                                                                   -20        fLRCLK = 48kHz                                                                                  -20           fLRCLK = 48kHz
                     -30         AV_SPKPGA = +8dB                                                                 -30        AV_SPKPGA = +8dB                                                                                -30           AV_SPKPGA = +8dB
 THD+N RATIO (dB)                                                                          THD+N RATIO(dB)                                                                                               THD+N RATIO(dB)
                                 ZSPK = 4I + 33µH                                                                            ZSPK = 8Ω + 68µH                                                                                              ZSPK = 8Ω + 68µH
                     -40         WLP PACKAGE                                                                      -40                                                                                                        -40
                                                                                                                             TQFNPACKAGE                                                                                                   TQFNPACKAGE
                     -50            POUT = 1.20W                                                                  -50                                                                                                        -50
                     -60                                                                                          -60           POUT = 1.00W                                                                                 -60              POUT = 0.76W
                     -70                                                                                          -70                                                                                                        -70
                     -80                                                                                          -80                                                                                                        -80
                     -90                      POUT = 0.30W                                                        -90                            POUT = 0.25W                                                                -90                               POUT = 0.2W
                    -100                                                                                         -100                                                                                                       -100
                           10           100          1k         10k   100k                                              10           100          1,000         10,000        100,000                                                 10          100           1,000        10,000       100,000
                                              FREQUENCY (Hz)                                                                               FREQUENCY (Hz)                                                                                               FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                   Maxim Integrated │ 53


 MAX98090                                                                                                                                                           Ultra-Low Power Stereo Audio Codec
 Typical Operating Characteristics (continued)
 (VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
 between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
 RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
 nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
 = CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
 AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
 0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                             TOTAL HARMONIC DISTORTION PLUS                                                                       TOTAL HARMONIC DISTORTION PLUS                                                                        TOTAL HARMONIC DISTORTION PLUS
                           NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                 NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                  NOISE vs. FREQUENCY (DAC TO SPEAKER)
                                                                      MAX98090 toc97                                                                                          MAX98090 toc98                                                                                        MAX98090 toc99
                     0                                                                                                    0                                                                                                     0
                    -10        VSPKVDD = 3.7V                                                                           -10          VSPKVDD = 5V                                                                              -10         VSPKVDD = 4.2V
                               fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz
                    -20        fLRCLK = 48kHz                                                                           -20          fLRCLK = 48kHz                                                                            -20         fLRCLK = 48kHz
                    -30        AV_SPKPGA = +8dB                                                                         -30          AV_SPKPGA = +8dB                                                                          -30         AV_SPKPGA = +8dB
THD+N RATIO(dB)                                                                          THD+N RATIO(dB)                                                                                        THD+N RATIO(dB)
                               ZSPK = 8Ω + 68µH                                                                                      ZSPK = 4Ω + 68µH                                                                                      ZSPK = 4Ω + 68µH
                    -40        TQFNPACKAGE                                                                              -40          TQFNPACKAGE                                                                               -40         TQFNPACKAGE
                    -50                                                                                                 -50                                                                                                    -50
                    -60           POUT = 0.6W                                                                           -60             POUT = 1.8W                                                                            -60             POUT = 1.3W
                    -70                                                                                                 -70                                                                                                    -70
                    -80                                                                                                 -80                                                                                                    -80
                    -90                          POUT = 0.15W                                                           -90                                POUT = 0.5W                                                         -90                               POUT = 0.4W
                   -100                                                                                                 -100                                                                                                  -100
                          10          100          1,000         10,000       100,000                                          10              100          1,000        10,000       100,000                                        10              100          1,000        10,000       100,000
                                            FREQUENCY (Hz)                                                                                           FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
                             TOTAL HARMONIC DISTORTION PLUS                                                                          OUTPUT POWER vs. SUPPLY VOLTAGE                                                                       OUTPUT POWER vs. SUPPLY VOLTAGE
                           NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                              (DAC TO SPEAKER)                                                                                      (DAC TO SPEAKER)
                                                                   MAX98090 toc100                                                                                           MAX98090 toc101                                                                                       MAX98090 toc102
                      0                                                                                                 2500                                                                                                  4500
                    -10        VSPKVDD = 3.7V                                                                                        fMCLK = 12.288MHz                THD+N = 10%                                                          fMCLK = 12.288MHz
                                                                                                                                                                                                                              4000                                          THD+N = 10%
                               fMCLK = 12.288MHz                                                                                     fLRCLK = 48kHz                                                                                        fLRCLK = 48kHz
                                                                                          OUTPUT POWERPERCHANNEL (mW)                                                                           OUTPUT POWERPERCHANNEL (mW)
                    -20        fLRCLK = 48kHz                                                                           2000         AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB
                                                                                                                                                                                                                              3500
                    -30        AV_SPKPGA = +8dB                                                                                      ZSPK = 8Ω + 68µH                                                                                      ZSPK = 4Ω + 68µH
                                                                                                                                                                                                                              3000
 THD+N RATIO(dB)
                               ZSPK = 4Ω + 68µH                                                                                      WLP PACKAGE                                                                                           WLP PACKAGE
                    -40                                                                                                 1500
                               TQFNPACKAGE                                                                                                                                                                                    2500
                    -50
                                   POUT = 1.0W                                                                                                                                                                                2000
                    -60                                                                                                 1000
                    -70                                                                                                                                                                                                       1500
                    -80                                                                                                  500                                          THD+N = 1%                                              1000
                                                                                                                                                                                                                                                                            THD+N = 1%
                    -90                            POUT = 0.3W                                                                                                                                                                500
                   -100                                                                                                    0                                                                                                    0
                          10           100          1,000        10,000        100,000                                         2.5       3.0         3.5     4.0      4.5      5.0        5.5                                        2.5       3.0         3.5     4.0      4.5     5.0        5.5
                                             FREQUENCY (Hz)                                                                                          SUPPLY VOLTAGE(V)                                                                                     SUPPLY VOLTAGE(V)
 www.maximintegrated.com                                                                                                                                                                                                                                         Maxim Integrated │ 54


MAX98090                                                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                         DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                           OUTPUT POWER vs. SUPPLY VOLTAGE                                                                             OUTPUT POWER vs. SUPPLY VOLTAGE                                                                              GAIN vs. FREQUENCY
                                                   (DAC TO SPEAKER)                                                                                            (DAC TO SPEAKER)                                                                                      (DAC TO SPEAKER)
                                                                              MAX98090 toc103                                                                                              MAX98090 toc104
                              2500                                                                                                        4500                                                                                                      5
                                                                                                                                                                                                                                                                                                                    MAX98090 toc105
                                           fMCLK = 12.288MHz           THD+N = 10%                                                                     fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz
                                                                                                                                          4000         fLRCLK = 48kHz               THD+N = 10%                                                     4
                                           fLRCLK = 48kHz                                                                                                                                                                                                    fLRCLK = 48kHz
OUTPUT POWERPERCHANNEL (mW)                                                                                 OUTPUT POWERPERCHANNEL (mW)
                              2000         AV_SPKPGA = +8dB                                                                                            AV_SPKPGA = +8dB                                                                             3        AV_SPKPGA = 0dB
                                                                                                                                          3500
                                           ZSPK = 8Ω + 68µH                                                                                            ZSPK = 4Ω + 68µH                                                                                      ZSPK = 8I + 68µH
                                                                                                                                                                                                                           NORMALIZED GAIN (dB)
                                                                                                                                          3000                                                                                                      2
                                           TQFNPACKAGE                                                                                                 TQFNPACKAGE
                              1500                                                                                                                                                                                                                  1
                                                                                                                                          2500
                                                                                                                                                                                                                                                    0
                                                                                                                                          2000
                              1000                                                                                                                                                                                                                 -1
                                                                                                                                          1500
                                                                                                                                                                                                                                                   -2
                              500                                      THD+N = 1%                                                         1000
                                                                                                                                                                                    THD+N = 1%                                                     -3
                                                                                                                                          500
                                                                                                                                                                                                                                                   -4
                                0                                                                                                           0                                                                                                      -5
                                     2.5       3.0     3.5     4.0     4.5     5.0         5.5                                                   2.5       3.0     3.5     4.0      4.5     5.0           5.5                                           10          100          1k          10k          100k
                                                      SUPPLY VOLTAGE(V)                                                                                           SUPPLY VOLTAGE(V)                                                                                       FREQUENCY (Hz)
                                                EFFICIENCY vs. OUTPUT                                                                                       EFFICIENCY vs. OUTPUT                                                                                EFFICIENCY vs. OUTPUT
                                               POWER (DAC TO SPEAKER)                                                                                      POWER (DAC TO SPEAKER)                                                                               POWER (DAC TO SPEAKER)
                              100                                                                                                         100                                                                                                     100
                                                                                          MAX98090 toc106                                                                                              MAX98090 toc107                                                                                     MAX98090 toc108
                               90                                                                                                          90                                                                                                     90
                               80                                                                                                          80                                                                                                     80
                                           ZSPK = 8I + 68µH          ZSPK = 4I + 33µH                                                                  ZSPK = 8I + 68µH                                                                           70         ZSPK = 8I + 68µH
                               70                                                                                                          70                                    ZSPK = 4I + 33µH                                                                                     ZSPK = 4I + 33µH
  EFFICIENCY (%)                                                                                              EFFICIENCY (%)                                                                                             EFFICIENCY (%)
                               60                                                                                                          60                                                                                                     60
                               50                                                                                                          50                                                                                                     50
                               40                                                                                                          40                                                                                                     40
                                                                 VSPK_VDD = 5V                                                                                               VSPK_VDD = 4.2V
                                                                 fMCLK = 12.288MHz                                                                                                                                                                30                                  VSPK_VDD = 3.7V
                               30                                                                                                          30                                fMCLK = 12.288MHz
                                                                 fLRCLK = 48kHz                                                                                                                                                                                                       fMCLK = 12.288MHz
                                                                                                                                           20                                fLRCLK = 48kHz                                                       20
                               20                                                                                                                                                                                                                                                     fLRCLK = 48kHz
                                                                 AV_SPKPGA = +8dB                                                                                            AV_SPKPGA = +8dB
                                                                 WLP PACKAGE                                                                                                                                                                      10                                  AV_SPKPGA = +8dB
                               10                                                                                                          10                                WLP PACKAGE
                                                                                                                                                                                                                                                                                      WLP PACKAGE
                                0                                                                                                           0                                                                                                       0
                                     0       0.5 1.0 1.5 2.0 2.5 3.0                   3.5                                                       0        0.5   1.0   1.5    2.0    2.5             3.0                                                 0     0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00
                                              OUTPUT POWER PER CHANNEL (W)                                                                                OUTPUT POWER PER CHANNEL (W)                                                                          OUTPUT POWER PER CHANNEL (W)
www.maximintegrated.com                                                                                                                                                                                                                                                     Maxim Integrated │ 55


MAX98090                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                 DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                              EFFICIENCY vs. OUTPUT                                                                         EFFICIENCY vs. OUTPUT                                                                               EFFICIENCY vs. OUTPUT
                                             POWER (DAC TOSPEAKER)                                                                         POWER (DAC TOSPEAKER)                                                                               POWER (DAC TOSPEAKER)
                                                                        MAX98090 toc109                                                                                 MAX98090 toc110                                                                                          MAX98090 toc111
                        100                                                                                              100                                                                                               100
                         90                                                                                               90                                                                                                90
                         80                                                                                               80                                                                                                80
                         70                                                                                               70                                                                                                70
      EFFICIENCY (%)                                                                                   EFFICIENCY (%)                                                                                EFFICIENCY (%)
                         60            ZSPK = 8W + 68µH      ZSPK = 4W + 33µH                                             60            ZSPK = 8W + 68µH     ZSPK = 4W + 33µH                                               60            ZSPK = 8W + 68µH         ZSPK = 4W + 33µH
                         50                                                                                               50                                                                                                50
                         40                                                                                               40                                                                                                40
                                                              VSPKVDD = 5V                                                                                    VSPKVDD = 4.2V                                                                                        VSPKVDD = 3.7V
                         30                                   fMCLK = 12.288MHz                                           30                                  fMCLK = 12.288MHz                                             30                                      fMCLK = 12.288MHz
                         20                                   fLRCLK = 48kHz                                              20                                  fLRCLK = 48kHz                                                                                        fLRCLK = 48kHz
                                                                                                                                                                                                                            20
                                                              AV_SPKPGA = +8dB                                                                                AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB
                         10                                   TQFNPACKAGE                                                 10                                  TQFNPACKAGE                                                   10                                      TQFNPACKAGE
                             0                                                                                                0                                                                                              0
                                 0.0   0.5  1.0   1.5  2.0  2.5    3.0                   3.5                                      0.0   0.5    1.0   1.5   2.0     2.5                    3.0                                     0.0    0.3    0.5   0.8    1.0     1.3   1.5       1.8     2.0
                                        OUTPUT POWERPERCHANNEL (W)                                                                      OUTPUT POWERPERCHANNEL (W)                                                                         OUTPUT POWERPERCHANNEL (W)
                             SUPPLY CURRENT vs. SUPPLY VOLTAGE                                                                     POWER-SUPPLY REJECTION RATIO                                                                            CROSSTALK vs. FREQUENCY
                                      (DAC TO SPEAKER)                                                                             vs. FREQUENCY (DAC TO SPEAKER)                                                                             (DAC TO SPEAKER)
                       5.0                                                                                              120                                                                                                  0
                                                                                   MAX98090 toc112                                                                                 MAX98090 toc113                                                                                             MAX98090 toc114
                                   fMCLK = 12.288MHz                                                                                                                                                                                    fMCLK = 12.288MHz
                       4.5
                                   fLRCLK = 48kHz                                                                                                                                                                                       fLRCLK = 48kHz
                                                                                                                        100                                                                                                 -20
                       4.0         ZSPK = 8I + 68µH                                                                                                     SPK_VDD                                                                         AV_SPKPGA = 0dB
                                                                                                                                                                                                                                        ZSPK = 8I + 68µH
SUPPLY CURRENT (mA)
                       3.5
                                                                                                                        80                                                                                                  -40
                                                                                                                                                                                                          CROSSTALK (dB)
                       3.0
                                                                                                     PSRR (dB)
                       2.5                                                                                              60                  OTHER SUPPLIES                                                                  -60
                       2.0                                                                                                                                                                                                                                         LEFT TO RIGHT
                                                                                                                        40                                                                                                  -80
                       1.5                                                                                                                                                                                                                     RIGHT TO LEFT
                                                                                                                                   fMCLK = 12.288MHz
                       1.0                                                                                                         fLRCLK = 48kHz
                                                                                                                        20                                                                                                 -100
                                                                                                                                   VRIPPLE = 100mVP-P
                       0.5
                                                                                                                                   ZSPK = 8I + 68µH
                        0                                                                                                 0                                                                                                -120
                             2.5       3.0     3.5     4.0     4.5    5.0        5.5                                          10          100           1k        10k           100k                                               10           100          1k            10k              100k
                                              SUPPLY VOLTAGE (V)                                                                                FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                 Maxim Integrated │ 56


MAX98090                                                                                                                                                                                                               Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                      INBAND OUTPUT SPECTRUM,                                                                                                INBAND OUTPUT SPECTRUM,                                                                                                                  INBAND OUTPUT SPECTRUM,
                                    -3dBFS INPUT (DAC TO SPEAKER)                                                                                          -60dBFS INPUT (DAC TO SPEAKER)                                                                                                           -3dBFS INPUT (DAC TO SPEAKER)
                          20                                                                                                                    20                                                                                                                                       20
                                                                                                    MAX98090 toc115                                                                                                                          MAX98090 toc116                                                                                               MAX98090 toc117
                                                                              fMCLK = 12.288MHz                                                                                                                        fMCLK = 12.288MHz                                                                                                 fMCLK = 13MHz
                           0                                                                                                                     0                                                                                                                                        0
                                                                                  fLRCLK = 48kHz                                                                                                                           fLRCLK = 48kHz                                                                                              fLRCLK = 44.1kHz
                          -20                                                  AV_SPKPGA = -6dB                                                 -20                                                                     AV_SPKPGA = -6dB                                                 -20                                          AV_SPKPGA = -6dB
OUTPUT AMPLITUDE (dBV)                                                                                                OUTPUT AMPLITUDE (dBV)                                                                                                                   OUTPUT AMPLITUDE (dBV)
                                                                               ZSPK = 8I + 68µH                                                                                                                         ZSPK = 8I + 68µH                                                                                              ZSPK = 8I + 68µH
                          -40                                                                                                                   -40                                                                                                                                      -40
                          -60                                                                                                                   -60                                                                                                                                      -60
                          -80                                                                                                                   -80                                                                                                                                      -80
                         -100                                                                                                                  -100                                                                                                                                     -100
                         -120                                                                                                                  -120                                                                                                                                     -120
                         -140                                                                                                                  -140                                                                                                                                     -140
                         -160                                                                                                                                                                                                                                                           -160
                                                                                                                                               -160
                                0        5                               10             15         20                                                                                                                                                                                          0         5                       10         15            20
                                                                                                                                                      0          5                                               10             15          20
                                             FREQUENCY (kHz)                                                                                                                                                                                                                                                  FREQUENCY (kHz)
                                                                                                                                                                         FREQUENCY (kHz)
                                                                                         INBAND OUTPUT SPECTRUM,                                                                                                                 INBAND OUTPUT SPECTRUM,
                                                                                       -60dBFS INPUT (DAC TO SPEAKER)                                                                                                          -3dBFS INPUT (DAC TO SPEAKER)
                                                                              20                                                                                                                                      20
                                                                                                                                                                      MAX98090 toc118                                                                                                                         MAX98090 toc119
                                                                                                                                                   fMCLK = 13MHz                                                                                                                        fMCLK = 12.88MHz
                                                                              0                                                                                                                                       0
                                                                                                                                                 fLRCLK = 44.1kHz                                                                                                                          fLRCLK = 48kHz
                                                                          -20                                                                   AV_SPKPGA = -6dB                                                  -20                                                                   AV_SPKPGA = -6dB
                                                OUTPUT AMPLITUDE (dBV)                                                                                                                  OUTPUT AMPLITUDE (dBV)
                                                                                                                                                ZSPK = 8I + 68µH                                                                                                                        ZSPK = 4I + 33µH
                                                                          -40                                                                                                                                     -40
                                                                          -60                                                                                                                                     -60
                                                                          -80                                                                                                                                     -80
                                                                         -100                                                                                                                                    -100
                                                                         -120                                                                                                                                    -120
                                                                         -140                                                                                                                                    -140
                                                                         -160                                                                                                                                    -160
                                                                                   0         5                        10                                  15         20                                                    0         5                         10                                  15        20
                                                                                                   FREQUENCY (kHz)                                                                                                                       FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                                         Maxim Integrated │ 57


MAX98090                                                                                                                                                                                                  Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                             DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (CONTINUED)
                                                                                          INBAND OUTPUT SPECTRUM,                                                                                                      WIDEBAND FREQUENCY SPECTRUM
                                                                                        -60dBFS INPUT (DAC TO SPEAKER)                                                                                                       (DAC TO SPEAKER)
                                                                              20                                                                                                                            0
                                                                                                                                                                     MAX98090 toc120                                                                                                               MAX98090 toc121
                                                                                                                                            fMCLK = 12.88MHz                                                                                                                fMCLK = 12.88MHz
                                                                               0                                                                                                                                                                                               fLRCLK = 48kHz
                                                                                                                                               fLRCLK = 48kHz                                              -20
                                                                                                                                            AV_SPKPGA = -6dB                                                                                                                 AV_SPKPGA = 0dB
                                                                              -20
                                                    OUTPUT AMPLITUDE (dBV)
                                                                                                                                            ZSPK = 4I + 33µH                                                                                                                ZSPK = 8W + 68µH
                                                                                                                                                                                        AMPLITUDE (dBV)
                                                                              -40                                                                                                                          -40
                                                                              -60
                                                                                                                                                                                                           -60
                                                                              -80
                                                                             -100                                                                                                                          -80
                                                                             -120
                                                                                                                                                                                                          -100
                                                                             -140
                                                                             -160                                                                                                                         -120
                                                                                    0          5                                   10                 15            20                                           0.1                            1                                10               100
                                                                                                    FREQUENCY (kHz)                                                                                                                         FREQUENCY (MHz)
                                                                                                               LINE INPUT TO SPEAKER OUTPUT
                       TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                       TOTAL HARMONIC DISTORTION PLUS                                                                                                            GAIN vs. FREQUENCY
                        vs. OUTPUT POWER (LINE TO SPEAKER)                                                                                      NOISE vs. FREQUENCY (LINE TO SPEAKER)                                                                                                        (LINE TO SPEAKER)
                      0                                                                                                                    0                                                                                                                               5
                                                                                                    MAX98090 toc122                                                                                                           MAX98090 toc123                                                                                      MAX98090 toc124
                               AV_LINEPGA = 0dB                                                                                                      AV_LINEPGA = 0dB                                                                                                                AV_LINEPGA = 0dB
                     -10                                                                                                                  -10                                                                                                                              4
                               AV_SPKPGA = +8dB                                                                                                      AV_SPKPGA = +8dB                                                                                                                AV_SPKPGA = +8dB
                     -20       ZSPK = 8I + 68µH                                                                                           -20        ZSPK = 8I + 68µH                                                                                                      3         ZSPK = 8I + 68µH
                               CIN = 10µF
                                                                                                                                                                                                                                                    NORMALIZED GAIN (dB)
                     -30                                                                                                                             CIN = 10µF                                                                                                            2         CIN = 10µF
                                                                                                                                          -30
 THD+N RATIO (dB)                                                                                                     THD+N RATIO (dB)
                     -40                   f = 6000Hz                                                                                                                                                                                                                      1
                                                                                                                                          -40
                     -50                                                                                                                  -50                                                                                                                              0
                                                                                                                                                           POUT = 0.60W
                     -60                                                                                                                  -60                                                                                                                              -1
                     -70                                                                                                                  -70                                                                                                                              -2
                     -80                                                                                                                  -80                                                                                                                              -3
                     -90                                                      f = 1000Hz                                                  -90                                                                                                                              -4
                               f = 100Hz                                                                                                                            POUT = 0.15W
                    -100                                                                                                                 -100                                                                                                                              -5
                           0         0.2      0.4                             0.6        0.8       1.0                                          10            100                      1k                        10k        100k                                                10          100                      1k   10k    100k
                                           OUTPUT POWER (W)                                                                                                         FREQUENCY (Hz)                                                                                                                FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                         Maxim Integrated │ 58


MAX98090                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                         LINE INPUT TO SPEAKER OUTPUT (CONTINUED)
                                                         POWER-SUPPLY REJECTION RATIO                                                                               CROSSTALK vs. FREQUENCY
                                                         vs. FREQUENCY (LINE TO SPEAKER)                                                                               (LINE TO SPEAKER)
                                              100                                                                                                        0
                                                                                                           MAX98090 toc125                                                                                       MAX98090 toc126
                                                                                                                                                                  AV_LINEPGA = 0dB
                                               90                                                                                                                 AV_SPKPGA = 0dB
                                                                              OTHER SUPPLIES                                                           -20
                                               80                                                                                                                 ZSPK = 8I + 68µH
                                                                                                                                                                  CIN = 10µF
                                               70
                                                                                                                                                       -40
                                                                                                                                CROSSTALK (dB)
                                               60
                        PSRR (dB)
                                               50                          SPK_VDD                                                                     -60
                                               40
                                                                                                                                                                                 RIGHT TO LEFT
                                                                                                                                                       -80
                                               30
                                               20        VRIPPLE = 100mVP-P
                                                         ZSPK = 8I + 68µH                                                                             -100
                                               10        CIN = 10µF                                                                                                              LEFT TO RIGHT
                                                0                                                                                                     -120
                                                    10         100            1k         10k           100k                                                  10         100          1k          10k          100k
                                                                      FREQUENCY (Hz)                                                                                          FREQUENCY (Hz)
                                                          INBAND OUTPUT SPECTRUM,                                                                                   INBAND OUTPUT SPECTRUM,
                                                         -3dBV INPUT (LINE TO SPEAKER)                                                                            -60dBV INPUT (LINE TO SPEAKER)
                                               0                                                                                                        0
                                                                                                         MAX98090 toc127                                                                                        MAX98090 toc128
                                                                                   AV_LINEPGA = -6dB                                                                                      AV_LINEPGA = -6dB
                                              -20                                   AV_SPKPGA = 0dB                                                    -20                                 AV_SPKPGA = 0dB
                                                                                   ZSPK = 8I + 68µH                                                                                       ZSPK = 8I + 68µH
                    OUTPUT AMPLITUDE (dBV)                                                                                   OUTPUT AMPLITUDE (dBV)
                                              -40                                         CIN = 10µF                                                   -40                                       CIN = 10µF
                                              -60                                                                                                      -60
                                              -80                                                                                                      -80
                                             -100                                                                                                     -100
                                             -120                                                                                                     -120
                                             -140                                                                                                     -140
                                                    0          5           10            15            20                                                    0           5           10          15           20
                                                                     FREQUENCY (kHz)                                                                                          FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                            Maxim Integrated │ 59


MAX98090                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                         DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE                                                               TOTAL HARMONIC DISTORTION PLUS NOISE
                      vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)                                                                vs. OUTPUT POWER (DAC TO HEADPHONE)
                     0                                                                                                 0                                                                                                  0
                                                                                MAX98090 toc129                                                                                   MAX98090 toc130                                                                                         MAX98090 toc131
                    -10       fMCLK = 13MHz                                                                           -10       fMCLK = 13MHz                                                                            -10       fMCLK = 12.288MHz
                              fLRCLK = 8kHz                                                                                     fLRCLK = 44.1kHz                                                                                   fLRCLK = 48kHz
                    -20       AV_HP = +3dB                                                                            -20       AV_HP = +3dB                                                                             -20       AV_HP = +3dB
                    -30       RHP = 32I                                                                               -30       RHP = 32I                                                                                -30       RHP = 32I
THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)                                                                                   THD+N RATIO (dB)
                    -40                                                                                               -40                                                                                                -40
                                                                   f = 1000Hz                                                                                                                                                                     f = 1000Hz
                    -50                                                                                               -50                                                                                                -50
                                           f = 100Hz
                    -60                                                                                               -60                     f = 6000Hz                                                                 -60
                                                                                                                                                                                                                                              f = 100Hz
                    -70                                                                                               -70        f = 1000Hz                                                                              -70                                               f = 6000Hz
                    -80                                                                                               -80                                                                                                -80
                                                               f = 3000Hz
                    -90                                                                                               -90                                                                                                -90
                                                                                                                                                           f = 100Hz
                   -100                                                                                              -100                                                                                               -100
                          0       0.01        0.02      0.03      0.04      0.05                                            0        0.01        0.02       0.03        0.04    0.05                                           0       0.01        0.02         0.03        0.04        0.05
                                          OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                 OUTPUT POWER (W)
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE                                                               TOTAL HARMONIC DISTORTION PLUS NOISE
                      vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)                                                                vs. OUTPUT POWER (DAC TO HEADPHONE)
                     0                                                                                                  0                                                                                                 0
                                                                                MAX98090 toc132                                                                                    MAX98090 toc133                                                                                        MAX98090 toc134
                              fMCLK = 12.288MHz                                                                                 fMCLK = 12.288MHz                                                                                  fMCLK = 12.288MHz
                    -10                                                                                               -10                                                                                                -10
                              fLRCLK = 96kHz                                                                                    fLRCLK = 48kHz                                                                                     fLRCLK = 48kHz
                    -20       AV_HP = +3dB                                                                            -20       AV_HP = +3dB                                                                             -20       LOW POWER MODE
                              RHP = 32I                                                                                         RHP = 16I                                                                                          AV_HP = +3dB
                    -30                                                                                               -30                                                                                                -30
THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)                                                                                   THD+N RATIO (dB)
                                                                                                                                                                                                                                   RHP = 16I
                    -40                                                                                               -40                                                                                                -40
                                           f = 1000Hz                                                                                       f = 1000Hz                                                                                        f = 6000Hz
                    -50                                                                                               -50                                                                                                -50
                    -60                                                                                               -60                                                                                                -60         f = 1000Hz
                                         f = 100Hz                                                                                      f = 100Hz
                    -70                                        f = 6000Hz                                             -70                                          f = 6000Hz                                            -70
                    -80                                                                                               -80                                                                                                -80
                    -90                                                                                               -90                                                                                                -90                                   f = 100Hz
                   -100                                                                                              -100                                                                                               -100
                          0       0.01        0.02      0.03      0.04      0.05                                            0     0.01 0.02        0.03 0.04       0.05 0.06    0.07                                           0     0.01 0.02       0.03 0.04         0.05 0.06        0.07
                                          OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                 OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                               Maxim Integrated │ 60


MAX98090                                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                             DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (CONTINUED)
                           TOTAL HARMONIC DISTORTION PLUS NOISE                                                                  TOTAL HARMONIC DISTORTION PLUS                                                                     TOTAL HARMONIC DISTORTION PLUS
                           vs. OUTPUT POWER (DAC TO HEADPHONE)                                                                NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                             NOISE vs. FREQUENCY (DAC TO HEADPHONE)
                       0                                                                                                      0                                                                                                  0
                                                                                       MAX98090 toc135                                                                           MAX98090 toc136                                                                                       MAX98090 toc137
                     -10        fMCLK = 12.288MHz                                                                            -10        fMCLK = 13MHz                                                                       -10           fMCLK = 13MHz
                                fLRCLK = 48kHz                                                                                          fLRCLK = 8kHz                                                                                     fLRCLK = 44.1kHz
                     -20        LOW POWER MODE                                                                               -20        AV_HP = +3dB                                                                        -20           AV_HP = +3dB
                     -30        AV_HP = +3dB                                                                                 -30        RHP = 32I                                                                           -30           RHP = 32I
 THD+N RATIO (dB)                                                                                        THD+N RATIO (dB)                                                                          THD+N RATIO (dB)
                                RHP = 32I
                     -40                                                                                                     -40                                                                                            -40
                     -50              f = 6000Hz                                                                             -50                                                                                            -50
                     -60        f = 1000Hz                                                                                   -60                                                                                            -60
                                                                                                                                        POUT = 0.01W        POUT = 0.02W
                                                                                                                             -70                                                                                            -70           POUT = 0.01W       POUT = 0.02W
                     -70
                     -80                                                                                                     -80                                                                                            -80
                     -90                                    f = 100Hz                                                        -90                                                                                            -90
                    -100                                                                                                    -100                                                                                      -100
                            0       0.01       0.02        0.03     0.04    0.05                                                   10               100            1k          10k                                                   10           100          1k           10k      100k
                                             OUTPUT POWER (W)                                                                                        FREQUENCY (Hz)                                                                                     FREQUENCY (Hz)
                         TOTAL HARMONIC DISTORTION PLUS                                                                          TOTAL HARMONIC DISTORTION PLUS                                                                         TOTAL HARMONIC DISTORTION PLUS
                      NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                                  NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                                 NOISE vs. FREQUENCY (DAC TO HEADPHONE)
                      0                                                                                                       0                                                                                                      0
                                                                             MAX98090 toc138                                                                                     MAX98090 toc139                                                                                                         MAX98090 toc140
                     -10        fMCLK = 12.288MHz                                                                            -10        fMCLK = 12.288MHz                                                                         -10         fMCLK = 12.288MHz
                                fLRCLK = 48kHz                                                                                          fLRCLK = 96kHz                                                                                        fLRCLK = 48kHz
                     -20        AV_HP = +3dB                                                                                 -20        AV_HP = +3dB                                                                              -20         AV_HP = +3dB
                     -30        RHP = 32I                                                                                    -30        RHP = 32I                                                                                 -30         RHP = 16I
THD+N RATIO (dB)                                                                                         THD+N RATIO (dB)                                                                                     THD+N RATIO (dB)
                     -40                                                                                                     -40                                                                                                  -40
                     -50                                                                                                     -50                                                                                                  -50
                     -60                                                                                                     -60                                                                                                  -60                             POUT = 0.01W
                     -70        POUT = 0.01W       POUT = 0.02W                                                              -70        POUT = 0.01W      POUT = 0.02W                                                            -70                                       POUT = 0.025W
                     -80                                                                                                     -80                                                                                                  -80
                     -90                                                                                                     -90                                                                                                  -90
                    -100                                                                                                    -100                                                                                                 -100
                           10         100             1k          10k      100k                                                    10         100           1k           10k   100k                                                      10         100             1k       10k       100k
                                             FREQUENCY (Hz)                                                                                          FREQUENCY (Hz)                                                                                       FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                      Maxim Integrated │ 61


MAX98090                                                                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                   DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (CONTINUED)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                     TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                                              GAIN vs. FREQUENCY
                            vs. FREQUENCY (DAC TO HEADPHONE)                                                                                         vs. FREQUENCY (DAC TO HEADPHONE)                                                                                                                (DAC TO HEADPHONE)
                     0                                                                                                                         0                                                                                                                                    5
                                                                                                    MAX98090 toc141                                                                                                                        MAX98090 toc142                                                                          MAX98090 toc143
                               fMCLK = 12.288MHz                                                                                                        fMCLK = 12.288MHz                                                                                                                     fMCLK = 13MHz
                    -10                                                                                                                   -10                                                                                                                                       4         fLRCLK = 8kHz
                               fLRCLK = 48kHz                                                                                                           fLRCLK = 48kHz
                    -20        LOW POWER MODE                                                                                             -20           LOW POWER MODE                                                                                                              3         AV_HP = 0dB
                               AV_HP = +3dB                                                                                                             AV_HP = +3dB                                                                                                                          RHP = 32I
                                                                                                                                                                                                                                                             NORMALIZED GAIN (dB)
                    -30                                                                                                                   -30                                                                                                                                       2
THD+N RATIO (dB)                                                                                                      THD+N RATIO (dB)
                               RHP = 16I                                                                                                                RHP = 32I
                    -40                                                                                                                   -40                                                                                                                                       1
                                                                                                                                                                                           POUT = 0.02W
                    -50                                                POUT = 0.025W                                                      -50                                                                                                                                       0
                    -60                                                                                                                   -60                                                                                                                                       -1
                    -70                                                                                                                   -70                                                                                                                                       -2
                    -80                                                                                                                   -80                                                                                                                                       -3
                    -90                                           POUT = 0.01W                                                            -90                                          POUT = 0.01W                                                                                 -4
                   -100                                                                                                                  -100                                                                                                                                       -5
                          10          100                             1k           10k         100k                                                10                         100         1k                              10k           100k                                             10                100          1k         10k
                                                               FREQUENCY (Hz)                                                                                                       FREQUENCY (Hz)                                                                                                          FREQUENCY (Hz)
                                                                                  GAIN vs. FREQUENCY                                                                                                                                  POWER CONSUMPTION vs. OUTPUT
                                                                                  (DAC TO HEADPHONE)                                                                                                                                    POWER (DAC TO HEADPHONE)
                                                                  5                                                                                                                                                       120
                                                                                                                                                            MAX98090 toc144                                                                                                                                      MAX98090 toc145
                                                                           fMCLK = 12.288MHz                                                                                                                                          fMCLK = 12.288MHz
                                                                  4        fLRCLK = 48kHz                                                                                                                                             fLRCLK = 48kHz
                                                                           AV_HP = 0dB                                                                                                                                    100         AV_HP = +3dB
                                                                                                                                                                                               CURRENT CONSUMPTION (mA)
                                                                  3
                                                                           RHP = 32I
                                        NORMALIZED GAIN (dB)
                                                                  2                                                                                                                                                                                                                       RHP = 16I
                                                                                                                                                                                                                           80
                                                                  1
                                                                  0                                                                                                                                                        60
                                                                 -1
                                                                                                                                                                                                                           40
                                                                 -2
                                                                 -3
                                                                                                                                                                                                                           20                                                                  RHP = 32I
                                                                 -4
                                                                 -5                                                                                                                                                         0
                                                                      10          100          1k                                        10k              100k                                                                  0.1              1           10                                                100
                                                                                         FREQUENCY (Hz)                                                                                                                                  OUTPUT POWER PER CHANNEL (mW)
www.maximintegrated.com                                                                                                                                                                                                                                                                                       Maxim Integrated │ 62


MAX98090                                                                                                      Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                        DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (CONTINUED)
                                                  POWER CONSUMPTION vs. OUTPUT                                                              POWER-SUPPLY REJECTION RATIO
                                                    POWER (DAC TO HEADPHONE)                                                              vs. FREQUENCY (DAC TO HEADPHONE)
                                      120                                                                                         120
                                                                                            MAX98090 toc146                                                                           MAX98090 toc147
                                                  fMCLK = 12.288MHz
                                                                                                                                                            SPK_VDD
                                                  fLRCLK = 48kHz
                                      100         LOW POWER MODE                                                                  100
           CURRENT CONSUMPTION (mA)
                                                  AV_HP = +3dB
                                       80                                   RHP = 16I                                              80
                                                                                                                 PSRR (dB)
                                       60                                                                                          60                       OTHER SUPPLIES
                                       40                                                                                          40
                                                                                                                                              fMCLK = 12.288MHz
                                                                                                                                              fLRCLK = 48kHz
                                       20                                     RHP = 32I                                            20         VRIPPLE = 100mVP-P
                                                                                                                                              RHP = 32I
                                        0                                                                                           0
                                            0.1              1           10               100                                            10          100         1k       10k       100k
                                                     OUTPUT POWER PER CHANNEL (mW)                                                                         FREQUENCY (Hz)
                                               POWER-SUPPLY REJECTION RATIO                                                                       CROSSTALK vs. FREQUENCY
                                             vs. FREQUENCY (DAC TO HEADPHONE)                                                                       (DAC TO HEADPHONE)
                                      120                                                                                           0
                                                                                            MAX98090 toc148                                                                           MAX98090 toc149
                                                                                                                                              fMCLK = 12.288MHz
                                                                      SPK_VDD                                                                 fLRCLK = 48kHz
                                      100                                                                                          -20
                                                                                                                                              AV_HP = 0dB
                                                                                                                                              RHP = 32I
                                       80                                                                                         -40
                                                                                                                 CROSSTALK (dB)
           PSRR (dB)
                                       60                       OTHER SUPPLIES                                                    -60
                                                                                                                                                             LEFT TO RIGHT
                                       40         fMCLK = 12.288MHz                                                                -80
                                                  fLRCLK = 48kHz                                                                                  RIGHT TO LEFT
                                                  LOW POWER MODE
                                       20                                                                                         -100
                                                  VRIPPLE = 100mVP-P
                                                  RHP = 32I
                                        0                                                                                         -120
                                            10           100           1k         10k     100k                                           10          100           1k        10k    100k
                                                               FREQUENCY (Hz)                                                                              FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                       Maxim Integrated │ 63


MAX98090                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (CONTINUED)
                                         INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                      -3dBFS INPUT (DAC TO HEADPHONE)                                                               -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -3dBFS INPUT (DAC TO HEADPHONE)
                             20                                                                                               20                                                                                              20
                                                                                  MAX98090 toc150                                                                                 MAX98090 toc151                                                                                  MAX98090 toc152
                                                              fMCLK = 13MHz                                                                                      fMCLK = 13MHz                                                                                 fMCLK = 13MHz
                              0                               fLRCLK = 8kHz                                                    0                                 fLRCLK = 8kHz                                                 0                               fLRCLK = 44.1kHz
                                                              AV_HP = 0dB                                                                                        AV_HP = 0dB                                                                                   AV_HP = 0dB
                            -20                                                                                               -20                                                                                             -20
  OUTPUT AMPLITUDE (dBV)                                                                            OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                              RHP = 32I                                                                                          RHP = 32I                                                                                     RHP = 32I
                            -40                                                                                               -40                                                                                             -40
                            -60                                                                                               -60                                                                                             -60
                            -80                                                                                               -80                                                                                             -80
                           -100                                                                                              -100                                                                                            -100
                           -120                                                                                              -120                                                                                            -120
                           -140                                                                                              -140                                                                                            -140
                           -160                                                                                              -160                                                                                            -160
                                  0         5         10          15           20                                                   0         5         10          15           20                                                 0         5         10          15            20
                                                FREQUENCY (kHz)                                                                                   FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
                                      INBAND OUTPUT SPECTRUM,                                                                              INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,
                                  -60dBFS INPUT (DAC TO HEADPHONE)                                                                      -3dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)
                            20                                                                                                20                                                                                              20
                                                                                MAX98090 toc153                                                                                   MAX98090 toc154                                                                                  MAX98090 toc155
                                                            fMCLK = 13MHz                                                                                    fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                             0                              fLRCLK = 44.1kHz                                                   0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz
                                                            AV_HP = 0dB                                                                                      AV_HP = 0dB                                                                                     AV_HP = 0dB
                            -20                                                                                               -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                              OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                            RHP = 32I                                                                                        RHP = 32I                                                                                       RHP = 32I
                            -40                                                                                               -40                                                                                             -40
                            -60                                                                                               -60                                                                                             -60
                            -80                                                                                               -80                                                                                             -80
                           -100                                                                                              -100                                                                                            -100
                           -120                                                                                              -120                                                                                            -120
                           -140                                                                                              -140                                                                                            -140
                           -160                                                                                              -160                                                                                            -160
                                  0         5         10          15           20                                                   0         5         10          15           20                                                 0         5         10          15            20
                                                FREQUENCY (kHz)                                                                                   FREQUENCY (kHz)                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                              Maxim Integrated │ 64


MAX98090                                                                                                                                                 Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                              DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (CONTINUED)
                                       INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                    -3dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -6dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc156                                                                                 MAX98090 toc157                                                                                 MAX98090 toc158
                                                         fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                           0                             fLRCLK = 96kHz                                                    0                             fLRCLK = 96kHz                                                    0                             fLRCLK = 48kHz
                                                         AV_HP = 0dB                                                                                     AV_HP = 0dB                                                                                     LOW POWER MODE
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                         RHP = 32I                                                                                       RHP = 32I                                                                                       AV_HP = 0dB
                          -40                                                                                             -40                                                                                             -40                            RHP = 32I
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15           20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
                                    INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,
                                -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -6dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc159                                                                                 MAX98090 toc160                                                                                 MAX98090 toc161
                                                         fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                           0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz
                                                         LOW POWER MODE                                                                                  AV_HP = 0dB                                                                                     AV_HP = 0dB
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                         AV_HP = 0dB                                                                                     RHP = 16I                                                                                       RHP = 16I
                          -40                            RHP = 32I                                                        -40                                                                                             -40
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15           20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                          Maxim Integrated │ 65


MAX98090                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                          LINE INPUT TO HEADPHONE OUTPUT
                                 TOTAL HARMONIC DISTORTION                                                                     TOTAL HARMONIC DISTORTION
                                                                                                                                                                                                                                     GAIN vs. FREQUENCY
                                 PLUS NOISE vs. OUTPUT POWER                                                                    PLUS NOISE vs. FREQUENCY
                                                                                                                                                                                                                                    (LINE TO HEADPHONE)
                                     (LINE TO HEADPHONE)                                                                          (LINE TO HEADPHONE)
                                                                                                                                                                                                                  5
                                                                                                                                                                                                                                                                   MAX98090 toc164
                      0                                                                                            0                                                                                                        AV_LINEPGA = 0dB
                                                                            MAX98090 toc162                                                                             MAX98090 toc163
                    -10        AV_LINEPGA = 0dB                                                                              AV_LINEPGA = 0dB                                                                     4
                                                                                                                  -10                                                                                                       AV_HP = 0dB
                               AV_HP = +3dB                                                                                  AV_HP = +8dB
                    -20                                                                                                                                                                                           3         RHP = 32I
                               RHP = 32I                                                                          -20        RHP = 32I                                                                                      CIN = 10µF
                                                                                                                                                                                          NORMALIZED GAIN (dB)
                    -30        CIN = 10µF                                                                                    CIN = 10µF                                                                           2
                                                                                                                  -30
THD+N RATIO (dB)                                                                              THD+N RATIO (dB)
                    -40                                                                                                                                                                                           1
                    -50                                                                                           -40
                                          fIN = 6000Hz                                                                                                                                                            0
                    -60                                                                                           -50
                    -70          fIN = 100Hz                                                                                                                                                                     -1
                                                                                                                  -60
                    -80                                                                                                                                                                                          -2
                                                                                                                  -70            POUT = 10mW
                    -90                                                                                                                                 POUT = 20mW                                              -3
                                                                                                                  -80
                   -100                                                                                                                                                                                          -4
                   -110              fIN = 1000Hz                                                                 -90
                                                                                                                                                                                                                 -5
                   -120                                                                                          -100                                                                                                  10           100          1k        10k   100k
                          0         0.01       0.02        0.03    0.04   0.05                                          10           100         1k         10k       100k
                                                                                                                                                                                                                                          FREQUENCY (Hz)
                                             OUTPUT POWER (W)                                                                              FREQUENCY (Hz)
                             POWER-SUPPLY REJECTION RATIO                                                                        CROSSTALK vs. FREQUENCY                                                                  COMMON-MODE REJECTION RATIO
                           vs. FREQUENCY (LINE TO HEADPHONE)                                                                       (LINE TO HEADPHONE)                                                                  vs. FREQUENCY (LINE TO HEADPHONE)
                   120                                                                                             0                                                                                             100
                                                                            MAX98090 toc165                                                                             MAX98090 toc166                                                                               MAX98090 toc167
                               VRIPPLE = 100mVP-P                                                                            fMCLK = 12.288MHz
                                                                                                                             fLRCLK = 48kHz                                                                       90
                               RHP = 32I
                   100                                                                                            -20        AV_HP = 0dB
                               CIN = 10µF                                                                                                                                                                         80
                                                                                                                             RHP = 32I
                                                                                                                                                                                                                  70
                    80                                                                                            -40
                                                                                              CROSSTALK (dB)
                                     BIAS_MODE = 1
                                                                                                                                                                                            CMRR (dBV)
                                                                                                                                                                                                                  60
PSRR (dB)
                    60                                                                                            -60                                                                                             50
                                                                                                                                                                                                                  40
                    40                                                                                            -80          LEFT TO RIGHT                                                                      30        RHP = 32I
                                                                                                                                                                                                                  20        CIN = 10µF
                    20             BIAS_MODE = 0                                                                 -100                                                                                                       AV_HP = 0dB
                                                                                                                                                        RIGHT TO LEFT                                             10        AV_LINEPGA = 0dB
                     0                                                                                           -120                                                                                              0
                          10           100            1k          10k     100k                                          10           100         1k         10k       100k                                             10           100          1k        10k   100k
                                              FREQUENCY (Hz)                                                                               FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                        Maxim Integrated │ 66


MAX98090                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKLVDD = VSPKRVDD = VSPKVDD = 3.7V. Receiver load (RRCV) connected
between RCVP/LOUTL and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and
RCVN/LOUTR to GND (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) con-
nected between SPK_P and SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P
= CCPVDD = CCPVSS = 1µF. AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL =
AV_DACGAIN = 0dB, AV_MIXGAIN = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS =
0, 20-bit source data. TA = TMIN to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                        LINE INPUT TO HEADPHONE OUTPUT (CONTINUED)
                                                         INBAND OUTPUT SPECTRUM,                                                                       INBAND OUTPUT SPECTRUM,
                                                      -3dBFS INPUT (LINE TO HEADPHONE)                                                             -60dBFS INPUT (LINE TO HEADPHONE)
                                            20                                                                                               20
                                                                                                 MAX98090 toc168                                                                              MAX98090 toc169
                                                                             AV_LINEPGA = 0dB                                                                             AV_LINEPGA = 0dB
                                             0                               AV_HP = 0dB                                                      0                           AV_HP = 0dB
                                                                             RHP = 32I                                                                                    RHP = 32I
                                            -20                                                                                              -20
                  OUTPUT AMPLITUDE (dBV)                                                                           OUTPUT AMPLITUDE (dBV)
                                                                             CIN = 10µF                                                                                   CIN = 10µF
                                            -40                                                                                              -40
                                            -60                                                                                              -60
                                            -80                                                                                              -80
                                           -100                                                                                             -100
                                           -120                                                                                             -120
                                           -140                                                                                             -140
                                           -160                                                                                             -160
                                                  0          5         10          15           20                                                 0      5         10          15           20
                                                                 FREQUENCY (kHz)                                                                              FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                         Maxim Integrated │ 67


MAX98090                                                                                  Ultra-Low Power Stereo Audio Codec
Bump/Pin Configurations
                          TOP VIEW
                                         SDIN    DGND    DVDDIO   DVDD   AVDD    AGND   BIAS      REF          MICBIAS      IN4
                                         30      29       28      27     26      25     24         23           22           21
                              SDOUT 31                                                                                                20 IN3
                              LRCLK 32                                                                                                19 IN1/DMD
                               BCLK 33                                                                                                18 IN2/DMC
                                IRQ 34                                                                                                17 SPKLGND
                               MCLK 35                                                                                                16 SPKLP
                                                                   MAX98090
                                SCL 36                                                                                                15 SPKLN
                                SDA 37                                                                                                14 SPKLVDD
                              HPVDD 38                                                                                                13 SPKRVDD
                                                    +
                                C1P 39                                                                                                12 SPKRP
                                C1N 40                                                                                                11 SPKRN
                                          1       2        3       4      5       6       7         8            9           10
                                         HPGND   CPVSS   CPVDD
                                                                  HPL
                                                                         HPSNS
                                                                                 HPR
                                                                                        JACKSNS
                                                                                                  RCVP/LOUTL   RCVN/LOUTR
                                                                                                                            SPKRGND
                                                              TQFN
                                                      (5mm x 5mm x 0.75mm)
www.maximintegrated.com                                                                                                                            Maxim Integrated │ 68


MAX98090                                                        Ultra-Low Power Stereo Audio Codec
Bump/Pin Configurations (continued)
                 TOP VIEW
            (BUMP SIDE DOWN)
                                                       MAX98090
                                1        2         3        4      5        6       7
                          +
                             SPKRGND   SPKRN     SPKRP   SPKLP   SPKLN  SPKLGND IN1/DMD
                        A
                            RCVN/LOUTR  N.C.    SPKVDD  SPKVDD  JACKSNS    IN3  IN2/DMC
                        B
                            RCVP/LOUTL  N.C.      N.C.     IN5    N.C.     IN4  MICBIAS
                       C
                               HPR     HPSNS      SCL      IN6    N.C.    REF     AGND
                       D
                               HPL      SDA       N.C.     N.C.   SDIN    BIAS    AVDD
                        E
                              CPVDD     C1N       C1P     IRQB   LRCLK   DVDDIO   DVDD
                        F
                              HPGND    CPVSS    HPVDD    MCLK     BCLK   SDOUT   DGND
                       G
                                                        WLP
                                            (3.15mm x 3.15mm, 0.4 pitch)
www.maximintegrated.com                                                                 Maxim Integrated │ 69


MAX98090                                                        Ultra-Low Power Stereo Audio Codec
Bump/Pin Descriptions
   PIN      BUMP
                        MAX98090                                          FUNCTION
  TQFN       WLP
    1         G1          HPGND   Headphone Ground
    2         G2          CPVSS   Inverting Charge-Pump Output. Bypass to HPGND with a 1µF ceramic capacitor.
    3         F1          CPVDD   Noninverting Charge-Pump Output. Bypass to HPGND with a 1µF ceramic capacitor.
    4         E1            HPL   Left-Channel Headphone Output
                                  Headphone Amplifier Ground Sense. Connect to the headphone jack ground terminal or
    5         D2          HPSNS
                                  connect to ground.
    6         D1            HPR   Right-Channel Headphone Output
                                  Jack detection Input. Connect to the microphone terminal of the headset jack to detect
    7         B5        JACKSNS
                                  jack activity.
    8         C1       RCVP/LOUTL Positive Earpiece Amplifier Output/Left Line Output
    9         B1       RCVN/LOUTR Negative Earpiece Amplifier Output/Right Line Output
   10         A1        SPKRGND   Right Speaker Amplifier Ground
   11         A2          SPKRN   Negative Right-Channel Class D Speaker Output
   12         A3          SPKRP   Positive Right-Channel Class D Speaker Output
                                  Right Speaker Power Supply. Bypass to SPKRGND with a 1µF capacitor and a single
   13         —         SPKRVDD
                                  10µF bulk capacitor shared with SPKLVDD.
                                  Left Speaker and Microphone Bias Power Supply. Bypass to SPKLGND with a 1µF
   14         —         SPKLVDD
                                  capacitor and a single 10µF bulk capacitor shared with SPKRVDD.
   15         A5          SPKLN   Negative Left-Channel Class D Speaker Output
   16         A4          SPKLP   Positive Left-Channel Class D Speaker Output
   17         A6        SPKLGND   Left Speaker Amplifier Ground.
                                  Negative Differential Microphone 1 Input or single-ended Line Input 2. AC-couple with a
   18         B7         IN2/DMC
                                  series 1µF capacitor. Can be retasked as a digital microphone clock output.
                                  Positive Differential Microphone 1 Input or single-ended Line Input 1. AC-couple with a
   19         A7         IN1/DMD
                                  series 1µF capacitor. Can be retasked as a digital microphone data input.
                                  Positive Differential Microphone 2 Input or single-ended Line Input 3. AC-couple with a
   20         B6            IN3
                                  series 1µF capacitor.
                                  Negative Differential Microphone 2 Input or single-ended Line input 4. AC-couple with a
   21         C6            IN4
                                  series 1µF capacitor.
                                  Low-Noise Microphone Bias Voltage Output. Bypass to SPKLGND with a 1µF capacitor.
   22         C7         MICBIAS  The bias voltage is programmable. An external resistor in the 2.2kΩ to 1kΩ range should
                                  be used to set the microphone current.
   23         D6            REF   Converter Reference. Bypass to AGND with a 2.2µF capacitor.
   24         E6           BIAS   Common-Mode Reference Voltage. Bypass to AGND with a 1µF capacitor.
   25         D7           AGND   Analog Ground.
   26         E7           AVDD   Analog Power Supply. Bypass to AGND with a 1µF capacitor.
   27         F7           DVDD   Digital Power Supply. Bypass to DGND with a 1µF capacitor.
   28         F6         DVDDIO   Digital Audio Interface Power-Supply Input. Bypass to DGND with a 1µF capacitor.
www.maximintegrated.com                                                                                  Maxim Integrated │ 70


MAX98090                                                         Ultra-Low Power Stereo Audio Codec
Bump/Pin Descriptions (continued)
   PIN      BUMP
                        MAX98090                                          FUNCTION
  TQFN       WLP
   29         G7          DGND   Digital Ground
   30         E5           SDIN  Digital Audio Serial Data Playback Input. The input voltage is referenced to DVDDIO.
   31         G6         SDOUT   Digital Audio Serial Data Record Output. The output voltage is referenced to DVDDIO.
                                 Digital Audio Left-Right Clock Input/Output. LRCLK is the audio sample rate clock and
                                 determines whether audio data is routed to the left or right channel. In TDM mode, LRCLK
   32         F5          LRCLK
                                 is a frame sync pulse. LRCLK is an input when the device is in slave mode and an output
                                 when in master mode. The input voltage is referenced to DVDDIO.
                                 Digital Audio Bit Clock Input/Output. BCLK is an input when the device is in slave mode
   33         G5           BCLK
                                 and an output when in master mode. The input/output voltage is referenced to DVDDIO.
   34         F4            IRQ  Active-Low Hardware Interrupt Output. Connect a 10kΩ pullup resistor to VDD.
                                 Master Clock Input. Acceptable input frequency range is either 256 x fS or from 10MHz to
   35         G4          MCLK
                                 60MHz.
   36         D3            SCL  I2C Serial Clock Input. Connect a pullup resistor to DVDDIO for full output swing.
   37         E2           SDA   I2C Serial Data Input/Output. Connect a pullup resistor to DVDDIO for full output swing.
                                 Headphone Power Supply. Bypass to HPGND with a 10µF bulk capacitor with a parallel
   38         G3         HPVDD
                                 0.1µF capacitor as close as possible to the device.
                                 Charge-Pump Flying Capacitor Positive Terminal. Connect a 1µF ceramic capacitor
   39         F3            C1P
                                 between C1N and C1P.
                                 Charge-Pump Flying Capacitor Negative Terminal. Connect a 1µF ceramic capacitor
   40         F2           C1N
                                 between C1N and C1P.
                                 Speaker and Microphone Bias Power Supply. Bypass each bump to SPK_GND with a
    —       B3, B4       SPKVDD
                                 1µF capacitor with a single shared 10µF bulk capacitor.
                                 Auxiliary Positive Differential Microphone Input or Single-Ended Line Input. AC-couple
    —         C4            IN5
                                 with a series 1µF capacitor.
                                 Auxiliary Negative Differential Microphone Input or Single-Ended Line Input. AC-couple
    —         D4            IN6
                                 with a series 1µF capacitor.
           B2, C2,
           C3, C5,
    —                      N.C.  Not Connected Internally
           D5, E3,
              E4
                                 Exposed Pad (TQFN package only). The exposed pad is for thermal dissipation only (no
    —         —              EP  electrical connection). In most systems, the exposed pad should be connected to ground.
www.maximintegrated.com                                                                                  Maxim Integrated │ 71


MAX98090                                                          Ultra-Low Power Stereo Audio Codec
Detailed Description                                           The second is an integrated, filterless, Class D stereo
The MAX98090 is a fully integrated stereo audio codec          speaker amplifier. This amplifier provides efficient ampli-
with FlexSound audio processing and integrated input           fication for two speakers, and includes active emissions
and output audio amplifiers.                                   limiting to minimize the radiated emissions (EMI) tradition-
                                                               ally associated with Class D. The right channel features a
The device features either six (WLP package) or four           slave mode, in which the switching is synchronized to that
(TQFN package) flexible analog inputs. Each pair can           of the left channel to eliminate the beat tone that can occur
be configured as a differential analog microphone input,       with asynchronous operation. In most systems with short
a stereo single ended or differential line input(s), or as a   speaker traces, no Class D output filtering is required.
reduced power, direct differential analog input to the ADC
mixer. One input pair, IN1/IN2, can also be retasked to        The third is a Class H, ground referenced stereo head-
support two digital microphones. As a result, two micro-       phone amplifier featuring Maxim’s second generation
phones (either analog or digital) can be recorded from         DirectDrive architecture. The Class H headphone amplifier
simultaneously. The input analog signals can be amplified      features an internal charge pump that generates both a
by up to 50dB, and then are either recorded by the stereo      positive and negative supply for the headphone ampli-
ADC or routed directly to the analog output mixers for         fier. This provides a ground referenced output signal that
playback.                                                      eliminates the need for either DC-blocking capacitors or
                                                               a midrail bias for the headphone jack ground return. The
The ADC supports sample rates between 8kHz and                 headphone dedicated ground sense current return reduc-
96kHz, features two performance modes, and provides            es crosstalk and output noise. A tracking circuit monitors
two oversampling rate options. The ADC to DAI digital          the signal level and automatically selects the appropriate
record path features both voice (IIR) and Music (FIR)          switching frequency and supply voltage level. For low
filtering, an optional DC-blocking highpass filter, a fully    signal levels, the charge pump switches at a reduced fre-
configurable biquad filter, and a -12dB to +45dB range of      quency and outputs ±VHPVDD/2 for improved efficiency.
programmable digital gain and level control.                   When the signal amplitude increases, the charge-pump
The digital audio interface (DAI) can simultaneously           switching frequency also increases, and continues to out-
transmit and receive separate and distinct stereo audio        put ±VHPVDD/2. For high signal levels, the charge pump
signals. The DAI supports a wide range of PCM digital          outputs full-scale rails at ±VHPVDD to maximize output
audio formats including I2S, left justified (LJ), right justi- power.
fied (RJ), and four slot TDM.                                  The device also includes several additional features such
As with the record path, the DAI to DAC playback path          as a programmable external microphone bias, configurable
supports sample rates from 8kHz to 96kHz, both voice           jack detection and identification, extensive click-and-pop
(IIR) and music (FIR) filtering (high stop band attenuation    reduction circuitry, power and performance management
at fS/2), optional DC blocking filters, and a -15dB to +18dB   settings, and a full range of quick configuration options.
range of programmable digital gain and level control. In
addition, the playback path also features a 7-band para-       Device I2C Register Map
metric biquad equalizer, dynamic range control (DRC),          Table 1 lists all of the registers, their addresses, and
and a summing digital sidetone from the record path DSP.       power-on-reset (PoR) states. Registers 0x01, 0x02, and
The device includes three analog output drivers. The           0xFF are read only. Registers 0x01, 0x02, and 0xFF are
first is a Class AB differential receiver/earpiece amplifier.  read only. Registers 0x06 to 0x0B (quick setup) are write
Alternatively, the receiver amplifier can also be configured   only (push button). All of the remaining registers are read/
as a stereo single-ended line output driver.                   write. Write zeros to all unused bits in the register table
                                                               when updating the register, unless otherwise noted.
www.maximintegrated.com                                                                                Maxim Integrated │ 72


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map
   REGISTER DESCRIPTION                                            REGISTER CONTENTS                                        POR
ADDR         NAME          R/W     BIT 7        BIT 6      BIT 5      BIT 4     BIT 3      BIT 2       BIT 1     BIT 0     STATE
RESET/STATUS/INTERRUPT REGISTERS
 0x00 SOFTWARE RESET W SWRESET                     —         —          —         —         —           —         —         0x00
 0x01  DEVICE STATUS CoR            CLD          SLD        ULK         —         —        JDET     DRCACT    DRCCLP        0x00
 0x02    JACK STATUS        R         —            —         —          —         —       LSNS       JKSNS        —         0x00
 0x03 INTERUPT MASKS R/W            ICLD         ISLD       IULK        —         —       IJDET    IDRCACT IDRCCLP          0x04
QUICK SETUP REGISTERS
 0x04  SYSTEM CLOCK         W        26M       19P2M        13M     12P288M      12M   11P2896M         —       256FS       0x00
 0x05   SAMPLE RATE         W         —            —      SR_96K     SR_32K    SR_48K   SR_44K1      SR_16K    SR_8K        0x00
 0x06   DAI INTERFACE       W         —            —       RJ_M       RJ_S      LJ_M       LJ_S       I2S_M     I2S_S       0x00
                                                DIG2_      DIG2_      DIG2_
 0x07      DAC PATH         W    DIG2_HP                                          —         —           —         —         0x00
                                                 EAR        SPK       LOUT
        MIC/DIRECT TO                           IN34_                           IN12_     IN34_       IN56_
 0x08                       W IN12_MIC1                      —          —                                         —         0x00
              ADC                                MIC2                           DADC      DADC        DADC
 0x09    LINE TO ADC        W IN12S_AB IN34S_AB IN56S_AB IN34D_A              IN65D_B       —           —         —         0x00
                                   IN12_        IN12_      IN12_      IN12_     IN34_     IN34_       IN34_     IN34_
 0x0A ANALOG MIC LOOP W                                                                                                     0x00
                                  M1HPL       M1SPKL      M1EAR     M1LOUTL    M2HPR    M2SPKR       M2EAR    M2LOUTR
         ANALOG LINE              IN12S_       IN34D_     IN34D_     IN12S_    IN34S_     IN65D      IN65D_    IN34S_
 0x0B                       W                                                                                               0x00
             LOOP                  ABHP        ASPKL       AEAR     ABLOUT      ABHP    _BSPKR        BEAR    ABLOUT
RESERVED REGISTER
 0x0C     RESERVED          —         —            —         —          —         —         —           —         —         0x00
ANALOG INPUT CONFIGURATION REGISTERS
          LINE INPUT
 0x0D                      R/W IN34DIFF IN65DIFF         IN1SEEN IN2SEEN IN3SEEN        IN4SEEN     IN5SEEN IN6SEEN         0x00
            CONFIG.
 0x0E LINE INPUT LEVEL R/W MIXG135            MIXG246             LINAPGA[2:0]                   LINBPGA[2:0]               0x1B
 0x0F    INPUT MODE        R/W EXTBUFA EXTBUFB               —          —         —         —           EXT_MIC[1:0]        0x00
 0x10 MIC1 INPUT LEVEL R/W            —             PA1EN[1:0]                        PGAM1[4:0]                            0x14
 0x11 MIC2 INPUT LEVEL R/W            —             PA2EN[1:0]                        PGAM2[4:0]                            0x14
MICROPHONE CONFIGURATION REGISTERS
 0x12 MIC BIAS VOLTAGE R/W            —            —         —          —         —         —           MBVSEL[1:0]      0x00
          DIGITAL MIC
 0x13                      R/W        —                 MICCLK[2:0]               —         —      DIGMICR DIGMICL       0x00
            ENABLE
          DIGITAL MIC
 0x14                      R/W                  DMIC_COMP[3:0]                    —         —         DMIC_FREQ[1:0]     0x00
            CONFIG.
Note: Register bits in bold italics are for the WLP package only.
www.maximintegrated.com                                                                                        Maxim Integrated │ 73


MAX98090                                                        Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
    REGISTER DESCRIPTION                                REGISTER CONTENTS                                            POR
ADDR          NAME      R/W BIT 7     BIT 6      BIT 5     BIT 4        BIT 3     BIT 2        BIT 1     BIT 0      STATE
 ADC PATH AND CONFIGURATION REGISTERS
  0x15  LEFT ADC MIXER R/W   —                                      MIXADL[6:0]                                      0x00
  0x16 RIGHT ADC MIXER R/W   —                                      MIXADR[6:0]                                      0x00
         LEFT RECORD
  0x17                  R/W  —                AVLG[2:0]                               AVL[3:0]                       0x03
              LEVEL
         RIGHT RECORD
  0x18                  R/W  —                AVRG[2:0]                               AVR[3:0]                       0x03
              LEVEL
        RECORD BIQUAD
  0x19                  R/W  —          —           —         —                      AVBQ[3:0]                       0x00
              LEVEL
  0x1A RECORD SIDETONE R/W     DSTS[1:0]            —                           DVST[4:0]                            0x00
 CLOCK CONFIGURATION REGISTERS
  0x1B  SYSTEM CLOCK R/W     —          —           PSCLK[1:0]            —         —           —          —         0x00
 0x1C     CLOCK MODE    R/W               FREQ[3:0]                       —         —           —       USE_MI       0x00
          CLOCK RATIO
 0x1D                   R/W  —                                         NI[14:8]                                      0x00
              NI MSB
          CLOCK RATIO
  0x1E                  R/W                                      NI[7:0]                                             0x00
              NI LSB
          CLOCK RATIO
  0x1F                  R/W                                     MI[15:8]                                             0x00
             MI MSB
          CLOCK RATIO
  0x20                  R/W                                      MI[7:0]                                             0x00
              MI LSB
  0x21   MASTER MODE    R/W MAS         —           —         —           —                BSEL[2:0]                 0x00
 INTERFACE CONTROL REGISTERS
           INTERFACE
  0x22                  R/W  —          —          RJ       WCI          BCI       DLY             WS[1:0]           0x00
             FORMAT
  0x23   TDM CONTROL    R/W  —          —           —         —           —         —          FSW       TDM         0x00
  0x24    TDM FORMAT    R/W    SLOTL[1:0]           SLOTR[1:0]                     SLOTDLY[3:0]                      0x00
                I/O
  0x25                  R/W  —          —        LTEN      LBEN       DMONO      HIZOFF      SDOEN      SDIEN        0x00
        CONFIGURATION
              FILTER
  0x26                  R/W MODE      AHPF       DHPF       DHF           —         —           —          —         0x80
        CONFIGURATION
         DAI PLAYBACK
  0x27                  R/W DVM         —            DVG[1:0]                          DV[3:0]                       0x00
              LEVEL
          EQ PLAYBACK
  0x28                  R/W  —          —           —     EQCLP                     DVEQ[3:0]                        0x00
              LEVEL
www.maximintegrated.com                                                                                 Maxim Integrated │ 74


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                                REGISTER CONTENTS                                      POR
ADDR        NAME        R/W   BIT 7    BIT 6     BIT 5    BIT 4     BIT 3      BIT 2    BIT 1     BIT 0      STATE
HEADPHONE (HP) CONTROL REGISTERS
 0x29   LEFT HP MIXER   R/W    —        —                             MIXHPL[5:0]                             0x00
 0x2A RIGHT HP MIXER R/W       —        —                             MIXHPR[5:0]                             0x00
                                                MIXHP    MIXHP
 0x2B    HP CONTROL     R/W    —        —                            MIXHPRG[1:0]        MIXHPLG[1:0]         0x00
                                                 RSEL     LSEL
 0x2C LEFT HP VOLUME R/W     HPLM       —         —                        HPVOLL[4:0]                        0x1A
 0x2D RIGHT HP VOLUME R/W    HPRM       —         —                       HPVOLR[4:0]                         0x1A
SPEAKER (SPK) CONFIGURATION REGISTERS
 0x2E LEFT SPK MIXER R/W       —        —                             MIXSPL[5:0]                             0x00
                                       SPK_
 0x2F RIGHT SPK MIXER R/W      —                                      MIXSPR[5:0]                             0x00
                                      SLAVE
 0x30   SPK CONTROL     R/W    —        —         —        —         MIXSPRG[1:0]        MIXSPLG[1:0]         0x00
 0x31 LEFT SPK VOLUME R/W    SPLM       —                             SPVOLL[5:0]                             0x2C
          RIGHT SPK
 0x32                   R/W  SPRM       —                             SPVOLR[5:0]                             0x2C
           VOLUME
DYNAMIC RANGE CONTROL (DRC) CONFIGURATION REGISTERS
 0x33     DRC TIMING    R/W DRCEN            DRCRLS[2:0]             —               DRCATK[2:0]              0x00
             DRC
 0x34                   R/W         DRCCMP[2:0]                           DRCTHC[4:0]                         0x00
        COMPRESSOR
 0x35  DRC EXPANDER R/W             DRCEXP[2:0]                           DRCTHE[4:0]                         0x00
 0x36      DRC GAIN     R/W    —        —         —                         DRCG[4:0]                         0x00
RECEIVER (RCV OR EARPIECE) AND LINE OUTPUT (LOUT) REGISTERS
 0x37 RCV/LOUTL MIXER R/W      —        —                            MIXRCVL[5:0]                             0x00
          RCV/LOUTL
 0x38                   R/W    —        —         —        —         —          —       MIXRCVLG[1:0]         0x00
           CONTROL
          RCV/LOUTL
 0x39                   R/W RCVLM       —         —                       RCVLVOL[4:0]                        0x15
           VOLUME
 0x3A    LOUTR MIXER    R/W LINMOD      —                            MIXRCVR[5:0]                             0x00
 0x3B LOUTR CONTROL R/W        —        —         —        —         —          —       MIXRCVRG[1:0]         0x00
 0x3C  LOUTR VOLUME R/W RCVRM           —         —                       RCVRVOL[4:0]                        0x15
JACK DETECT AND ENABLE REGISTERS
 0x3D    JACK DETECT    R/W JDETEN    JDWK        —        —         —          —          JDEB[1:0]          0x00
 0x3E   INPUT ENABLE    R/W    —        —         —      MBEN     LINEAEN    LINEBEN   ADREN     ADLEN        0x00
 0x3F OUTPUT ENABLE R/W     HPREN     HPLEN     SPREN    SPLEN    RCVLEN     RCVREN    DAREN     DALEN        0x00
 0x40  LEVEL CONTROL R/W       —        —         —        —         —         ZDEN    VS2EN      VSEN        0x00
www.maximintegrated.com                                                                          Maxim Integrated │ 75


MAX98090                                                    Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                             REGISTER CONTENTS                                 POR
ADDR        NAME        R/W BIT 7   BIT 6    BIT 5     BIT 4      BIT 3   BIT 2   BIT 1   BIT 0      STATE
          DSP FILTER                                                    EQ3BAND EQ5BAND EQ7BAND
 0x41                   R/W  —       —         —        —      RECBQEN                                0x00
           ENABLE                                                          EN       EN     EN
 BIAS AND POWER MODE CONFIGURATION REGISTERS
                                                                                         BIAS_
 0x42   BIAS CONTROL    R/W  —       —         —        —           —      —        —                 0x00
                                                                                         MODE
                                                                                  PERF
 0x43   DAC CONTROL     R/W  —       —         —        —           —      —             DACHP        0x00
                                                                                  MODE
                                                                                   ADC
 0x44   ADC CONTROL     R/W  —       —         —        —           —    OSR128          ADCHP        0x06
                                                                                 DITHER
           DEVICE
 0x45                   R/W SHDN     —         —        —           —      —        —      —          0x00
         SHUTDOWN
 PLAYBACK PARAMETRIC EQUALIZER BAND 1: BIQUAD FILTER COEFFICIENT REGISTERS
 0x46     EQUALIZER     R/W                              B0_1[23:16]                                   —
 0x47      BAND 1       R/W                               B0_1[15:8]                                   —
 0x48  COEFFICIENT B0 R/W                                  B0_1[7:0]                                   —
 0x49     EQUALIZER     R/W                              B1_1[23:16]                                   —
 0x4A      BAND 1       R/W                               B1_1[15:8]                                   —
 0x4B COEFFICIENT B1 R/W                                   B1_1[7:0]                                   —
 0x4C     EQUALIZER     R/W                              B2_1[23:16]                                   —
 0x4D      BAND 1       R/W                               B2_1[15:8]                                   —
 0x4E  COEFFICIENT   B2 R/W                                B2_1[7:0]                                   —
 0x4F EQUALIZER BAND R/W                                 A1_1[23:16]                                   —
 0x50         1         R/W                               A1_1[15:8]                                   —
 0x51  COEFFICIENT   A1 R/W                                A1_1[7:0]                                   —
 0x52     EQUALIZER     R/W                              A2_1[23:16]                                   —
 0x53      BAND 1       R/W                               A2_1[15:8]                                   —
 0x54  COEFFICIENT A2 R/W                                  A2_1[7:0]                                   —
www.maximintegrated.com                                                                  Maxim Integrated │ 76


MAX98090                                                   Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                            REGISTER CONTENTS                             POR
ADDR        NAME        R/W BIT 7 BIT 6     BIT 5     BIT 4      BIT 3  BIT 2 BIT 1 BIT 0       STATE
PLAYBACK PARAMETRIC EQUALIZER BAND 2: BIQUAD FILTER COEFFICIENT REGISTERS
 0x55    EQUALIZER      R/W                             B0_2[23:16]                               —
 0x56      BAND 2       R/W                              B0_2[15:8]                               —
 0x57  COEFFICIENT B0 R/W                                 B0_2[7:0]                               —
 0x58    EQUALIZER      R/W                             B1_2[23:16]                               —
 0x59      BAND 2       R/W                              B1_2[15:8]                               —
 0x5A COEFFICIENT B1 R/W                                  B1_2[7:0]                               —
 0x5B    EQUALIZER      R/W                             B2_2[23:16]                               —
 0x5C      BAND 2       R/W                              B2_2[15:8]                               —
 0x5D  COEFFICIENT   B2 R/W                               B2_2[7:0]                               —
 0x5E    EQUALIZER      R/W                             A1_2[23:16]                               —
 0x5F      BAND 2       R/W                              A1_2[15:8]                               —
 0x60  COEFFICIENT A1 R/W                                 A1_2[7:0]                               —
 0x61    EQUALIZER      R/W                             A2_2[23:16]                               —
 0x62      BAND 2       R/W                              A2_2[15:8]                               —
 0x63  COEFFICIENT A2 R/W                                 A2_2[7:0]                               —
PLAYBACK PARAMETRIC EQUALIZER BAND 3: BIQUAD FILTER COEFFICIENT REGISTERS
 0x64    EQUALIZER      R/W                             B0_3[23:16]                               —
 0x65      BAND 3       R/W                              B0_3[15:8]                               —
 0x66  COEFFICIENT B0 R/W                                 B0_3[7:0]                               —
 0x67    EQUALIZER      R/W                             B1_3[23:16]                               —
 0x68      BAND 3       R/W                              B1_3[15:8]                               —
 0x69  COEFFICIENT B1 R/W                                 B1_3[7:0]                               —
 0x6A    EQUALIZER      R/W                             B2_3[23:16]                               —
 0x6B      BAND 3       R/W                              B2_3[15:8]                               —
 0x6C  COEFFICIENT   B2 R/W                               B2_3[7:0]                               —
 0x6D    EQUALIZER      R/W                             A1_3[23:16]                               —
 0x6E      BAND 3       R/W                              A1_3[15:8]                               —
 0x6F  COEFFICIENT A1 R/W                                 A1_3[7:0]                               —
 0x70    EQUALIZER      R/W                             A2_3[23:16]                               —
 0x71      BAND 3       R/W                              A2_3[15:8]                               —
 0x72  COEFFICIENT A2 R/W                                 A2_3[7:0]                               —
www.maximintegrated.com                                                             Maxim Integrated │ 77


MAX98090                                                    Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                             REGISTER CONTENTS                             POR
ADDR        NAME        R/W BIT 7  BIT 6     BIT 5     BIT 4      BIT 3  BIT 2 BIT 1 BIT 0       STATE
 PLAYBACK PARAMETRIC EQUALIZER BAND 4: BIQUAD FILTER COEFFICIENT REGISTERS
 0x73    EQUALIZER      R/W                              B0_4[23:16]                               —
 0x74      BAND 4       R/W                               B0_4[15:8]                               —
 0x75  COEFFICIENT B0 R/W                                  B0_4[7:0]                               —
 0x76    EQUALIZER      R/W                              B1_4[23:16]                               —
 0x77      BAND 4       R/W                               B1_4[15:8]                               —
 0x78  COEFFICIENT B1 R/W                                  B1_4[7:0]                               —
 0x79    EQUALIZER      R/W                              B2_4[23:16]                               —
 0x7A      BAND 4       R/W                               B2_4[15:8]                               —
 0x7B  COEFFICIENT   B2 R/W                                B2_4[7:0]                               —
 0x7C    EQUALIZER      R/W                              A1_4[23:16]                               —
 0x7D      BAND 4       R/W                               A1_4[15:8]                               —
 0x7E  COEFFICIENT   A1 R/W                                A1_4[7:0]                               —
 0x7F    EQUALIZER      R/W                              A2_4[23:16]                               —
 0x80      BAND 4       R/W                               A2_4[15:8]                               —
 0x81  COEFFICIENT A2 R/W                                  A2_4[7:0]                               —
 PLAYBACK PARAMETRIC EQUALIZER BAND 5: BIQUAD FILTER COEFFICIENT REGISTERS
 0x82    EQUALIZER      R/W                              B0_5[23:16]                               —
 0x83      BAND 5       R/W                               B0_5[15:8]                               —
 0x84  COEFFICIENT B0 R/W                                  B0_5[7:0]                               —
 0x85    EQUALIZER      R/W                              B1_5[23:16]                               —
 0x86      BAND 5       R/W                               B1_5[15:8]                               —
 0x87  COEFFICIENT B1 R/W                                  B1_5[7:0]                               —
 0x88    EQUALIZER      R/W                              B2_5[23:16]                               —
 0x89      BAND 5       R/W                               B2_5[15:8]                               —
 0x8A COEFFICIENT B2 R/W                                   B2_5[7:0]                               —
 0x8B    EQUALIZER      R/W                              A1_5[23:16]                               —
 0x8C      BAND 5       R/W                               A1_5[15:8]                               —
 0x8D COEFFICIENT A1 R/W                                   A1_5[7:0]                               —
 0x8E    EQUALIZER      R/W                              A2_5[23:16]                               —
 0x8F      BAND 5       R/W                               A2_5[15:8]                               —
 0x90  COEFFICIENT A2 R/W                                  A2_5[7:0]                               —
www.maximintegrated.com                                                              Maxim Integrated │ 78


MAX98090                                                   Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                            REGISTER CONTENTS                             POR
ADDR        NAME        R/W BIT 7 BIT 6     BIT 5     BIT 4      BIT 3  BIT 2 BIT 1 BIT 0       STATE
PLAYBACK PARAMETRIC EQUALIZER BAND 6: BIQUAD FILTER COEFFICIENT REGISTERS
 0x91    EQUALIZER      R/W                             B0_6[23:16]                               —
 0x92      BAND 6       R/W                              B0_6[15:8]                               —
 0x93  COEFFICIENT B0 R/W                                 B0_6[7:0]                               —
 0x94    EQUALIZER      R/W                             B1_6[23:16]                               —
 0x95      BAND 6       R/W                              B1_6[15:8]                               —
 0x96  COEFFICIENT B1 R/W                                 B1_6[7:0]                               —
 0x97    EQUALIZER      R/W                             B2_6[23:16]                               —
 0x98      BAND 6       R/W                              B2_6[15:8]                               —
 0x99  COEFFICIENT B2 R/W                                 B2_6[7:0]                               —
 0x9A    EQUALIZER      R/W                             A1_6[23:16]                               —
 0x9B      BAND 6       R/W                              A1_6[15:8]                               —
 0x9C  COEFFICIENT   A1 R/W                               A1_6[7:0]                               —
 0x9D    EQUALIZER      R/W                             A2_6[23:16]                               —
 0x9E      BAND 6       R/W                              A2_6[15:8]                               —
 0x9F  COEFFICIENT A2 R/W                                 A2_6[7:0]                               —
PLAYBACK PARAMETRIC EQUALIZER BAND 7: BIQUAD FILTER COEFFICIENT REGISTERS
 0xA0    EQUALIZER      R/W                             B0_7[23:16]                               —
 0xA1      BAND 7       R/W                              B0_7[15:8]                               —
 0xA2  COEFFICIENT   B0 R/W                               B0_7[7:0]                               —
 0xA3    EQUALIZER      R/W                             B1_7[23:16]                               —
 0xA4      BAND 7       R/W                              B1_7[15:8]                               —
 0xA5  COEFFICIENT   B1 R/W                               B1_7[7:0]                               —
 0xA6    EQUALIZER      R/W                             B2_7[23:16]                               —
 0xA7      BAND 7       R/W                              B2_7[15:8]                               —
 0xA8 COEFFICIENT B2 R/W                                  B2_7[7:0]                               —
 0xA9    EQUALIZER      R/W                             A1_7[23:16]                               —
 0xAA      BAND 7       R/W                              A1_7[15:8]                               —
 0xAB COEFFICIENT A1 R/W                                  A1_7[7:0]                               —
 0xAC    EQUALIZER      R/W                             A2_7[23:16]                               —
 0xAD      BAND 7       R/W                              A2_7[15:8]                               —
 0xAE  COEFFICIENT   A2 R/W                               A2_7[7:0]                               —
www.maximintegrated.com                                                             Maxim Integrated │ 79


MAX98090                                                             Ultra-Low Power Stereo Audio Codec
Table 1. MAX98090 Control Register Map (continued)
   REGISTER DESCRIPTION                                     REGISTER CONTENTS                                            POR
 ADDR       NAME        R/W   BIT 7    BIT 6        BIT 5      BIT 4       BIT 3      BIT 2       BIT 1      BIT 0      STATE
 RECORD BIQUAD FILTER COEFFICIENT REGISTERS
 0xAF                   R/W                                      REC_B0[23:16]                                            —
       RECORD BIQUAD
 0xB0                   R/W                                      REC_B0[15:8]                                             —
       COEFFICIENT B0
 0xB1                   R/W                                       REC_B0[7:0]                                             —
 0xB2                   R/W                                      REC_B1[23:16]                                            —
       RECORD BIQUAD
 0xB3                   R/W                                      REC_B1[15:8]                                             —
       COEFFICIENT B1
 0xB4                   R/W                                       REC_B1[7:0]                                             —
 0xB5                   R/W                                      REC_B2[23:16]                                            —
       RECORD BIQUAD
 0xB6                   R/W                                      REC_B2[15:8]                                             —
       COEFFICIENT B2
 0xB7                   R/W                                       REC_B2[7:0]                                             —
 0xB8                   R/W                                      REC_A1[23:16]                                            —
       RECORD BIQUAD
 0xB9                   R/W                                      REC_A1[15:8]                                             —
       COEFFICIENT A1
 0xBA                   R/W                                       REC_A1[7:0]                                             —
 0xBB                   R/W                                      REC_A2[23:16]                                            —
       RECORD BIQUAD
 0xBC                   R/W                                      REC_A2[15:8]                                             —
       COEFFICIENT A2
 0xBD                   R/W                                       REC_A2[7:0]                                             —
 REVISION ID REGISTER
 0xFF     REVISION ID    R                                         REVID[7:0]                                            0x43
Software Reset                                                    equalizer coefficients are not reset). The software reset
The device provides a software controlled reset (Table            register is a pushbutton, write only register. As a result,
2) that is used to return most registers to their default         a read of this register always returns 0x00. Writing logic-
(POR) states (the record biquad and playback parametric           high to SWRESET triggers a software register reset, while
                                                                  writing a logic-low to SWRESET has no effect.
Table 2. Software Reset Register
            ADDRESS: 0x00
                                                                               DESCRIPTION
  BIT        NAME         TYPE   POR
                                      Pushbutton Software Device Reset
                                      0: Writing a logic low to SWRESET has no effect.
   7       SWRESET          W       0
                                      1: Reset all registers to their default POR values. This excludes the record biquad
                                      and playback parametric equalizer filter coefficients (Table 30 and Table 52).
   6           —            —      —                                                —
   5           —            —      —                                                —
   4           —            —      —                                                —
   3           —            —      —                                                —
   2           —            —      —                                                —
   1           —            —      —                                                —
   0           —            —      —                                                —
www.maximintegrated.com                                                                                     Maxim Integrated │ 80


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Power and Performance Management                                     AVDD supply) facilitates lower overall power consumption
The device includes comprehensive power management                   by disabling the bandgap reference circuit. However, this
to allow the disabling of unused blocks to minimize sup-             type of BIAS reference has the disadvantage of scaling
ply current. In addition to this, the available power modes          with the AVDD supply voltage (and thus also has reduced
provide a software configurable choice between highest               PSRR). When derived from a bandgap reference, BIAS
performance and reduced power consumption.                           is constant regardless of the supply voltage, but the addi-
                                                                     tional circuitry increases power consumption.
Device Performance Configuration                                     The ADC, DAC, and headphone playback all have option-
The Bias Control register (Table 3) selects the method               al high-performance modes (Tables 4 and 5). In each
used to derive the common-mode reference voltage. A                  case, these modes trade additional power consumption
common-mode bias created by resistive division (from the             for enhanced performance. The ADC also has optional
Table 3. Bias Control Register
             ADDRESS: 0x42
                                                                                 DESCRIPTION
  BIT         NAME           TYPE    POR
   7            —              —      —                                                 —
   6            —              —      —                                                 —
   5            —              —      —                                                 —
   4            —              —      —                                                 —
   3            —              —      —                                                 —
   2            —              —      —                                                 —
   1            —              —      —                                                 —
                                           Select source for BIAS.
   0      BIAS_MODE           R/W      0   0: BIAS derived from resistive division.
                                           1: BIAS created by bandgap reference.
Table 4. DAC and Headphone Performance Mode Control Register
             ADDRESS: 0x43
                                                                                 DESCRIPTION
  BIT         NAME           TYPE    POR
   7            —              —      —                                                 —
   6            —              —      —                                                 —
   5            —              —      —                                                 —
   4            —              —      —                                                 —
   3            —              —      —                                                 —
   2            —              —      —                                                 —
                                           Performance Mode
                                           Selects DAC to headphone playback performance mode:
   1      PERFMODE            R/W      0
                                           1: Low power headphone playback mode.
                                           0: High performance headphone playback mode.
                                           DAC High-Performance Mode
   0         DACHP            R/W      0   0: DAC settings optimized for lowest power consumption.
                                           1: DAC settings optimized for best performance.
www.maximintegrated.com                                                                                    Maxim Integrated │ 81


MAX98090                                                            Ultra-Low Power Stereo Audio Codec
dither (recommended for the cleanest spectrum), and can           Device Enable Configuration
be configured to two different oversampling rates. See the        In addition to a device global shutdown control, the major
Analog-to-Digital Converter (ADC) section for additional          input and output blocks can be independently enabled
details on ADC operation.                                         (or disabled) to optimize power consumption. The device
                                                                  global shutdown control is detailed in Table 6.
Table 5. ADC Performance Mode Control Register
            ADDRESS: 0x44
                                                                              DESCRIPTION
 BIT         NAME          TYPE   POR
   7           —             —      —                                               —
   6           —             —      —                                               —
   5           —             —      —                                               —
   4           —             —      —                                               —
   3           —             —      —                                               —
                                       ADC Oversampling Rate
   2        OSR128          R/W     1  0: fADCCLK = 64 x fS
                                       1: fADCCLK = 128 x fS
                                       ADC Quantizer Dither
   1       ADCDITHER        R/W     1  0: Dither disabled.
                                       1: Dither enabled.
                                       ADC High-Performance Mode
   0         ADCHP          R/W     0  0: ADC is optimized for low power operation.
                                       1: ADC is optimized for best performance.
Table 6. Device Shutdown Register
            ADDRESS: 0x45
                                                                              DESCRIPTION
 BIT         NAME          TYPE    POR
                                        Device Active-Low Global Shutdown Control
                                         0: Device is in shutdown.
   7         SHDN           R/W     0
                                         1: Device is active.
                                        Certain registers should not be written to while the device is active (Table 90).
   6           —             —      —                                               —
   5           —             —      —                                               —
   4           —             —      —                                               —
   3           —             —      —                                               —
   2           —             —      —                                               —
   1           —             —      —                                               —
   0           —             —      —                                               —
www.maximintegrated.com                                                                                        Maxim Integrated │ 82


MAX98090                                                             Ultra-Low Power Stereo Audio Codec
Table 7 details the available input signal path enables           However, the I2C interface remains active and all device
(with the exception of the analog microphone inputs               registers can be configured. Certain registers should be
1/2, which are enabled from registers 0x10 and 0x11, or           programmed while in shutdown only (detailed in Table
Tables 9 and 10, respectively). Table 8 details the avail-        90). Changing these registers when the device is active
able output signal path enables.                                  could result in unexpected behavior. For optimal mini-
When the device is in global shutdown, the major input            mized power consumption, only enable the stage blocks
and output blocks are all disabled to conserve power.             that are part of the intended signal path configuration.
Table 7. Input Enable Register
           ADDRESS: 0x3E
                                                                            DESCRIPTION
 BIT        NAME          TYPE   POR
  7            —            —     —                                                 —
  6            —            —     —                                                 —
  5            —            —     —                                                 —
                                       Microphone Bias Enable
  4          MBEN          R/W     0    0: Microphone bias disabled.
                                        1: Microphone bias enabled.
                                       Enables Line A Analog Input Block
  3        LINEAEN         R/W     0    0: Line A input amplifier disabled.
                                        1: Line A input amplifier enabled.
                                       Enables Line B Analog Input Block
  2        LINEBEN         R/W     0    0: Line B input amplifier disabled.
                                        1: Line B input amplifier enabled.
                                       Right ADC Enable
                                        0: Right ADC disabled.
  1         ADREN          R/W     0
                                        1: Right ADC enabled.
                                        This setting should not be changed while device is active (Table 90).
                                       Left ADC Enable
                                        0: Left ADC disabled.
  0         ADLEN          R/W     0
                                        1: Left ADC enabled.
                                        This setting should not be changed while device is active (Table 90).
www.maximintegrated.com                                                                                   Maxim Integrated │ 83


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Table 8. Output Enable Register
           ADDRESS: 0x3F
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Right Headphone Output Enable
  7        HPREN         R/W  0   0: Right headphone output disabled.
                                  1: Right headphone output enabled.
                                 Left Headphone Output Enable
  6         HPLEN        R/W  0   0: Left headphone output disabled.
                                  1: Left headphone output enabled.
                                 Right Class D Speaker Output Enable
  5        SPREN         R/W  0   0: Right speaker output disabled.
                                  1: Right speaker output enabled.
                                 Left Class D Speaker Output Enable
  4         SPLEN        R/W  0   0: Left speaker output disabled.
                                  1: Left speaker output enabled.
                                 Receiver (Earpiece)/Left Line Output Enable
  3        RCVLEN        R/W  0   0: Receiver/left line output disabled.
                                  1: Receiver/left line output enabled.
                                 Right Line Output Enable
  2       RCVREN         R/W  0   0: Right line output disabled.
                                  1: Right line output enabled.
                                 Right DAC Digital Input Enable
                                  0: Right DAC input disabled.
  1        DAREN         R/W  0
                                  1: Right DAC input enabled.
                                  This setting should not be changed while device is active (Table 90).
                                 Left DAC Digital Input Enable
                                  0: Left DAC input disabled.
  0         DALEN        R/W  0
                                  1: Left DAC input enabled.
                                  This setting should not be changed while device is active (Table 90).
www.maximintegrated.com                                                                             Maxim Integrated │ 84


MAX98090                                                                               Ultra-Low Power Stereo Audio Codec
Audio Input Configuration                                                           single-ended or differential line input(s), or as a reduced
The device features either six (WLP package) or four                                power, full-scale differential analog input direct to the ADC
(TQFN package) flexible analog inputs. Each pair can                                mixer. The analog microphone and line inputs can either
be configured as either an analog microphone input, a                               be routed to the stereo ADC mixer for recording or directly
                                                                                    to any analog output mixer for playback.
                                                                                                                         FLEXSOUND
                                                                                                                        TECHNOLOGY
                                                MBVSEL[1:0]         MICCLK[2:0]                DIGMICL                       DSP                     DIGMICR
                                       MBEN                                                                    DIGITAL                  DIGITAL
                                                                                                              MIC DATA                 MIC DATA
                                               MICROPHONE                            PCLK
             MICBIAS                                                                                          LEFT MUX                 LEFT MUX
                                                    BIAS              DIGITAL
                                                GENERATOR          MICROPHONE                                 DMDL     ADCL            DMDR     ADCR
                                                                     CONTROL
                                    EXTMIC[0]  PA1EN[1:0]         PGAM1[4:0]                                        ADC                      ADC
                                                                                                                   LEFT                     RIGHT
                            IN1-IN2                                                                      ADLEN                ADCHP                  ADREN
                                       MIC 1
                                                   MIC 1             MIC 1                                                    OSR128
                            IN5-IN6   INPUT
                                                 PREAMP              PGA                                                    ADCDITHER
                                       MUX
                                                         0dB               0dB TO 20dB
             IN1/DMD                                     10dB
             IN2/DMC                                     30dB
                                                                    ZDENB
                            IN3-IN4
                                       MIC 2
                                      INPUT        MIC 2             MIC 2
                            IN5-IN6              PREAMP              PGA
                                       MUX
                                                         0dB               0dB TO 20dB
                                                         10dB
                                                         30dB
                                    EXTMIC[1]  PA2EN[1:0]         PGAM2[4:0]
                  IN3                                                                            IN1-IN2
                                     IN1SEEN
                  IN4                                                                            IN3-IN4
                                     IN3SEEN
                                     IN5SEEN                                                     IN5-IN6
                                     IN34DIFF    LINEAEN                                                   ADC
                                                EXTBUFA                                           LINE A   LEFT
                                                                                                  LINE B MIXER
                                IN1                                                                MIC 1
                                IN3   LINE A                                                                               MIXADL[6:0]
                                                                                                   MIC 2
                                IN5    INPUT      LINE A
                                      MIXER        PGA
                            IN3-IN4
                                                         -6dB TO 20dB                            IN1-IN2
                                                                                                 IN3-IN4
                  IN5                         LINAPGA[2:0]                                       IN5-IN6
                                                                                                           ADC
                                    MIXG135                                                       LINE A  RIGHT
                  IN6
                                    MIXG246                                                       LINE B  MIXER
          (WLP ONLY)                          LINBPGA[2:0]
                                                                                                   MIC 1
                                                                                                                          MIXADR[6:0]
                                IN2                                                                MIC 2
                                IN4   LINE B
                                IN6    INPUT      LINE B
                                                   PGA
                            IN6-IN5   MIXER
                                                         -6dB TO 20dB
                                                                                                          MAX98090
                                                 LINEBEN
                                     IN2SEEN    EXTBUFB
                                     IN4SEEN
                                     IN6SEEN
                                     IN65DIFF
                                                                                                                               ANALOG
                                                                                                                               OUTPUT
                                                                                                                               MIXERS
Figure 5. Analog Audio Input Functional Diagram
www.maximintegrated.com                                                                                                                     Maxim Integrated │ 85


MAX98090                                                                    Ultra-Low Power Stereo Audio Codec
Analog Microphone Inputs                                                 additional analog input pair (IN5 and IN6) can be con-
The device includes three differential microphone inputs                 figured as a differential input (IN5 - IN6) to either micro-
(three for the WLP package and two for the TQFN pack-                    phone amplifier 1 or 2 (Table 24).
age) and a programmable, low-noise microphone bias                       In the typical application, one microphone input is used
for powering a wide variety of external micro­             phones        for the handset microphone and the other is used as an
(Figure 6). By default, analog inputs IN1 and IN2 differen-              accessory microphone (IN1/IN2 and IN3/IN4). In systems
tially (IN1/IN2) provide the input to microphone amplifier               using a background noise microphone, IN5/IN6 (WLP
1, while IN3 and IN4 differentially (IN3/IN4) form the input             only) can be retasked as another microphone input.
to microphone amplifier 2. For the WLP package, the
                                                                                                       MIXADL[6:0]
                                      MBEN         MBVSEL[1:0]
                                                                                                IN1-IN2
            MICBIAS                               MICROPHONE                                    IN3-IN4
                                                      BIAS
                                                   GENERATOR                                    IN5-IN6
                                                                                                          ADC
                                                                                                  MIC 1   LEFT
                                    EXTMIC[0]     PA1EN[1:0]    PGAM1[4:0]                        MIC 2 MIXER
                                                                                                 LINE A
            IN1/DMD         IN1-IN2                                                              LINE B
                                      MIC 1
            IN2/DMC                  INPUT           MIC 1         MIC 1
                            IN5-IN6                 PREAMP         PGA
                                      MUX                                                       IN1-IN2
                                                           0dB           0dB TO 20dB
                                                           10dB                                 IN3-IN4
                                                           30dB                                 IN5-IN6
                                                                                                          ADC
                 IN5                                                                              MIC 1  RIGHT
                                              LINE A
                                                                  ZDENB                           MIC 2 MIXER
                 IN6
                                              LINE B                                             LINE A
         (WLP ONLY)                                                       MAX98090               LINE B
                 IN3        IN3-IN4
                                      MIC 2                                                            MIXADR[6:0]
                                     INPUT           MIC 2         MIC 2
                 IN4        IN5-IN6                 PREAMP         PGA
                                      MUX
                                                           0dB           0dB TO 20dB
                                                           10dB
                                                           30dB                                                       ANALOG
                                                                                                                      OUTPUT
                                    EXTMIC[1]     PA2EN[1:0]    PGAM2[4:0]                                            MIXERS
Figure 6. Analog Microphone Input Functional Diagram
www.maximintegrated.com                                                                                            Maxim Integrated │ 86


MAX98090                                                         Ultra-Low Power Stereo Audio Codec
Analog Microphone Preamplifier and PGA                        fier (PGA) adjustable from 0dB to 20dB in 1dB steps
The analog microphone inputs have two stages of pro-          (Tables 9 and 10). Together, the two stages provide up
grammable gain amplifiers, and are then routed to the         to 50dB of signal gain for the analog microphone inputs.
ADC mixer (record), the analog outputs (playback), or         To maximize the signal-to-noise ratio, use the coarse
simultaneously to both. The first, a coarse preamplifier      gain settings of the first stage whenever possible. Zero-
gain stage, includes the analog microphone enable, and        crossing detection is included on the PGA to minimize
offers selectable 0dB, 20dB, or 30dB gain settings. The       zipper noise while making gain changes.
second, a fine gain stage, is a programmable-gain ampli-
Table 9. Microphone 1 Enable and Level Configuration Register
            ADDRESS: 0x10
                                                                         DESCRIPTION
  BIT        NAME         TYPE     POR
   7           —             —      —                                          —
   6                                0  Microphone 1 Input Amplifier Enable and Coarse Gain Setting
           PA1EN[1:0]      R/W          00: Disabled 10: 20dB
   5                                0   01: 0dB      11: 30dB
   4                                1  Microphone 1 Programmable Gain Amplifier Fine Adjust Configuration
   3                                0   0x1F: 0dB    0x0E: 6dB       0x06: 14dB
                                                     0x0D: 7dB       0x05: 15dB
                                        0x14: 0dB    0x0C: 8dB       0x04: 16dB
   2                                1
          PGAM1[4:0]       R/W          0x13: 1dB    0x0B: 9dB       0x03: 17dB
                                        0x12: 2dB    0x0A: 10dB      0x02: 18dB
   1                                0   0x11: 3dB    0x09: 11dB      0x01: 19dB
                                        0x10: 4dB    0x08: 12dB      0x00: 20dB
   0                                0   0x0F: 5dB    0x07: 13dB
Table 10. Microphone 2 Enable and Level Configuration Register
            ADDRESS: 0x11
                                                                         DESCRIPTION
  BIT        NAME         TYPE     POR
   7           —             —      —                                          —
   6                                0  Microphone 2 Input Amplifier Enable and Coarse Gain Setting
           PA2EN[1:0]      R/W          00: Disabled                             10: 20dB
   5                                0   01: 0dB                                  11: 30dB
   4                                1  Microphone 2 Programmable Gain Amplifier Fine Adjust Configuration
   3                                0    0x1F: 0dB      0x0E: 6dB     0x06: 14dB
                                                       0x0D: 7dB      0x05: 15dB
   2                                1    0x14: 0dB     0x0C: 8dB      0x04: 16dB
          PGAM2[4:0]       R/W           0x13: 1dB      0x0B: 9dB     0x03: 17dB
                                         0x12: 2dB     0x0A: 10dB     0x02: 18dB
   1                                0    0x11: 3dB     0x09: 11dB     0x01: 19dB
                                         0x10: 4dB     0x08: 12dB     0x00: 20dB
   0                                0    0x0F: 5dB     0x07: 13dB
www.maximintegrated.com                                                                            Maxim Integrated │ 87


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Analog Microphone Bias Voltage                                     phone input cannot be paired with a single analog micro-
The device features a regulated, low noise microphone              phone input. Left channel data is accepted on falling clock
bias output (MICBIAS) that can be configured to power              edges while the right channel data is accepted on the rising
a wide range of external microphone devices. To enable             clock edges (see Figure 4 for timing requirements).
the microphone bias output, set MBEN in the input enable           To avoid any potential clipping and distortion, always
register (Table 7). When the device is powered and the             enable the record path DC blocking filters to remove any
microphone bias is disabled (MBEN is low or the device             built-in DC offsets when using a digital microphone input
is in shutdown), MICBIAS is placed in a high-impedance             (AHPF, Table 21). The record path biquad filter and digital
state. The microphone bias voltage can be set by the soft-         gain and level control stages can also be applied to digital
ware to any one of 4 voltages (2.2V, 2.4V, 2.55V, or 2.8V)         microphone input signals.
by programming the Microphone Bias Level Configuration
register (Table 11).                                               Digital Microphone Clock Configuration
                                                                   The digital microphone clock frequency (fDMC) can be
Digital Microphone Inputs                                          configured to any one of 6 settings using MICCLK[2:0]
One pair of microphone inputs (IN1/IN2) can also be                (Table 13). The digital microphone clock is derived from
configured to interface to up to two digital microphones           a PCLK divider, with available settings ranging incremen-
(Figure 7). The record path DSP is automatically switched          tally from fPCLK/2 to fPCLK/8. This wide range of available
to accept the appropriate digital microphone data channel          digital microphone clock frequencies is intended to sup-
when enabled (Figure 13). Both channels (left and right)           port both current and next generation digital microphones.
must be enabled to use the digital microphone interface.           Table 12 lists the resulting clock frequencies for common-
When both channels are enabled, the digital microphone             ly used master clock (and resulting PCLK) frequencies.
interface provides a digital microphone clock on IN2/DMC
                                                                   Digital Microphone Frequency Compensation
and accepts PDM data on IN1/DMD. A single digital micro-
                                           MICCLK[2:0]
                             IN2/DMC                      PCLK                    DIGMICL
                                             DIGITAL            DMDL
                             IN1/DMD      MICROPHONE
                                            CONTROL
                                                                          DIGITAL
                                                                            MIC         LEFT
                                                                           LEFT        RECORD
                                  IN3                                      MUX        PATH DSP
                                           ADC
                                           LEFT           ADC   ADCL
                                  IN4                                                FLEXSOUND
                                          MIXER          LEFT
                                                                                    TECHNOLOGY   DAI
                                                                DMDR                     DSP
                             MICBIAS
                                                       MAX98090           DIGITAL
                                                                                        RIGHT
                                                                            MIC
                                                                                       RECORD
                                                                           RIGHT
                                                                                      PATH DSP
                                  IN5      ADC                             MUX
                                          RIGHT           ADC   ADCR
                                  IN6                    RIGHT
                                          MIXER
                          (WLP ONLY)
                                                                                  DIGMICR
Figure 7. Digital Microphone Input Functional Diagram
www.maximintegrated.com                                                                                    Maxim Integrated │ 88


MAX98090                                                          Ultra-Low Power Stereo Audio Codec
Table 11. Microphone Bias Level Configuration Register
           ADDRESS: 0x12
                                                                             DESCRIPTION
 BIT        NAME         TYPE    POR
  7           —            —      —                                                —
  6           —            —      —                                                —
  5           —            —      —                                                —
  4           —            —      —                                                —
  3           —            —      —                                                —
  2           —            —      —                                                —
  1                               0    Microphone Bias Level Configuration
         MBVSEL[1:0]      R/W           00: 2.2V                                    10: 2.55V
  0                               0     01: 2.4V                                    11: 2.8V
Table 12. Digital Microphone Clocks for Commonly Used Master Clocks Settings
  Master Clock Frequency (fMCLK)      10MHz         11.2896MHz        12MHz         12.288MHz      13/26MHz        19.2MHz
                         fPCLK/2      5.0MHz         5.645MHz        6.0MHz          6.144MHz        6.5MHz            —
                         fPCLK/3    3.333MHz         3.763MHz        4.0MHz          4.096MHz      4.333MHz         6.4MHz
   Approximate Digital   fPCLK/4      2.5MHz         2.822MHz        3.0MHz          3.072MHz       3.25MHz         4.8MHz
    Microphone Clock
    Frequency (fDMC)     fPCLK/5      2.0MHz         2.258MHz        2.4MHz          2.458MHz        2.6MHz        3.84MHz
                         fPCLK/6    1.667MHz         1.882MHz        2.0MHz          2.048MHz      2.167MHz         3.2MHz
                         fPCLK/8     1.25MHz         1.411MHz        1.5MHz          1.536MHz      1.625MHz         2.4MHz
Table 13. Digital Microphone Enable
           ADDRESS: 0x13
                                                                             DESCRIPTION
 BIT        NAME         TYPE    POR
  7           —            —      —                                                —
  6                               0    Digital Microphone Clock Rate Configuration
                                        000: fDMC = fPCLK/2                         100: fDMC = fPCLK/6
  5      DMICCLK[2:0]     R/W     0     001: fDMC = fPCLK/3                         101: fDMC = fPCLK/8
                                        010: fDMC = fPCLK/4                         110: Reserved
  4                               0     011: fDMC = fPCLK/5                         111: Reserved
  3           —            —      —                                                —
  2           —            —      —                                                —
                                       Digital Microphone Clock and Right Channel Enable
                                        0: Right record channel uses on-chip ADC.
  1        DIGMICR        R/W     0
                                        1: Right record channel uses digital microphone input.
                                       Digital microphone clock (DMC) is enabled once both data channels are enabled.
                                       Digital Microphone Clock and Left Channel Enable
                                        0: Left record channel uses on-chip ADC.
  0        DIGMICL        R/W     0
                                        1: Left record channel uses digital microphone input.
                                       Digital microphone clock (DMC) is enabled once both data channels are enabled.
www.maximintegrated.com                                                                                  Maxim Integrated │ 89


MAX98090                                                                                                       Ultra-Low Power Stereo Audio Codec
The digital microphone inputs can be configured to pro-                                                      settings (Figure 8). Every sample rate and MCLK/PCLK
duce a wide range of digital microphone clock frequen-                                                       frequency (and the resulting digital microphone clock
cies. To optimize performance over the entire range of                                                       frequency) combination results in a different baseline
available frequencies, the device provides configurable                                                      frequency response. Table 15 to Table 20 provide the
frequency range and compensation settings. Once the                                                          recommended compensation filter settings for the most
master clock (and thus prescaled clock) frequency is                                                         commonly used PCLK frequency and sample rate com-
                                                                                                             binations. Choose the PCLK divider that results in the
                                         DIGITAL MICROPHONE COMPENSATION FILTER                              DMC clock frequency closest to the optimal frequency for
                                           RESPONSE vs. NORMALIZED FREQUENCY                                 the built-in digital MIC hardware, and then set the correct
                                         2.5                                                                 DMIC frequency range (DMIC_FREQ, Table 14). Then,
     COMPENSATION FILTER RESPONSE (dB)
                                                                                             DMIC_COMP = 6   based on the desired sample rate, select the appropriate
                                         2.0                                                 DMIC_COMP = 5   compensation settings from Table 14 (DMIC_COMP).
                                                                                             DMIC_COMP = 4   If the system PCLK frequency does not match one of
                                         1.5                                                 DMIC_COMP = 3   these commonly used rates, then refer to the table for the
                                                                                             DMIC_COMP = 2
                                                                                             DMIC_COMP = 1   PCLK frequency that is closest (e.g., if the system PCLK
                                                                                             DMIC_COMP = 0
                                         1.0                                                                 frequency is 12.5MHz, see Table 17 as 12.288MHz is the
                                                                                                             closest common PCLK frequency). As before, choose
                                         0.5                                                                 the PCLK divider that results in the optimal DMC clock
                                                                                             DMIC_COMP = 8   frequency, and set the appropriate DMIC frequency range
                                                                                             DMIC_COMP = 7
                                          0
                                                                                                             (DMIC_FREQ, Table 14). Then choose the compensation
                                           0 x fS   0.1 x fS 0.2 x fS 0.3 x fS 0.4 x fS 0.5 x fS             settings based on the row that is the closest match to the
                                                       NORMALIZED FREQUENCY                                  configured DMC frequency. Similarly, for nonstandard
                                                                                                             sample rates choose the column with the common value
Figure 8. Digital Microphone Compensation Filter Frequency                                                   closest to the actual system sample rate.
Response
                                                                                                             In quick configuration mode, once both the system clock
decided, and the digital microphone clock divider is cho-                                                    and sample rate bits are selected (Table 36 and Table
sen, the digital microphone frequency range bits should                                                      37), the device automatically selects the recommended
be programmed to the correct range (DMIC_FREQ,                                                               response curve once the digital microphone clock divider
Table 14). If quick configuration mode is used and a                                                         is configured. The digital microphone input does not sup-
system clock bit is selected (Table 36), then the device                                                     port sample rates in excess of 48kHz (where DHF = 1,
automatically calculates and selects the correct range                                                       Table 27).
once the digital microphone clock divider is configured.
The digital microphone inputs also provide a configurable
frequency compensation filter with 9 frequency response
www.maximintegrated.com                                                                                                                            Maxim Integrated │ 90


MAX98090                                                            Ultra-Low Power Stereo Audio Codec
Table 14. Digital Microphone Configuration
              ADDRESS: 0x14
                                                                              DESCRIPTION
 BIT          NAME           TYPE     POR
  7                                    0   Digital Microphone Compensation Filter Configuration
  6                                    0   0000–1000: Figure 8 details the available compensation filter configurations.
        DMIC_COMP[3:0]        R/W          1001–1111: Configures the compensation filter to a pass through response.
  5                                    0   The compensation filter response scales with the sample rate up to the Nyquist
  4                                    0   bandwidth limit (fS/2). Automatically decoded in quick configuration mode.
  3             —              —       —                                             —
  2             —              —       —                                             —
                                           Digital Microphone Frequency Range Configuration
  1                           R/W      0
                                           00: fDMC < 3.5MHz                                  10: 4.5MHz ≤ fDMC
        DMIC_FREQ[1:0]                     01: 3.5MHz ≤ fDMC < 4.5MHz                         11: Reserved
                                           If any of the system clock quick configuration bits in register 0x04 are set, then the
  0                           R/W      0
                                           frequency range configuration is automatically decoded.
Table 15. Recommended Compensation Filter Settings for fPCLK = 11.2896MHz
           fPCLK = fMCLK/PSCLK (See Table 34)                 RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER       fDMC (MHz)     DMIC_FREQ             8             16            32             44.1           48
     0         fPCLK/2         5.6448             2              7              8             3              3              3
     1         fPCLK/3         3.7632             1              7              8             2              2              2
     2         fPCLK/4         2.8224             0              7              8             3              3              3
     3         fPCLK/5        2.25792             0              7              8             6              6              6
     4         fPCLK/6         1.8816             0              7              8             3              3              3
     5         fPCLK/8         1.4112             0              7              8             3              3              3
Table 16. Recommended Compensation Filter Settings for fPCLK = 12MHz
           fPCLK = fMCLK/PSCLK (See Table 34)                 RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)     DMIC_FREQ              8             16            32             44.1           48
     0         fPCLK/2           6               2               7              8             3              3              3
     1         fPCLK/3           4               1               7              8             2              2              2
     2         fPCLK/4           3               0               7              8             3              3              3
     3         fPCLK/5          2.4              0               7              8             5              5              6
     4         fPCLK/6           2               0               7              8             3              3              3
     5         fPCLK/8          1.5              0               7              8             3              3              3
www.maximintegrated.com                                                                                      Maxim Integrated │ 91


MAX98090                                                Ultra-Low Power Stereo Audio Codec
Table 17. Recommended Compensation Filter Settings for fPCLK = 12.288MHz
           fPCLK = fMCLK/PSCLK (See Table 34)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)     DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2        6.144           2       7         8         3           3              3
     1         fPCLK/3        4.096           1       7         8         2           2              2
     2         fPCLK/4        3.072           0       7         8         3           3              3
     3         fPCLK/5       2.4576           0       7         8         6           6              6
     4         fPCLK/6        2.048           0       7         8         3           3              3
     5         fPCLK/8        1.536           0       7         8         3           3              3
Table 18. Recommended Compensation Filter Settings for fPCLK = 13MHz
           fPCLK = fMCLK/PSCLK (See Table 34)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)     DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2          6.5           2       7         8         1           1              1
     1         fPCLK/3        4.333           1       7         8         0           0              1
     2         fPCLK/4         3.25           0       7         8         1           1              1
     3         fPCLK/5          2.6           0       7         8         4           4              5
     4         fPCLK/6        2.167           0       7         8         1           1              1
     5         fPCLK/8        1.625           0       7         8         1           1              1
Table 19. Recommended Compensation Filter Settings for fPCLK = 19.2MHz
           fPCLK = fMCLK/PSCLK (See Table 34)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)     DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2          —             —       —        —          —           —             —
     1         fPCLK/3          6.4           2       7         8         1           1              1
     2         fPCLK/4          4.8           2       7         8         5           5              6
     3         fPCLK/5         3.84           1       7         8         2           2              3
     4         fPCLK/6          3.2           0       7         8         1           1              2
     5         fPCLK/8          2.4           0       7         8         5           5              6
Table 20. Recommended Compensation Filter Settings for fPCLK = 256 x fS
           fPCLK = fMCLK/PSCLK (See Table 34)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)     DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2          —             —       7         8         3           3              3
     1         fPCLK/3          —             —       7         8         2           2              2
     2         fPCLK/4          —             —       7         8         3           3              3
     3         fPCLK/5          —             —       7         8         6           6              6
     4         fPCLK/6          —             —       7         8         3           3              3
     5         fPCLK/8          —             —       7         8         3           3              3
www.maximintegrated.com                                                               Maxim Integrated │ 92


MAX98090                                                                     Ultra-Low Power Stereo Audio Codec
Analog Line Inputs                                                        Analog Line Input Mixers
The device includes multiple line level input options                     The analog line input mixer allows the selection of either
and two analog line input programmable gain amplifiers                    single-ended or differential inputs to each line input chan-
(PGAs, Figure 9). The line input structure supports mul-                  nel (Table 21). The line A input mixer can accept single-
tiple configurations including stereo single-ended inputs,                ended inputs from IN1, IN3, and IN5, or a differential input
stereo differential inputs, and stereo mixed single-ended                 from IN3 and IN4 (IN3 - IN4). The line B input mixer can
inputs (any two per line input mixer).                                    accept single-ended inputs from IN2, IN4, and IN6, or a
                                                MIXG135                                                      MIXADL[6:0]
                                                                     LINAPGA[2:0]
                                                                                                      IN1-IN2
                  IN1/DMD                 IN1
                                                         -6dB/0dB                 -6dB TO 20dB        IN3-IN4
                  IN2/DMC                 IN3   LINE A
                                          IN5    INPUT                   LINE A                       IN5-IN6
                                                MIXER                     PGA                                   ADC
                                      IN3-IN4                                                           MIC 1
                                                                                                                LEFT
                                                                                                        MIC 2 MIXER
                                                        IN1SEEN                                        LINE A
                                          MIC 1         IN3SEEN         LINEAEN                        LINE B
                                          MIC 1         IN5SEEN        EXTBUFA
                       IN3
                                                        IN34DIFF
                       IN4                                                                            IN1-IN2
                                                                     MAX98090
                                          MIC 2                                                       IN3-IN4
                                                        IN2SEEN                                       IN5-IN6
                                          MIC 2
                                                        IN4SEEN        LINEBEN                                  ADC
                                                                       EXTBUFB                          MIC 1
                                                        IN6SEEN                                                RIGHT
                                                        IN65DIFF                                        MIC 2 MIXER
                                                                                                       LINE A
                                          IN2
                                                         -6dB/0dB                 -6dB TO 20dB         LINE B
                                          IN4   LINE B
                       IN6                IN6    INPUT                   LINE B
                                                                          PGA
                                      IN6-IN5   MIXER
                       IN5
                                                                                                             MIXADR[6:0]
               (WLP ONLY)
                                                                     LINBPGA[2:0]                                      ANALOG
                                                MIXG246                                                                OUTPUT
                                                                                                                       MIXERS
Figure 9. Analog Line Input Functional Diagram
Table 21. Line Input Mixer Configuration Register
             ADDRESS: 0x0D
                                                                                       DESCRIPTION
  BIT         NAME           TYPE    POR
   7        IN34DIFF          R/W       0     Selects IN3, IN4 differentially as an input to the line A mixer.
   6        IN65DIFF          R/W       0     Selects IN6, IN5 differentially as an input to the line B mixer (WLP only).
   5        IN1SEEN           R/W       0     Selects IN1 single ended as an input to the line A mixer.
   4        IN2SEEN           R/W       0     Selects IN2 single ended as an input to the line B mixer.
   3        IN3SEEN           R/W       0     Selects IN3 single ended as an input to the line A mixer.
   2        IN4SEEN           R/W       0     Selects IN4 single ended as an input to the line B mixer.
   1        IN5SEEN           R/W       0     Selects IN5 single ended as an input to the line A mixer (WLP only).
   0        IN6SEEN           R/W       0     Selects IN6 single ended as an input to the line B mixer (WLP only).
www.maximintegrated.com                                                                                                  Maxim Integrated │ 93


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
differential input from IN5 and IN6 (IN6 - IN5). Internally,      If the line input signal exceeds full scale and requires
all analog signal paths are differential. As a result, single-    additional attenuation, the external gain mode provides
ended inputs have a built in baseline gain of +6dB (from          trimmed internal feedback resistors (20kΩ) for custom
the single-ended to differential conversion) while differen-      gain levels. Line input external gain mode is not intended
tial inputs have 0dB of built in gain.                            to provide positive gain, and as such for optimal perfor-
The line input mixer can also be set to accept and mix            mance any gain of -6dB of higher should be set using the
any two single-ended inputs. To facilitate full-scale sig-        provided internal PGA gain settings.
nals, when mixing two single-ended inputs an optional             Differentially, the external line input gain is set by using
-6dB of attenuation is available (MIXG135 and MIXG246,            two precision (1% or better), well-matched series input
Table 23). The line input mixer attenuation setting has           resistors (Figure 10). Use the following formula to calcu-
no effect if enabled when only a single input source is           late the appropriate differential series input resistors:
selected. If a differential input to either mixer is enabled,                  AV_EXTLINE = 20 x log (20kΩ/RS_EXT)
any single-ended inputs that are also selected are ignored,
and the mixer accepts only the differential input.                For single-ended inputs, the external line input gain is set
                                                                  using a single precision (1% or better) series input resis-
Analog Line Input PGAs                                            tor (Figure 10). However, due to the internal single-ended
To facilitate a wide range of input signal levels, each analog    to differential conversion, this configuration creates an
line input includes a coarse programmable gain amplifier          unbalanced differential amplifier configuration (configured
(PGA) that can provide from 6dB of attenuation to 20dB            external gain paired with a fixed internal gain of +6dB).
of signal gain. The line inputs are then routed to either the     Table 22 provides the appropriate series resistance val-
ADC mixer (record) or analog outputs (playback).                  ues for common attenuation settings.
Table 22. External Gain Mode Series Resistance Values
                     LINE INPUT                                                        RS_EXT
             EXTERNAL GAIN (dB)                           DIFFERENTIAL (kΩ)                            SINGLE-ENDED (kΩ)
                 AV_EXTLINE = -9.5                               60                                                84.5
                AV_EXTLINE = -12.0                               80                                                 115
                AV_EXTLINE = -15.0                              112                                                 165
                AV_EXTLINE = -18.0                              160                                                 237
                                 DIFFERENTIAL LINE INPUT                                          SINGLE-ENDED LINE INPUT
                                  RFB_INT+ = 20kΩ                                                      RFB_INT+ = 20kΩ
                        RS_EXT+                                                       RS_EXT+
             VIN_DIFF+                                            VIN_SINGLE-ENDED
                                            LINE A                                                         LINE A
                                             PGA                                                            PGA
             VIN_DIFF-                                              VCOMMON_MODE
                        RS_EXT-                                                    RS_EXT- = 15kΩ
                                  RFB_INT- = 20kΩ                                                       RFB_INT- = 30kΩ
Figure 10. Analog Line Input External Gain Configurations
www.maximintegrated.com                                                                                              Maxim Integrated │ 94


MAX98090                                                      Ultra-Low Power Stereo Audio Codec
Table 23. Line Input Level Configuration Register
           ADDRESS: 0x0E
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Enable for a -6dB Reduction for Two Single-Ended Line A Mixer Inputs
  7       MIXG135        R/W  0   0: Normal line A mixer operation.
                                  1: Gain is reduced by -6dB when two single-ended inputs are selected.
                                 Enable for a -6dB Reduction for Two Single-Ended Line B Mixer Inputs
  6       MIXG246        R/W  0   0: Normal line B mixer operation.
                                  1: Gain is reduced by -6dB when two single-ended inputs are selected
  5                           0  Line Input A Programmable Internal Preamp Gain Configuration
  4     LINAPGA[2:0]     R/W  1   000: 20dB                     010: 3dB                       100: -3dB
  3                           1   001: 14dB                     011: 0dB                       101, 110, 111: -6dB
  2                           0  Line Input B Programmable Internal Preamp Gain Configuration
  1     LINBPGA[2:0]     R/W  1   000: 20dB                    010: 3dB                       100: -3dB
  0                           1   001: 14dB                    011: 0dB                       101, 110, 111: -6dB
Table 24. Input Mode and Source Configuration Register
           ADDRESS: 0x0F
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
  7       EXTBUFA        R/W  0  Selects external resistor gain mode for line input A.
  6       EXTBUFB        R/W  0  Selects external resistor gain mode for line input B.
  5           —           —   —                                                —
  4           —           —   —                                                —
  3           —           —   —                                                —
  2           —           —   —                                                —
                                 External Analog Microphone (IN5/IN6) MUX Configuration (WLP Only)
  1                           0   00: External microphone disabled:            10: External microphone to MIC 2:
                                      IN1/IN2 selected for MIC 1                   IN1/IN2 selected for MIC 1
         EXTMIC[1:0]     R/W          IN3/IN4 selected for MIC 2                   IN5/IN6 selected for MIC 2
                                  01: External microphone to MIC 1:
  0                           0       IN5/IN6 selected for MIC 1               11: Reserved.
                                      IN3/IN4 selected for MIC 2
www.maximintegrated.com                                                                               Maxim Integrated │ 95


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Analog Input PGA to Analog Output Mixer                                Analog Full-Scale Direct to ADC Mixer Inputs
The analog line input PGA and analog microphone PGA                    The analog inputs can also be configured to accept and
outputs can be routed directly to any of the analog out-               route differential analog signals directly to the ADC mixers
put mixers. This configuration allows the analog inputs                (record path, Figure 11). By disabling and bypassing the
to operate as line or microphone level input amplifiers                analog microphone and line input gain stages, this mode
capable of driving headphone, speaker, receiver, or line               provides a reduced power configuration for full-scale (up
output loads. The analog inputs can also be mixed with                 to 1VRMS) analog input signals. Unlike the analog micro-
the DAC outputs to any of the available analog output                  phone and line input configurations, this mode does not
mixers. The figures in the appropriate analog input and                allow the input signals to be routed directly to the analog
output sections detail the signal routing.                             output mixers (playback path, Figure 32).
                                                           MIXADL[6:0]
                               IN1/DMD              IN1-IN2
                               IN2/DMC              IN3-IN4                ADLEN
                                                    IN5-IN6
                                                              ADC
                                                      MIC 1   LEFT          ADC
                                                                           LEFT
                                                      MIC 2 MIXER
                                    IN3              LINE A
                                    IN4              LINE B
                                                                            ADCHP            FLEXSOUND
                                                                           OSR128           TECHNOLOGY
                                                    IN1-IN2               ADCDITHER
                                                                                                DSP
                                                    IN3-IN4
                                                    IN5-IN6
                                                              ADC
                                                      MIC 1                 ADC
                                                             RIGHT
                                                                           RIGHT
                                    IN5               MIC 2 MIXER
                                    IN6
                                                     LINE A
                            (WLP ONLY)                                     ADREN
                                                     LINE B
                                         MAX98090
                                                           MIXADR[6:0]
Figure 11. Analog Direct to ADC Mixer Input Functional Diagram
www.maximintegrated.com                                                                                         Maxim Integrated │ 96


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Audio Record Path                                                  analog input pairs. Internally, the digital record path has
The device record path comprises several sequential                two channels (left and right), which accept a digital signal
blocks. The first block is a stereo ADC with configurable          either from the appropriate digital microphone or ADC
mixers that can accept input from the microphone PGAs,             output channel. The two channels then pass through sev-
line input PGAs, or directly differentially from any of the        eral DSP stages before being routed into the digital audio
                                                                   interface (DAI, Figure 12).
   DIGITAL MIC DATA
        IN1-IN2
                                                                          LEFT RECORD PATH
        IN3-IN4            MIXADL[6:0]    DMDL
                                                    DIGITAL                       LEFT                       LEFT
        IN5-IN6                                       MIC          LEFT                         LEFT        LEVEL
                                                                                BIQUAD
                  ADC                                LEFT        FILTERS                     SIDETONE
         LINE A                           ADCL                                   FILTER
                  LEFT           ADC                 MUX
                                LEFT
         LINE B MIXER
                                                                               RECBQEN                      AVLG[2:0]
          MIC 1                                                                AVBQ[3:0]                     AVL[3:0]
                                                   DIGMICL        MODE        REC_B0[23:0]                             DAI
          MIC 2
                       ADLEN                                      AHPF        REC_B1[23:0]   DSTS[1:0]      AVRG[2:0]
                                  ADCHP                            DHF        REC_B2[23:0]
                                  OSR128           DIGMICR                                                   AVR[3:0]
                                                                              REC_A1[23:0]
        IN1-IN2        ADREN    ADCDITHER                                     REC_A2[23:0]
        IN3-IN4                           DMDR
                                                    DIGITAL                                                RIGHT
        IN5-IN6                                                   RIGHT          RIGHT         RIGHT
                                                      MIC                                                  LEVEL
                  ADC                                            FILTERS        BIQUAD       SIDETONE
         LINE A RIGHT                                RIGHT
                                  ADC     ADCR                                   FILTER
                                                     MUX
         LINE B MIXER            RIGHT
                                                                          RIGHT RECORD PATH
          MIC 1
                                                                                             SIDETONE TO    L/R ST
                           MIXADR[6:0]                                                                      LEVEL
          MIC 2                                                                            PLAYBACK PATH
                                                       FLEXSOUND
                                                    TECHNOLOGY DSP
                                                                                                            DVST[3:0]
Figure 12. Record Path Block Diagram
www.maximintegrated.com                                                                                   Maxim Integrated │ 97


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
   DIGITAL MIC DATA
        IN1-IN2
                                          DMDL                              LEFT RECORD PATH
        IN3-IN4            MIXADL[6:0]
                                                     DIGITAL                        LEFT                       LEFT
        IN5-IN6                                        MIC          LEFT                           LEFT       LEVEL
                                                                                  BIQUAD
                  ADC                                 LEFT        FILTERS                       SIDETONE
         LINE A LEFT                      ADCL                                     FILTER
                                 ADC                  MUX
                                LEFT
         LINE B MIXER
                                                                                 RECBQEN                      AVLG[2:0]
          MIC 1                                                                  AVBQ[3:0]                     AVL[3:0]
                                                    DIGMICL        MODE         REC_B0[23:0]                              DAI
          MIC 2
                       ADLEN      ADCHP                            AHPF         REC_B1[23:0]    DSTS[1:0]     AVRG[2:0]
                                                                    DHF         REC_B2[23:0]                   AVR[3:0]
                                  OSR128            DIGMICR
                                                                                REC_A1[23:0]
        IN1-IN2        ADREN    ADCDITHER                                       REC_A2[23:0]
        IN3-IN4                           DMDR
                                                     DIGITAL                                                  RIGHT
        IN5-IN6                                                    RIGHT           RIGHT          RIGHT
                                                       MIC                                                    LEVEL
                  ADC                                             FILTERS         BIQUAD        SIDETONE
         LINE A                                       RIGHT
                 RIGHT            ADC     ADCR                                     FILTER
                                                      MUX
         LINE B MIXER            RIGHT
                                                                            RIGHT RECORD PATH
          MIC 1
                                                                                                SIDETONE TO   L/R ST
                           MIXADR[6:0]                                                                        LEVEL
          MIC 2                                                                               PLAYBACK PATH
                                                        FLEXSOUND
                                                     TECHNOLOGY DSP
                                                                                                              DVST[3:0]
Figure 13. Record Path ADC Section
Analog-to-Digital Converter (ADC)                                   The DSP timing, however, places some limitations on
The stereo ADC architecture includes two independent                which OSR can be used. For voice applications using
audio paths and provides a flexible, fully configurable             standard (fS = 8kHz) and wideband (fS = 16kHz) sampling
input mixer, two performance and power based con-                   rates, the DSP is typically configured to utilize the voice
figuration options, oversampling rate selection, and an             filters (IIR). If the voice filters are enabled, the OSR is
input dither option (Figure 13). Both ADC channels can              automatically configured to 128 x fS and cannot be manu-
be enabled independently allowing the device to support             ally reprogrammed in order to meet timing requirements.
both stereo and left or right mono configurations (Table 7).        In most standard music/full audio range applications
                                                                    (where fS = 32kHz, 44.1kHz, 48kHz, etc.) the music filters
ADC Functional Configuration
                                                                    (FIR) are used. If the music filters are enabled, the OSR
The ADC can be configured into one of two operating                 can be configured manually, however, the prescaled mas-
modes. One operating mode is optimized for maximum                  ter clock (PCLK) must always be at least twice the fre-
dynamic performance while the other is optimized for                quency of the ADC sampling clock. To ensure this condi-
lower power consumption (Table 5). Input dither can also            tion is met, if fPCLK < 256 x fS, then the OSR must be set
be added to the ADC record path. This feature consumes              to 64 x fS. In addition, if the sampling rate exceeds 48kHz
almost no appreciable power, but raises the RMS level of            (DHF = 1, such as fS = 96kHz), then the OSR must be
the noise floor slightly at the high end of the audio band.         configured to 64 x fS regardless of the ratio. In any other
The ADC supports both an over sampling rate (OSR) of                music filter configuration, OSR = 128 can be selected as
64 and 128 times the configured sampling frequency (fS).            desired for optimal ADC performance.
An OSR of 128 x fS optimizes ADC performance at the
cost of slightly more power consumption than an OSR of
64 x fS.
www.maximintegrated.com                                                                                      Maxim Integrated │ 98


MAX98090                                                                     Ultra-Low Power Stereo Audio Codec
ADC Input Mixer Configuration                                            also features a digital sidetone path that is routed to and
The device allows for each ADC input mixer to be con-                    mixed into the digital playback path (Figure 14).
figured separately to accept any combination of valid                    Record Path Digital Filters
input sources. The ADC mixers can accept input from
                                                                         The record path DSP includes a digital filter stage. One
the microphone PGAs (1 or 2), line input PGAs (A or B),
                                                                         filter, set with the MODE bit (Table 27), offers the choice
or directly differentially from any of the analog input pairs
                                                                         between the IIR voice filters and the FIR music filters. The
(IN1/IN2, IN3/IN4, or IN5/IN6). The ADC input mixers then
                                                                         IIR filters are optimized for standard (fS = 8kHz) and wide-
route the selected sources to the left and right ADC inputs
                                                                         band (fS = 16kHz) voice applications, while the FIR filters
(Tables 25 and Table 26).
                                                                         are optimized for low power operation at higher audio/
Record Path FlexSound DSP                                                music sampling rates. For sampling rates in excess of
The digital record path is part of the FlexSound tech-                   48kHz (fLRCLK > 48kHz), use the FIR music filters and set
nology DSP and comprises multiple sequential DSP                         the DHF bit. The MODE configuration selected applies to
blocks. The first DSP stage contains digital filters includ-             both channels of both the record and playback path DSP.
ing a voice filter (IIR), music filter (FIR), and a highpass             The record path DSP also features a DC-blocking filter.
DC-blocking filter. The next stage is a digital biquad filter            This filter can be used with both the IIR voice and FIR
with a pre-attenuation amplifier, and it is followed by a                music filters, and blocks low frequency (including DC)
digital gain and level control stage. The record path DSP                input signals outside of the lower end of the audio band.
Table 25. Left ADC Mixer Input Configuration Register
             ADDRESS: 0x15
                                                                                     DESCRIPTION
  BIT         NAME            TYPE    POR
   7             —              —      —                                                    —
   6                           R/W      0   Selects microphone input 2 to left ADC mixer.
   5                           R/W      0   Selects microphone input 1 to left ADC mixer.
   4                           R/W      0   Selects line input B to left ADC mixer.
   3       MIXADL[6:0]         R/W      0   Selects line input A to left ADC mixer.
   2                           R/W      0   Selects IN5/IN6 differential input direct to left ADC mixer (WLP only).
   1                           R/W      0   Selects IN3/IN4 differential input direct to left ADC mixer.
   0                           R/W      0   Selects IN1/IN2 differential input direct to left ADC mixer.
Table 26. Right ADC Mixer Input Configuration Register
             ADDRESS: 0x16
                                                                                     DESCRIPTION
  BIT          NAME            TYPE POR
   7             —               —     —                                                    —
   6                            R/W     0   Selects microphone input 2 to right ADC mixer.
   5                            R/W     0   Selects microphone input 1 to right ADC mixer.
   4                            R/W     0   Selects line input B to right ADC mixer.
   3       MIXADR[6:0]          R/W     0   Selects line input A to right ADC mixer.
   2                            R/W     0   Selects IN5/IN6 differential input direct to right ADC mixer (WLP only).
   1                            R/W     0   Selects IN3/IN4 differential input direct to right ADC mixer.
   0                            R/W     0   Selects IN1/IN2 differential input direct to right ADC mixer.
www.maximintegrated.com                                                                                           Maxim Integrated │ 99


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
  DIGITAL MIC DATA
       IN1-IN2
                                            DMDL                              LEFT RECORD PATH
       IN3-IN4            MIXADL[6:0]
                                                         DIGITAL                      LEFT                          LEFT
       IN5-IN6                                             MIC          LEFT                        LEFT           LEVEL
                                                                                    BIQUAD
                 ADC                                      LEFT        FILTERS                    SIDETONE
        LINE A                              ADCL                                     FILTER
                 LEFT            ADC                      MUX
                                LEFT
        LINE B MIXER
                                                                                   RECBQEN                         AVLG[2:0]
         MIC 1                                                                     AVBQ[3:0]                        AVL[3:0]
                                                        DIGMICL        MODE       REC_B0[23:0]                                  DAI
         MIC 2
                      ADLEN       ADCHP                                AHPF       REC_B1[23:0]   DSTS[1:0]         AVRG[2:0]
                                                                        DHF       REC_B2[23:0]                      AVR[3:0]
                                  OSR128                DIGMICR
                                                                                  REC_A1[23:0]
       IN1-IN2        ADREN    ADCDITHER                                          REC_A2[23:0]
       IN3-IN4                              DMDR
                                                         DIGITAL                                                   RIGHT
       IN5-IN6                                                         RIGHT         RIGHT         RIGHT
                                                           MIC                                                     LEVEL
                 ADC                                                  FILTERS       BIQUAD       SIDETONE
        LINE A RIGHT                                      RIGHT
                                  ADC       ADCR                                     FILTER
                                                          MUX
        LINE B MIXER            RIGHT
                                                                              RIGHT RECORD PATH
         MIC 1
                                                                                                 SIDETONE TO       L/R ST
                          MIXADR[6:0]                                                                              LEVEL
         MIC 2                                                                                 PLAYBACK PATH
                                                            FLEXSOUND
                                                         TECHNOLOGY DSP
                                                                                                                   DVST[3:0]
Figure 14. Record Path FlexSound Technology DSP Block
Table 27. DSP Filter Configuration Register
               ADDRESS: 0x26
                                                                                   DESCRIPTION
 BIT            NAME          TYPE      POR
                                             Enables the Codec DSP FIR Music Filters (Default IIR Voice Filters)
                                              0: The codec DSP filters operate in IIR voice mode with stop band frequencies below
                                              the fS/2 Nyquist rate. The voice mode filters are optimized for 8kHz or 16kHz voice
   7            MODE           R/W       1
                                              application use.
                                              1: The codec DSP filters operate in a linear phase FIR audio mode optimized to
                                              maintain stereo imaging and operate at higher fS rates while utilizing lower power.
                                             Enables the Record Path DC-Blocking Filter
   6            AHPF           R/W       0    0: DC-blocking filter disabled.
                                              1: DC-blocking filter enabled.
                                             Enables the Playback Path DC-Blocking Filter
   5            DHPF           R/W       0    0: DC-blocking filter disabled.
                                              1: DC-blocking filter enabled.
                                             Enables the DAC High Sample Rate Mode (LRCLK > 48kHz, FIR Only)
   4             DHF           R/W       0    0: LRCLK is less than 48kHz. 8x FIR interpolation filter used.
                                              1: LRCLK is greater than 48kHz. 4x FIR interpolation filter used.
   3               —            —        —                                                 —
   2               —            —        —                                                 —
   1               —            —        —                                                 —
   0               —            —        —                                                 —
www.maximintegrated.com                                                                                          Maxim Integrated │ 100


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Record Path Biquad Filter                                             greater than 10, or to below a minimum fC that varies by
The record path DSP has a single stage digital biquad fil-            filter type. See the Electrical Characteristics table.
ter with a programmable preattenuation amplifier. The dig-            The digital biquad coefficients are uninitialized at power-
ital biquad filter configuration applies to both the left and         up, and if the filter is going to be used, the coefficients
right record channels. To enable the record path biquad               must be programmed before the device and biquad filter
filter, set RECBQEN high (Table 28). Once enabled, the                are enabled. The transfer function is:
level of preattenuation can be adjusted from 0dB down to
-15dB (denoted AV_BQ, see Table 29). The digital biquad                                    B 0 + B 1 × Z −1 + B 2 × Z −2
                                                                                    H(z) =
filter cannot be set to a gain greater than ±12dB, to a Q                                  A 0 + A 1 × Z −1 + A 2 × Z −2
Table 28. DSP Biquad Filter Enable Register
              ADDRESS: 0x41
                                                                                  DESCRIPTION
   BIT         NAME           TYPE POR
    7            —              —     —                                                 —
    6            —              —     —                                                 —
    5            —              —     —                                                 —
    4            —              —     —                                                 —
                                           Enable Biquad Filter in Record Path
    3        RECBQEN           R/W    0     0: Biquad filter not used.
                                            1: Biquad filter used in record path.
                                           Enable 3-Band EQ in Playback Path (Bands 4–7 Are Not Used)
    2       EQ3BANDEN          R/W    0     0: 3-band EQ disabled.
                                            1: 3-band EQ enabled. Only valid if EQ7BANDEN = 0 and EQ5BANDEN = 0.
                                           Enable 5-Band EQ in Playback Path (Bands 6 and 7 Are Not Used)
    1       EQ5BANDEN          R/W    0     0: 5-band EQ disabled.
                                            1: 5-band EQ enabled. Only valid if EQ7BANDEN = 0
                                           Enable 7-Band EQ in Playback Path
    0       EQ7BANDEN          R/W    0     0 : 7-band EQ disabled.
                                            1 : 7-band EQ enabled. This makes EQ5BANDEN and EQ3BANDEN redundant.
Table 29. Record Path Biquad Digital Preamplifier Level Configuration Register
              ADDRESS: 0x19
                                                                                  DESCRIPTION
   BIT        NAME           TYPE   POR
    7            —             —      —                                                 —
    6            —             —      —                                                 —
    5            —             —      —                                                 —
    4            —             —      —                                                 —
    3                                 0    ADC Biquad Digital Preamplifier Gain Configuration
    2                                 0     0x0: +0dB               0x4: -4dB              0x8: -8dB              0xC: -12dB
             AVBQ[3:0]        R/W           0x1: -1dB               0x5: -5dB              0x9: -9dB              0xD: -13dB
    1                                 0
                                            0x2: -2dB               0x6: -6dB              0xA: -10dB             0xE: -14dB
    0                                 0     0x3: -3dB               0x7: -7dB              0xB: -11dB             0xF: -15dB
www.maximintegrated.com                                                                                        Maxim Integrated │ 101


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
The digital biquad filter has five user-programmable                Record Path Sidetone
coefficients (B0, B1, B2, A1, and A2), and each individual          The record path sidetone is available to allow a low-level
coefficient is 3 bytes (24 bits) long (A0 is fixed at 1). They      copy of the recorded audio signal to be mixed back into
occupy 15 consecutive registers (Table 30) and each set             the playback audio signal. When enabled, the sidetone
of three registers (per coefficient) must be programmed             can route the left channel, right channel, or both divided
consecutively for the settings to take effect. The coeffi-          by two and then summed back into the playback path
cients are stored using a two’s complement format where             DSP. The sidetone digital gain can be programmed from
the first 4 bits are the integer portion and the last 20 bits       -0.5dB to -60.5dB (Table 31). The digital sidetone is com-
are the decimal portion (which results in an approximate            monly used in telephony to allow the speaker to hear their
+8 to -8 range for each coefficient).                               own voice to provide a more natural user experience.
Table 30. Record Path Biquad Filter Coefficients
  ADDRESS RANGE                          NAME                      TYPE                     COEFFICIENT SEGMENT
 0xAF     0xB0   0xB1     RECORD BIQUAD COEFFICIENT B0              R/W      REC_B0[23:16]        REC_B0[15:8]     REC_B0[7:0]
 0xB2     0xB3   0xB4     RECORD BIQUAD COEFFICIENT B1              R/W      REC_B1[23:16]        REC_B1[15:8]     REC_B1[7:0]
 0xB5     0xB6   0xB7     RECORD BIQUAD COEFFICIENT B2              R/W      REC_B2[23:16]        REC_B2[15:8]     REC_B2[7:0]
 0xB8     0xB9   0xBA     RECORD BIQUAD COEFFICIENT A1              R/W      REC_A1[23:16]        REC_A1[15:8]     REC_A1[7:0]
 0xBB 0xBC 0xBD           RECORD BIQUAD COEFFICIENT A2              R/W      REC_A2[23:16]        REC_A2[15:8]     REC_A2[7:0]
Table 31. Record Path Sidetone Configuration Register
             ADDRESS: 0x1A
                                                                               DESCRIPTION
  BIT         NAME           TYPE    POR
   7                                   0   Sidetone Enable and Digital Source Configuration
            DSTS[1:0]                        00: No sidetone selected         10: Right channel
   6                                   0     01: Left channel                 11: Left + right channel
   5             —             —      —                                                —
   4                                   0   Sidetone Digital Gain Configuration
   3                                   0     0x00: OFF           0x08: -14.5dB          0x10: -30.5dB       0x18: -46.5dB
                                             0x01: -0.5dB        0x09: -16.5dB          0x11: -32.5dB       0x19: -48.5dB
                                             0x02: -2.5dB        0x0A: -18.5dB          0x12: -34.5dB       0x1A: -50.5dB
   2        DVST[4:0]         R/W      0
                                             0x03: -4.5dB        0x0B: -20.5dB          0x13: -36.5dB       0x1B: -52.5dB
                                             0x04: -6.5dB        0x0C: -22.5dB          0x14: -38.5dB       0x1C: -54.5dB
   1                                   0
                                             0x05: -8.5dB        0x0D: -24.5dB          0x15: -40.5dB       0x1D: -56.5dB
                                             0x06: -10.5dB       0x0E: -26.5dB          0x16: -42.5dB       0x1E: -58.5dB
   0                                   0     0x07: -12.5dB       0x0F: -28.5dB          0x17: -44.5dB       0x1F: -60.5dB
www.maximintegrated.com                                                                                    Maxim Integrated │ 102


MAX98090                                                         Ultra-Low Power Stereo Audio Codec
Record Path Digital Gain and Level Control                     coarse digital gain adjustment can be set from 0dB to
The stereo record path DSP includes a digital gain             +42dB in 6dB increments, and the fine adjust level control
and level control stage. The settings can be configured        gain can be set from -12dB to +3dB in 1dB increments
independently by channel, and are primarily used when          (Tables 32 and 33).
adjusting the record level for digital microphones. The
Table 32. Left Record Path Digital Gain Configuration Register
            ADDRESS: 0x17
                                                                          DESCRIPTION
  BIT        NAME         TYPE    POR
   7           —            —      —                                            —
   6                                0   Left Record Path Digital Coarse Gain Configuration
   5       AVLG[2:0]       R/W      0    000 : 0dB         010 : +12dB         100 : +24dB       110 : +36dB
   4                                0    001 : +6dB        011 : +18dB         101 : +30dB       111 : +42dB
   3                                0   Left Record Path Digital Fine Adjust Gain Configuration
   2                                0    0x0: +3dB         0x4: -1dB           0x8: -5dB         0xC: -9dB
            AVL[3:0]       R/W           0x1: +2dB         0x5: -2dB           0x9: -6dB         0xD: -10dB
   1                                1    0x2: +1dB         0x6: -3dB           0xA: -7dB         0xE: -11dB
   0                                1    0x3: +0dB         0x7: -4dB           0xB: -8dB         0xF: -12dB
Table 33. Right Record Path Digital Gain Configuration Register
            ADDRESS: 0x18
                                                                          DESCRIPTION
  BIT        NAME         TYPE    POR
   7           —            —      —                                            —
   6                                0   Right Record Path Digital Coarse Gain Configuration
   5       AVRG[2:0]       R/W      0    000 : 0dB         010 : +12dB         100 : +24dB       110 : +36dB
   4                                0    001 : +6dB        011 : +18dB         101 : +30dB       111 : +42dB
   3                                0   Right Record Path Digital Fine Adjust Gain Configuration
   2                                0    0x0: +3dB         0x4: -1dB           0x8: -5dB         0xC: -9dB
            AVR[3:0]       R/W           0x1: +2dB         0x5: -2dB           0x9: -6dB         0xD: -10dB
   1                                1    0x2: +1dB         0x6: -3dB           0xA: -7dB         0xE: -11dB
   0                                1    0x3: +0dB         0x7: -4dB           0xB: -8dB         0xF: -12dB
www.maximintegrated.com                                                                            Maxim Integrated │ 103


MAX98090                                                                        Ultra-Low Power Stereo Audio Codec
Digital Audio Interface (DAI) Configuration                                  the device is configured to slave mode, the internal PLL
The digital audio interface (DAI) contains two primary sec-                  quickly locks onto the external LRCLK frequency.
tions (Figure 15). The first is the clock control and configu-               The second section is the digital audio data path control
ration section. The device supports both master and slave                    and signal routing. This section supports a variety of ste-
mode operation, can accept a master clock of either 256                      reo data path configurations including serial audio input
x fS or ranging from 10MHz to 60MHz, and can be config-                      and output, audio loop through from the record to play-
ured for any digital audio sampling rate (fS) from 8kHz to                   back paths, and audio loop back from the serial data input
96kHz. When the device is configured as the digital audio                    to the serial data output. The serial data interface also
master, a variety of operating modes are available. These                    supports several standard digital audio formats (PCM)
include a simple quick configuration mode, exact integer                     including I2S, left justified, right justified, and time division
sampling mode, and a manual clock divider mode. When                         multiplexed (TDM).
                     MCLK                     LRCLK                    BCLK                    SDOUT                                    SDIN
                                                                           MAX98090
                                                                                        DATA OUTPUT         SDOEN
                                                                                                                       LTEN
                                                                                          ENABLE            HIZOFF
                                                       MAS
                                                                                                                          1             0
                                                                                                           TDM, FSW             LOOP
                                                       BCI           BIT                                 SLOTDLY[3:0]         THROUGH
               PRESCALED                  FRAME
                                                                   CLOCK                                  SLOTL/R[1:0]           MUX
                 CLOCK                    CLOCK         WCI
              GENERATION
            PCLK                                    USE_MI                              OUTPUT SHIFT                         INPUT SHIFT
                             PSCLK[1:0]              NI[14:0]                            REGISTER           RJ, DLY           REGISTER
                                                     MI[14:0]                                               WS[1:0]
                                                                                            LOOP                             DATA INPUT
                                                                                                        LBEN SDIEN
                                        CLOCK GENERATION AND DISTRIBUTION                BACK MUX                              ENABLE
                                                                                          0      1
                                         FREQ[3:0]               BSEL[2:0]
                                                                                                              DMONO           PLAYBACK
                       DAI: CLOCK CONTROL                                                                                   INPUT MIXER
                       AND CONFIGURATION                                                             DAI: DATA PATH
                     DIGITAL MIC CLOCK                      RECORD PATH       L/R AUDIO                PLAYBACK PATH                  L/R AUDIO
                     CONFIGURATION                          CLOCKS              OUTPUT                 CLOCKS                         INPUT
                                                                     RECORD PATH DSP                              PLAYBACK PATH DSP
Figure 15. Simplified Digital Audio Interface Block Diagram
www.maximintegrated.com                                                                                                        Maxim Integrated │ 104


MAX98090                                                                         Ultra-Low Power Stereo Audio Codec
DAI Clock Control and Configuration                                           The device digital audio interface supports both master
The clock control and configuration section is one of the                     and slave mode operation (Table 35). To properly time
two major blocks in the digital audio interface (Figure 16).                  the serial data input (SDIN) and output (SDOUT), the
This section is responsible for accepting and scaling the                     DAI requires both a left-right frame clock (LRCLK) and a
device master clock, for internal digital clock generation,                   bit clock (BCLK). In master mode, the device uses one
and for digital audio interface data clocking and timing.                     of several modes to generate both LRCLK and BCLK
                                                                              from the internal prescaled master clock (PCLK). In slave
The device can accept an external master clock (MCLK)                         mode however, both LRCLK and BCLK must be exter-
with a frequency ranging from 10MHz to 60MHz. However,                        nally provided.
for digital operation, signal processing, and data conver-
sion the device requires an internal clock between 10MHz                      Master Mode Clock Configuration
and 20MHz. To generate an internal master clock within                        When the device is configured as the digital audio mas-
this frequency range, an internal clock divider is used                       ter, the frame clock (LRCLK) and bit clock (BCLK) are
(Table 34). The internal clock divider can be set to fre-                     configured as outputs and the device uses the internal
quency divide MCLK by a factor 1, 2, or 4 to create the                       prescaled master clock (PCLK) to create them.
internal prescaled master clock (PCLK). PCLK is then
                                                                              If no clock outputs or unexpected clock outputs are mea-
used, either directly or through additional divider/multiplier
                                                                              sured on LRCLK and/or BCLK, verify that the device is not
blocks, to clock all internal digital sections.
                                                                              in shutdown and that all three clocks are configured cor-
The digital audio interface signal paths support any sam-                     rectly. If the master clock prescale value is not selected
pling rate from 8kHz to 96kHz. The device has only a single                   (PSCLK[1:0]), the clock ratio is not fully configured (oper-
DAI, and as a result both the record (output) and playback                    ating mode), or if the bit clock rate is not set (BSEL[2:0])
(input) digital audio paths use the same sampling rate.                       then no valid clock output is present. In addition to this,
                      MCLK                     LRCLK                    BCLK                    SDOUT                                  SDIN
                                                                            MAX98090
                                                                                         DATA OUTPUT       SDOEN
                                                                                                                      LTEN
                                                                                           ENABLE          HIZOFF
                                                        MAS
                                                                                                                         1             0
                                                                                                          TDM, FSW             LOOP
                                                        BCI           BIT                                SLOTDLY[3:0]        THROUGH
                PRESCALED                  FRAME
                                                                    CLOCK                                SLOTL/R[1:0]           MUX
                  CLOCK                    CLOCK         WCI
               GENERATION
             PCLK                                    USE_MI                              OUTPUT SHIFT                       INPUT SHIFT
                              PSCLK[1:0]              NI[14:0]                            REGISTER          RJ, DLY          REGISTER
                                                      MI[14:0]                                              WS[1:0]
                                                                                             LOOP                           DATA INPUT
                                                                                                        LBEN SDIEN
                                         CLOCK GENERATION AND DISTRIBUTION                BACK MUX                            ENABLE
                                                                                           0      1
                                          FREQ[3:0]               BSEL[2:0]
                                                                                                             DMONO           PLAYBACK
                        DAI: CLOCK CONTROL                                                                                 INPUT MIXER
                         AND CONFIGURATION                                                          DAI: DATA PATH
                     DIGITAL MIC CLOCK                       RECORD PATH       L/R AUDIO                 PLAYBACK PATH               L/R AUDIO
                     CONFIGURATION                           CLOCKS              OUTPUT                  CLOCKS                      INPUT
                                                                      RECORD PATH DSP                             PLAYBACK PATH DSP
Figure 16. DAI Clock Control and Configuration Section
www.maximintegrated.com                                                                                                       Maxim Integrated │ 105


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
Table 34. System Master Clock (MCLK) Prescaler Configuration Register
            ADDRESS: 0x1B
                                                                              DESCRIPTION
  BIT         NAME          TYPE   POR
   7            —             —      —                                               —
   6            —             —      —                                               —
                                         Master Clock (MCLK) Prescaler Configuration
   5                                 0
                                          00: Internal master clock generation disabled
           PSCLK[1:0]        R/W          01: fPCLK = fMCLK/1, 10MHz ≤ fMCLK ≤ 20MHz
                                          10: fPCLK = fMCLK/2, 20MHz < fMCLK ≤ 40MHz
   4                                 0
                                          11: fPCLK = fMCLK/4, 40MHz < fMCLK ≤ 60MHz
   3            —             —      —                                               —
   2            —             —      —                                               —
   1            —             —      —                                               —
   0            —             —      —                                               —
Table 35. Master Mode Clock Configuration Register
             ADDRESS: 0x21
                                                                              DESCRIPTION
  BIT         NAME          TYPE   POR
                                         Master Mode Enable
                                          0: Slave mode
   7           MAS           R/W     0     (LRCLK/BCLK are inputs and accept external clock sources).
                                          1: Master mode
                                           (LRCLK/BCLK are outputs and timing signals are generated internally).
   6            —             —      —                                                —
   5            —             —      —                                                —
   4            —             —      —                                                —
   3            —             —      —                                                —
   2                                 0   Bit Clock (BCLK) Configuration (Master Mode/Slave Right Justified Only)
                                          000: Bit clock disabled              100: fBCLK = fPCLK/2
   1        BSEL[2:0]        R/W     0    001: fBCLK = 32 x fS                 101: fBCLK = fPCLK/4
                                          010: fBCLK = 48 x fS                 110: fBCLK = fPCLK/8
   0                                 0    011: fBCLK = 64 x fS                 111: fBCLK = fPCLK/16
the device does not generate any clocks unless at least                                                   NI
                                                                                   f LRCLK
                                                                                      = f PCLK ×
one valid digital audio data path is enabled (ADC record,                                             MI × OSR
DAC playback, digital microphone input, etc.).                     This expression illustrates that in master mode, the rela-
In master mode, the device uses two integer values (NI             tionship between LRCLK and PCLK frequency (as well as
and MI) as a multiplier and divider (respectively) to scale        BCLK) is based on an integer ratio. As a result, any cycle
PCLK into LRCLK. BCLK is then created either from a                to cycle jitter or absolute frequency variation in MCLK
PCLK divider or from an LRCLK multiplier (Table 35).               is translated first into PCLK and then into LRCLK (and
Based on the oversampling rate selected (OSR, see the              BCLK) based on the selected clock ratios.
ADC Functional Configuration section), and the config-             In master mode, the device provides three clock operating
ured NI/MI ratio, the output LRCLK frequency is calcu-             modes. In reality all three modes operate in exactly the
lated with the following relationship:                             same manner (using an internal MI and NI ratio to create
www.maximintegrated.com                                                                                  Maxim Integrated │ 106


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
LRCLK). However, the first two modes will internally set              MI is used to create LRCLK. As a result, when Quick
NI and MI automatically and are provided as configura-                Configuration Mode is enabled the exact integer mode
tion shortcuts for commonly used PCLK to LRCLK ratios.                settings (Table 39), and the manual ratio mode settings
The three operating modes are detailed below, and are                 (Tables 40 to 43) are preserved but ignored. If this mode
presented in order of activation priority.                            is later disabled, the preserved settings of any active
                                                                      lower precedence modes reassert.
Quick Configuration Mode
In quick configuration mode, the master clock frequency               To ensure that the DSP is optimally configured and that all
(Table 36) and sample rate (Table 37) are selected from               timing requirements are met, when using quick configura-
a list of commonly used frequencies. Only a single bit in             tion mode the master clock divider (PSCLK, Table 34),
each quick setup register can be enabled at any given                 digital filters (MODE, Table 27), and ADC oversampling
time. Quick configuration mode is activated anytime                   rate (OSR128, Table 5) are automatically configured.
that both a master clock frequency quick setup bit and                While in quick configuration mode these registers are
a sample rate quick setup bit are concurrently enabled.               fixed and cannot be manually changed. In this mode,
Once enabled, this mode supersedes both of the other                  when the sample rate is set to 8kHz or 16kHz, voice filters
operating modes and an internal preset ratio for NI and               (IIR) are automatically selected and the ADC oversam-
Table 36. Master Clock Quick Setup Register
             ADDRESS: 0x04
                                                                                   DESCRIPTION
  BIT          NAME        TYPE   POR
   7            26M         R/W     0      Setup device for operation with a 26MHz master clock (MCLK).
   6          19P2M         R/W     0      Setup device for operation with a 19.2MHz master clock (MCLK).
   5            13M         R/W     0      Setup device for operation with a 13MHz master clock (MCLK).
   4         12P288M        R/W     0      Setup device for operation with a 12.288MHz master clock (MCLK).
   3            12M         R/W     0      Setup device for operation with a 12MHz master clock (MCLK).
   2        11P2896M        R/W     0      Setup device for operation with a 11.2896MHz master clock (MCLK).
   1             —           —      —                                                   —
   0           256FS        R/W     0      Setup device for operation with a 256 x fS MHz master clock (MCLK)
Table 37. Sample Rate Quick Setup Register
             ADDRESS: 0x05
                                                                                   DESCRIPTION
  BIT          NAME        TYPE   POR
   7             —           —      —                                                   —
   6             —           —      —                                                   —
   5          SR_96K        R/W     0      Setup clocks and filters for a 96kHz sample rate.
   4          SR_32K        R/W     0      Setup clocks and filters for a 32kHz sample fate.
   3          SR_48K        R/W     0      Setup clocks and filters for a 48kHz sample rate.
   2         SR_44K1        R/W     0      Setup clocks and filters for a 44.1kHz sample rate.
   1          SR_16K        R/W     0      Setup clocks and filters for a 16kHz sample rate.
   0          SR_8K         R/W     0      Setup clocks and filters for an 8kHz sample rate.
www.maximintegrated.com                                                                                    Maxim Integrated │ 107


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
pling rate is fixed to 128. For any other selected sample             nations (Table 39). There are four different available mas-
rate, music filters (FIR) are selected and the ADC overs-             ter clock frequencies (12MHz/13MHz/16MHz/19.2MHz),
ampling rate is configured to insure that the pre-scaled              each of which can be selected with a sampling rate (fS)
master clock frequency is greater than or equal to 256 x              of either 8kHz or 16kHz. Once a configuration is selected,
fS. If fPCLK ≥ 256 x fS then the oversampling rate (OSR) is           the NI and MI bits are internally programmed to the cor-
set to 128, otherwise OSR is set to 64. Table 38 provides             rect ratio. These combinations are primarily intended for
a complete lookup table for the resulting quick configura-            standard or wideband voice applications.
tion mode settings.                                                   When FREQ[3:0] register is set to 0 (FREQ[3:0] = 0000),
Exact Integer Mode                                                    exact integer mode is disabled. When the MSB is set to 1
In exact integer mode, the master clock frequency and sam-            (FREQ[3:0] = 1XXX) exact integer mode is enabled and
ple rate can be set to one of eight preprogrammed combi-              the remaining bits determine which setting is selected
Table 38. Quick Configuration Mode Lookup
       SELECTED MASTER CLOCK                                          SELECTED SAMPLE RATE (kHz)
              FREQUENCY                      8                16              32             44.1            48             96
      fMCLK     DIVIDER      fPCLK         VOICE FILTER (IIR)                                MUSIC FILTER (FIR)
     26MHz         2         13Mhz       OSR = 128        OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
    19.2MHz        1        19.2Mhz      OSR = 128        OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
     13MHz         1         13Mhz       OSR = 128        OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
   12.288MHz       1       12.288Mhz     OSR = 128        OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
     12MHz         1         12MHz       OSR = 128        OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
  11.2896MHz       1      11.2896MHz     OSR = 128        OSR = 128       OSR = 128       OSR = 128        OSR = 64      OSR = 64
                   1        256 x fS     OSR = 128        OSR = 128       OSR = 128       OSR = 128        OSR = 64         —
    256 x fS
                   2        128 x fS         —                —               —               —              —           OSR = 64
Table 39. Clock Mode Configuration Register
              ADDRESS: 0x1C
                                                                                  DESCRIPTION
  BIT          NAME          TYPE    POR
    7                                 0   Exact Integer Sampling Frequency (LRCLK) Configuration
                                           Configure the DAI for specific PCLK to LRCLK ratios for fS = 8kHz/16kHz operation
                                           (voice modes). Any setting other than 0x0 overrides manual ratio mode settings.
    6                                 0    0000: Disabled                1XXX: Enabled           Other combinations are reserved
             FREQ[3:0]        R/W          When enabled, the following PCLK to LRCLK ratios are available:
    5                                 0    1000: fPCLK = 12MHz, fLRCLK = 8kHz               1001: fPCLK = 12MHz, fLRCLK = 16kHz
                                           1010: fPCLK = 13MHz, fLRCLK = 8kHz               1011: fPCLK = 13MHz, fLRCLK = 16kHz
                                           1100: fPCLK = 16MHz, fLRCLK = 8kHz               1101: fPCLK = 16MHz, fLRCLK = 16kHz
    4                                 0    1110: fPCLK = 19.2MHz, fLRCLK = 8kHz             1111: fPCLK = 19.2MHz, fLRCLK = 16kHz
    3            —             —      —                                                 —
    2            —             —      —                                                 —
    1            —             —      —                                                 —
                                          Use MI[15:0] in Addition to NI[14:0] to set an Accurate Frequency Ratio
    0         USE_MI          R/W     0    0 : MI = 65536; NI = (fLRCLK / fPCLK) x 65536 x 96
                                           1 : MI is set to the value of MI[15:0] (Table 42 and Table 43).
www.maximintegrated.com                                                                                       Maxim Integrated │ 108


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
(Table 39). If exact integer mode is enabled, the manual           When the device is configured as a digital audio slave, the
ratio mode settings (Tables 40 to 43) are preserved but            frame clock (LRCLK) and bit clock (BCLK) are configured
ignored. However, if this mode is later disabled, the              as external inputs. These inputs accept an externally
manual ratio mode settings reassert.                               generated frame and bit clock, and then an internal PLL
                                                                   determines the correct PCLK to LRCLK frequency ratio.
Manual Ratio Mode
                                                                   Within a few LRCLK cycles, the internal PLL is locked
In manual ratio mode, the NI and MI registers (Table 40            onto the clock ratio and then automatically programs the
to Table 43) are directly programmed to set up the clock           internal divider ratio appropriately. The external clocks
ratio. Manual ratio mode is only active when the quick             must not violate the minimum PCLK to LRCLK frequency
Configuration and Exact Integer Modes are disabled. In             ratio. See the Input Clock Characteristics table. If the
manual ratio mode, if USE_MI (Table 39) is set to 0, MI            minimum clock ratio is not satisfied, the FlexSound DSP
is fixed at its maximum value of 0xFFFF (65536) and                will not have enough clock cycles to operate correctly. As
the programmed value has no effect. For optimal perfor-            a result, the audio quality and specifications are severely
mance (especially with any noninteger PCLK to LRCLK                compromised.
ratio), set USE_MI to 1 and calculate both MI and NI.
                                                                   In slave mode, the clock generation register settings have
To calculate the appropriate NI and MI value, use the fol-         no effect (quick configuration, exact integer, and manual
lowing method:                                                     ratio mode settings have no effect). The correct MCLK to
1) Choose the over sampling rate (OSR). If fPCLK < 256             PCLK scaling factor, mode (voice/audio), and oversam-
    x fLRCLK, then OSR must be set to 64. Otherwise,               pling rate still need to be programmed. However, all other
    OSR can be set to either 128 or 64. For optimal per-           clock configuration settings are for master mode only. The
    formance, choose OSR = 128 when possible.                      only exception to this is when the digital audio format is
2) Calculate the oversampling frequency using the                  set to slave mode operation with right justified data. In
    LRCLK frequency, and the selected oversampling rate:           this configuration, the BCLK setting (BSEL[2:0], Table 35)
                                                                   is used to determine the number of leading padding bits
                   fOSR = fLRCLK x OSR.                            (BCLK cycles) to insert (skip) before the data transmis-
3) Calculate MI using the prescaled master clock fre-              sion/receiving in each frame.
    quency, and the greatest common denominator (GCD)
    of the prescaled master clock frequency and the cal-
    culated oversampling frequency:
              MI = fPCLK /GCD(fPCLK, fOSR)
4) Calculate NI using the calculated oversampling fre-
    quency and MI value:
                    NI = fOSR x MI/fPCLK
Slave Mode Clock Configuration
Table 40. Manual Clock Ratio Configuration Register (NI MSB)
             ADDRESS: 0x1D
                                                                              DESCRIPTION
  BIT         NAME          TYPE   POR
   7            —             —     —                                                 —
   6                                 0
   5                                 0
   4                                 0
                                         Upper half of the PLL N value used in master mode clock generation
   3         NI[14:8]        R/W     0
                                         to calculate the frequency ratio (manual ratio master mode).
   2                                 0
   1                                 0
   0                                 0
www.maximintegrated.com                                                                                  Maxim Integrated │ 109


MAX98090                                                      Ultra-Low Power Stereo Audio Codec
Table 41. Manual Clock Ratio Configuration Register (NI LSB)
           ADDRESS: 0x1E
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Lower half of the PLL N value used in master mode clock generation
            NI[7:0]      R/W
  3                           0  to calculate the frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
Table 42. Manual Clock Ratio Configuration Register (MI MSB)
           ADDRESS: 0x1F
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Upper half of the PLL M value used in master mode clock generation to
           MI[15:8]      R/W
  3                           0  calculate an accurate noninteger frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
Table 43. Manual Clock Ratio Configuration Register (MI MSB)
           ADDRESS: 0x20
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Lower half of the PLL M value used in master mode clock generation to
            MI[7:0]      R/W
  3                           0  calculate an accurate noninteger frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
www.maximintegrated.com                                                                            Maxim Integrated │ 110


MAX98090                                                                         Ultra-Low Power Stereo Audio Codec
DAI Digital Audio Data Path Control                                           for all valid data path combinations are detailed in
and Routing                                                                   Table 44 and are illustrated in Figure 18.
The digital audio data path section supports a variety of                     SDOUT can be configured to go to either a high imped-
stereo data path configurations and formats (Figure 17).                      ance state or to drive a valid logic level (LSB) after all
The standard configuration is to route either the record                      data bits have been transmitted. When high impedance
path digital audio output to the serial data output (record                   mode is enabled, SDOUT goes to a high-impedance state
path to SDOUT) or to route the serial data input to the dig-                  quickly after the BCLK edge for the LSB occurs to avoid
ital audio playback path (SDIN to playback path). These                       potential bus contention. SDIN/loopthrough audio data
two primary configurations can be used either individually                    can be routed through the playback path input mixer as
or together as needed by the application.                                     either stereo audio data, or as a mono representation of
                                                                              the input audio data. By default, playback mono mode is
The DAI data path also supports two loop configurations.                      disabled and the left/right input audio data is routed to
Loop back mode takes the digital audio serial data input                      the left/right playback channels respectively. If playback
and routes it back to the serial data output (SDIN to                         mono mode is enabled, the input audio data channels are
SDOUT). Loop through mode allows the record path audio                        reduced in amplitude by 6dB, mixed together (summed),
data output to be looped through to the digital audio play-                   and then routed to both the left and right record path
back path (and can be combined with the record path to                        channels. The full list of DAI data path configuration con-
SDOUT configuration if desired). The configuration settings                   trol bits are detailed in Table 45.
                     MCLK                      LRCLK                    BCLK                    SDOUT                                  SDIN
                                                                             MAX98090
                                                                                         DATA OUTPUT       SDOEN
                                                                                                                      LTEN
                                                                                           ENABLE          HIZOFF
                                                        MAS
                                                                                                                         1             0
                                                                                                          TDM, FSW             LOOP
                                                        BCI           BIT                                SLOTDLY[3:0]        THROUGH
               PRESCALED                   FRAME
                                                                    CLOCK                                SLOTL/R[1:0]           MUX
                 CLOCK                     CLOCK         WCI
              GENERATION
            PCLK                                     USE_MI                              OUTPUT SHIFT                       INPUT SHIFT
                              PSCLK[1:0]              NI[14:0]                            REGISTER         RJ, DLY           REGISTER
                                                      MI[14:0]                                             WS[1:0]
                                                                                             LOOP                           DATA INPUT
                                                                                                        LBEN SDIEN
                                         CLOCK GENERATION AND DISTRIBUTION                BACK MUX                            ENABLE
                                                                                           0      1
                                          FREQ[3:0]               BSEL[2:0]
                                                                                                             DMONO           PLAYBACK
                     DAI: CLOCK CONTROL                                                                                    INPUT MIXER
                     AND CONFIGURATION                                                              DAI: DATA PATH
                    DIGITAL MIC CLOCK                        RECORD PATH       L/R AUDIO                PLAYBACK PATH                L/R AUDIO
                    CONFIGURATION                            CLOCKS              OUTPUT                 CLOCKS                       INPUT
                                                                      RECORD PATH DSP                            PLAYBACK PATH DSP
Figure 17. DAI Digital Data Path Configuration
www.maximintegrated.com                                                                                                        Maxim Integrated │ 111


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
                SDOUT               SDIN                         SDOUT           SDIN                          SDOUT             SDIN
                            PATH 1:                                     PATH 2:                                          PATH 3:
                           RECORD                                      PLAYBACK                                       FULL DUPLEX
         DATA OUTPUT             LOOP                                         LOOP                                            LOOP
                              THROUGH                     DATA OUTPUT      THROUGH                    DATA OUTPUT          THROUGH
           ENABLE
                                  MUX                        ENABLE            MUX                       ENABLE                MUX
         OUTPUT SHIFT         INPUT SHIFT                 OUTPUT SHIFT     INPUT SHIFT                OUTPUT SHIFT         INPUT SHIFT
          REGISTER             REGISTER                    REGISTER         REGISTER                   REGISTER             REGISTER
            LOOP                                              LOOP                                         LOOP
                               DATA INPUT                                   DATA INPUT                                      DATA INPUT
            BACK                                              BACK                                         BACK
                                 ENABLE                                       ENABLE                                          ENABLE
             MUX                                              MUX                                           MUX
                               PLAYBACK                                     PLAYBACK                                        PLAYBACK
                             INPUT MIXER                                  INPUT MIXER                                     INPUT MIXER
     L/R AUDIO                  L/R AUDIO             L/R AUDIO              L/R AUDIO            L/R AUDIO                  L/R AUDIO
     (RECORD)                 (PLAYBACK)              (RECORD)             (PLAYBACK)             (RECORD)                 (PLAYBACK)
                                     SDOUT              SDIN                                SDOUT              SDIN
                                                                                                         PATH 5:
                                             PATH 4:
                                                                                                        RECORD/
                                           PLAYBACK/
                                                                                                          LOOP
                                           LOOP BACK
                                                                                                       THROUGH
                            DATA OUTPUT             LOOP                             DATA OUTPUT            LOOP
                               ENABLE            THROUGH                               ENABLE            THROUGH
                                                     MUX                                                     MUX
                            OUTPUT SHIFT         INPUT SHIFT                         OUTPUT SHIFT        INPUT SHIFT
                             REGISTER             REGISTER                            REGISTER            REGISTER
                                 LOOP                                                   LOOP
                                                  DATA INPUT                                              DATA INPUT
                                 BACK                                                   BACK
                                                    ENABLE                                                  ENABLE
                                  MUX                                                    MUX
                                                  PLAYBACK                                                PLAYBACK
                                                INPUT MIXER                                             INPUT MIXER
                        L/R AUDIO                  L/R AUDIO                     L/R AUDIO                 L/R AUDIO
                        (RECORD)                 (PLAYBACK)                      (RECORD)                (PLAYBACK)
Figure 18. Digital Audio Interface (DAI) Data Path Configurations
www.maximintegrated.com                                                                                              Maxim Integrated │ 112


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Table 44. Digital Audio Interface (DAI) Data Path Configurations
                                                 DAI DATA PATH CONFIGURATION
  PATH                              DESCRIPTION                                 SDOEN          SDIEN           LTEN          LBEN
    —       DAI data path disabled                                                  0              0              0              0
     1      Record path to serial data output                                       1              0              0              0
     2      Serial data input to playback path                                      0              1              0              0
            Record path to serial data output/serial data input to
     3                                                                              1              1              0              0
            playback path
     4      Serial data input loop back to serial data output                       1              1              0              1
            Record path to serial data output
     5                                                                              1              1              1              0
            and loop through to playback path
    —       Invalid configurations                                                            All other combinations
Table 45. Digital Audio Interface (DAI) Input/Output Configuration Register
              ADDRESS: 0x25
                                                                                      DESCRIPTION
 BIT          NAME              TYPE     POR
  7             —                 —       —                                                —
  6             —                 —       —                                                —
                                                  Enables Data Loop Through (Playback Path to Record Path)
  5            LTEN              R/W       0        1: ADC to DAC loop-through enabled.
                                                    0: ADC to DAC loop-through disabled.
                                                  Enables Data Loop Back (SDIN to SDOUT)
  4           LBEN               R/W       0        1: DAI SDIN used as SDOUT data source.
                                                    0: ADC used as SDOUT data source.
                                                  Enables Playback Mono Mode (SDIN L/2 + R/2 to Playback Path)
                                                    1: The left- and right-channel SDIN audio input data are reduced in gain by 6dB,
  3          DMONO               R/W       0        mixed together (summed), and routed to both the left and right record paths.
                                                    0: The left- and right-channel SDIN audio input data are routed to the left and
                                                    right record path channels.
                                                  Disables Hi-Z Mode for SDOUT
                                                    1: SDOUT drives a valid logic level after all data bits have been transmitted.
  2          HIZOFF              R/W       0
                                                    0: SDOUT goes to a high-impedance state after all data bits have been
                                                    transmitted, allowing the SDOUT bus to be shared by other devices.
                                                  Enables the Serial Data Output (SDOUT)
  1          SDOEN               R/W       0        1: Serial data output enabled.
                                                    0: Serial data output disabled.
                                                  Enables the Serial Data Input (SDIN/Loop-Through)
  0           SDIEN              R/W       0         1: Serial data input enabled.
                                                     0: Serial data input disabled.
www.maximintegrated.com                                                                                          Maxim Integrated │ 113


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
DAI Digital Audio Data Format                                           If TDM mode is disabled, then the data format is deter-
The serial data interface supports multiple pulse code mod-             mined by the configuration selected by the control bits
ulated (PCM) digital audio formats including I2S, left justi-           detailed in Table 46. These settings can be used to
fied, right justified, and time division multiplexed (TDM). If          change the DAI data format to several supported stan-
TDM mode is enabled, it takes precedence and the DAI                    dards such as I2S (Figure 19), left justified (Figure 20)
data is in TDM format. In this case, all non-TDM digital                or right justified (Figure 21). In addition, the configuration
audio data format configuration registers have no effect.               settings can be enabled or disabled independently, allow-
                                                                        ing the device to support many nonstandard data format
                                                                        variations.
Table 46. Digital Audio Interface (DAI) Format Configuration Register
                 ADDRESS: 0x22
                                                                                       DESCRIPTION
  BIT            NAME           TYPE     POR
   7                —             —       —                                                    —
   6                —             —       —                                                    —
                                                 Configures the DAI for Right Justified Mode (No Data Delay)
                                                    0: Left justified mode enabled with optional data delay.
                                                    1: Right justified mode enabled. DLY register is not used and BSEL[2:0] is used
   5               RJ            R/W      0
                                                    to determine the timing (see the DAI Clock Control and Configuration section for
                                                    details).
                                                 Note: TDM has priority over all other data formats.
                                                 Configures the DAI for Frame Clock (LRCLK) Inversion
                                                 TDM = 0:
                                                     1: Right-channel data is transmitted while LRCLK is low.
   4              WCI            R/W      0          0: Left-channel data is transmitted while LRCLK is low.
                                                 TDM = 1:
                                                     0: Start of a new frame is signified by the rising edge of the LRCLK pulse.
                                                     1: Start of a new frame is signified by the falling edge of the LRCLK pulse.
                                                 Configures the DAI for Bit Clock (BCLK) Inversion
                                                    1: SDIN is accepted on the falling edge of BCLK.
                                                    0: SDIN is accepted on the rising edge of BCLK.
   3               BCI           R/W      0
                                                 Master Mode:
                                                     1: LRCLK transitions occur on the rising edge of BCLK.
                                                     0: LRCLK transitions occur on the falling edge of BCLK.
                                                 Configures the DAI for Data Delay (I2S Standard)
                                                     1: The most significant bit of an audio word is latched at the second BCLK edge
                                                     after the LRCLK transition.
   2               DLY           R/W      0
                                                     0: The most significant bit of an audio word is latched at the first BCLK edge after
                                                     the LRCLK transition.
                                                 Set DLY = 1 to conform to the I2S standard. DLY is only effective when TDM = 0.
                                                 DAI Input Data Word Size (TDM = 0)
   1                                      0
                                                 If RJ = 1:
                WS[1:0]          R/W                00: 16 bits          01: 20 bits          10: 24 bits    11: Reserved
                                                 If RJ = 0:
   0                                      0
                                                     00: 16 bits          01, 10, 11: 20 bits
www.maximintegrated.com                                                                                            Maxim Integrated │ 114


MAX98090                                                                                            Ultra-Low Power Stereo Audio Codec
            I2S MODE (TDM = 0, WCI = 0, BCI = 0, DLY = 1, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
   LRCLK                                              LEFT                                                                        RIGHT
                HIZ                                                                             HIZ                                                            HIZ
  SDOUT               D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 19. DAI Timing for I2S Data Format
              LEFT JUSTIFIED MODE – STANDARD (TDM = 0, WCI = 1, BCI = 0, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2                  D1 D0           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED MODE – LRLCK INVERTED (TDM = 0, WCI = 0, BCI = 0, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED MODE – BCLK INVERTED (TDM = 0, WCI = 1, BCI = 1, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 20. DAI Timing for Left Justified Data Formats
www.maximintegrated.com                                                                                                                         Maxim Integrated │ 115


MAX98090                                                                                      Ultra-Low Power Stereo Audio Codec
         RIGHT JUSTIFIED MODE – STANDARD (TDM = 0, WCI = 1, BCI = 0, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                           LEFT                                                                        RIGHT
                  HIZ                                                                         HIZ                                                            HIZ
  SDOUT                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         RIGHT JUSTIFIED MODE – LRCLK INVERTED (TDM = 0, WCI = 0, BCI = 0, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                          LEFT                                                                         RIGHT
  SDOUT           HIZ                                                                        HIZ                                                             HIZ
                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         RIGHT JUSTIFIED MODE – BCLK INVERTED (TDM = 0, WCI = 1, BCI = 1, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                         LEFT                                                                         RIGHT
                 HIZ                                                                        HIZ                                                             HIZ
  SDOUT                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN               D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 21. DAI Timing for Right Justified Data Formats
www.maximintegrated.com                                                                                                                      Maxim Integrated │ 116


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
TDM Mode Data Format                                               remain free for another device to utilize. A data delay can
If TDM mode is enabled (Table 47), the register settings           be set individually for each time frame, and when operat-
in Table 39 have no effect. TDM mode supports up to four           ing in master mode the frame sync pulse can be set to
mono audio time slots in each frame. However, internally,          transmit for either a single bit or an entire word in length.
the device only has two digital audio channels (left and           TDM mode timing for common configuration options is
right) that can be assigned to any two of the four available       detailed in Figure 22.
time frames (Table 48). The remaining two time slots
Table 47. Digital Audio Interface (DAI) TDM Control Register
               ADDRESS: 0x23
                                                                                  DESCRIPTION
  BIT          NAME           TYPE    POR
   7             —              —      —                                               —
   6             —              —      —                                               —
   5             —              —      —                                               —
   4             —              —      —                                               —
   3             —              —      —                                               —
   2             —              —      —                                               —
                                               Configures the DAI Frame Sync Pulse Width (TDM = 1 and MAS = 1)
                                                  1: Frame sync pulse has a 50% duty cycle.
   1            FSW            R/W      0         0: Frame sync pulse is one bit wide.
                                               Note: In slave mode, the device accepts a frame sync pulse width up to
                                               frame width - 1.
                                               Enable for Time Division Multiplex (TDM) Mode
   0            TDM            R/W      0         1: Enable TDM mode and configures the DAI to transmit and receive TDM data.
                                                  0: Disable TDM mode.
Table 48. Digital Audio Interface (DAI) TDM Format Register
               ADDRESS: 0x24
                                                                                  DESCRIPTION
  BIT          NAME           TYPE    POR
   7                                    0      Selects the Time Slot to use for Left-Channel Data in TDM Mode
             SLOTL[1:0]        R/W                00: Time slot 1                           10: Time slot 3
   6                                    0         01: Time slot 2                           11: Time slot 4
   5                                    0      Selects the Time Slot to use for Right-Channel Data in TDM Mode
             SLOTR[1:0]        R/W                00: Time slot 1                           10: Time slot 3
   4                                    0         01: Time slot 2                           11: Time slot 4
   3                                    0      Enables data delay for slot 4 in TDM mode.
   2                                    0      Enables data delay for slot 3 in TDM mode.
            SLOTDLY[3:0]       R/W
   1                                    0      Enables data delay for slot 2 in TDM mode.
   0                                    0      Enables data delay for slot 1 in TDM mode.
www.maximintegrated.com                                                                                     Maxim Integrated │ 117


MAX98090                                                                                                   Ultra-Low Power Stereo Audio Codec
         TDM MODE WITH SINGLE BIT SYNC PULSE (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
           HI-Z                                                                                                                                        HI-Z
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH WORD LENGTH SYNC PULSE (TDM = 1, WCI = 0, BCI = 1, FSW = 1, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
           HI-Z                                                                                                                                        HI-Z
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH HI-Z MODE DISABLED (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 1, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE USING SLOTS 2 AND 3 (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 10, SLOTR[1:0] = 11)
  LRCLK
                  HI-Z                                                                                                                                            HI-Z
  SDOUT                         L15 L14 L13 L12 L11 L10 L9     L8  L7    L6   L5   L4   L3  L2  L1  L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                   32 CYCLES
   BCLK
    SDIN                        L15 L14 L13 L12 L11 L10 L9     L8  L7    L6   L5   L4   L3  L2  L1  L0  R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH 4 SLOTS (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK                    16 CYCLES                          16 CYCLES                              16 CYCLES                        16 CYCLES
          HI-Z
  SDOUT          L    L  L   L    L   L   L   L   R    R    R    R     R    R    R   R
                                                                                                                         HI-Z
   BCLK
    SDIN         L    L  L   L    L   L   L  L    R    R    R   R     R     R    R    R
Figure 22. DAI Timing for TDM Data Format
www.maximintegrated.com                                                                                                                                   Maxim Integrated │ 118


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Audio Playback Path                                                   back path digital output is then routed into the DAC where
The device playback path has two channels (left and                   it is converted back to analog before being routed to the
right) and can accept digital audio input from the DAI                analog output mixers.
and/or the record path sidetone. The digital audio is then            Playback Path Digital Gain and Level Control
routed through several stages of FlexSound DSP followed               The stereo playback path DSP includes separate digital
by the digital to analog converter (Figure 23).                       gain and level control stages (Figure 24). Unlike the
Playback Path FlexSound DSP                                           record path, both playback path channels (left and right)
                                                                      share the same digital gain and level control settings. The
The first playback path section features the Maxim
                                                                      coarse digital gain stage accepts its input from the DAI
FlexSound DSP stages. The first stage accepts and mixes
                                                                      digital data output and can be set from 0dB to +18dB in
the DAI input with the record path sidetone (if enabled),
                                                                      6dB increments. The fine adjust, level control stage input
and contains separate digital gain and digital level control
                                                                      is the summation of the coarse gain stage output with the
stages. This stage is followed by three stereo DSP stages
                                                                      record path sidetone signal. It can be adjusted from -15dB
including a 7-band parametric equalizer, a dynamic range
                                                                      to 0dB in 1dB increments (Table 49). The playback path
control section (DRC), and a digital filter stage. The play-
                                                                      gain and level control stage also include a mute enable.
                                                                                    FLEXSOUND
                     L/R ST      SIDETONE FROM
                     LEVEL                                                        TECHNOLOGY DSP
                                 RECORD PATH
                                                                                                         DALEN
                     DVST[3:0]                                           LEFT PLAYBACK PATH
                                                          LEFT 7-BAND          LEFT ALC:
                                        LEFT    LEFT                                             LEFT      DAC
                      LEFT                               PARAMETRIC           AUTOMATIC
                                     SIDETONE  LEVEL                                           FILTERS    LEFT
                      GAIN                                 EQUALIZER        LEVEL CONTROL
                                                          EQ_BANDEN              DRCEN
                                                            DVEQ[3:0]          DRCG[4:0]
                                                             EQCLP            DRCRLS[2:0]                              TO THE
                                                  DVM    B0_EQ_[23:0]         DRCATK[2:0]        MODE     DACHP        ANALOG
            DAI                      DSTS[1:0]                                DRCCMP[2:0]
                                                 DV[3:0] B1_EQ_[23:0]                            DHPF   PERFMODE       OUTPUT
                      DVG[1:0]                                                DRCTHC[4:0]
                                                         B2_EQ_[23:0]                                                  MIXERS
                                                         A1_EQ_[23:0]         DRCEXP[2:0]
                                                         A2_EQ_[23:0]         DRCTHE[4:0]
                                       RIGHT             RIGHT 7-BAND          RIGHT ALC:
                                               RIGHT                                             RIGHT     DAC
                                                         PARAMETRIC           AUTOMATIC
                    RIGHT            SIDETONE  LEVEL                                           FILTERS   RIGHT
                     GAIN                                  EQUALIZER        LEVEL CONTROL
                                                                         RIGHT PLAYBACK PATH
                                                                                                         DAREN
Figure 23. Playback Path Block Diagram
www.maximintegrated.com                                                                                        Maxim Integrated │ 119


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
                                                                                    FLEXSOUND
                      L/R ST      SIDETONE FROM
                      LEVEL                                                       TECHNOLOGY DSP
                                  RECORD PATH
                                                                                                             DALEN
                      DVST[3:0]                                          LEFT PLAYBACK PATH
                                                            LEFT 7-BAND        LEFT ALC:
                                         LEFT    LEFT                                            LEFT          DAC
                       LEFT                                 PARAMETRIC        AUTOMATIC
                                      SIDETONE  LEVEL                                          FILTERS        LEFT
                       GAIN                                  EQUALIZER      LEVEL CONTROL
                                                            EQ_BANDEN            DRCEN
                                                              DVEQ[3:0]        DRCG[4:0]
                                                               EQCLP          DRCRLS[2:0]                                  TO THE
                                                   DVM      B0_EQ_[23:0]      DRCATK[2:0]        MODE         DACHP       ANALOG
            DAI                       DSTS[1:0]                               DRCCMP[2:0]
                                                  DV[3:0]   B1_EQ_[23:0]                         DHPF       PERFMODE      OUTPUT
                       DVG[1:0]                                               DRCTHC[4:0]
                                                            B2_EQ_[23:0]                                                  MIXERS
                                                            A1_EQ_[23:0]      DRCEXP[2:0]
                                                            A2_EQ_[23:0]      DRCTHE[4:0]
                                        RIGHT              RIGHT 7-BAND        RIGHT ALC:
                                                RIGHT                                            RIGHT         DAC
                                                            PARAMETRIC        AUTOMATIC
                      RIGHT           SIDETONE  LEVEL                                          FILTERS       RIGHT
                      GAIN                                   EQUALIZER      LEVEL CONTROL
                                                                         RIGHT PLAYBACK PATH
                                                                                                             DAREN
Figure 24. Playback Path Sidetone and Level Control
Table 49. Playback Gain and Level Configuration Register
                ADDRESS: 0x27
                                                                                       DESCRIPTION
  BIT           NAME            TYPE       POR
   7             DVM             R/W         0   Enables the playback path data input mute.
   6              —               —         —                                                 —
   5                                         0   Playback Path Coarse Adjust Gain Configuration
              DVG[1:0]           R/W                00: 0dB                                         10: +12dB
   4                                         0      01: +6dB                                        11: +18dB
   3                                         0   Playback Path Fine Level Control Configuration
   2                                         0      0x0: 0dB               0x4: -4dB             0x8: -8dB            0xC: -12dB
                DV[3:0]          R/W                0x1: -1dB              0x5: -5dB             0x9: -9dB            0xD: -13dB
   1                                         0
                                                    0x2: -2dB              0x6: -6dB             0xA: -10dB           0xE: -14dB
   0                                         0      0x3: -3dB              0x7: -7dB             0xB: -11dB           0xF: -15dB
www.maximintegrated.com                                                                                           Maxim Integrated │ 120


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Playback Path 7-Band Parametric Equalizer                            The parametric equalizer can be enabled in a 3-band,
The playback path DSP features a 7-band parametric                   5-band, or the full 7-band configuration (Table 50). Once
equalizer with clipping detection and a programmable                 the parametric equalizer is enabled, the clip detec-
pre-attenuation amplifier (Figure 25). Each of the 7 bands           tion can be set and the level of preattenuation can be
is a full, individually programmable digital biquad filter.          adjusted from 0dB down to -15dB (denoted AV_EQ, see
The chosen configuration for any given band applies to               Table 51). No single band biquad filter can be set to a gain
both the left and right playback channels.                           greater than ±12dB, to a Q greater than 10, or to below
                                                                     a minimum fC that varies by filter type. See the Electrical
                                                                     Characteristics table.
                                                                                   FLEXSOUND
                     L/R ST     SIDETONE FROM
                     LEVEL                                                      TECHNOLOGY DSP
                                RECORD PATH
                                                                                                      DALEN
                     DVST[3:0]                                          LEFT PLAYBACK PATH
                                                         LEFT 7-BAND          LEFT ALC:
                                       LEFT    LEFT                                            LEFT     DAC
                      LEFT                              PARAMETRIC           AUTOMATIC
                                    SIDETONE  LEVEL                                          FILTERS   LEFT
                      GAIN                                EQUALIZER       LEVEL CONTROL
                                                         EQ_BANDEN             DRCEN
                                                           DVEQ[3:0]          DRCG[4:0]
                                                            EQCLP           DRCRLS[2:0]                            TO THE
                                                 DVM    B0_EQ_[23:0]        DRCATK[2:0]        MODE    DACHP       ANALOG
            DAI                     DSTS[1:0]                               DRCCMP[2:0]
                                                DV[3:0] B1_EQ_[23:0]                           DHPF  PERFMODE      OUTPUT
                      DVG[1:0]                                              DRCTHC[4:0]
                                                        B2_EQ_[23:0]                                               MIXERS
                                                        A1_EQ_[23:0]        DRCEXP[2:0]
                                                        A2_EQ_[23:0]        DRCTHE[4:0]
                                      RIGHT             RIGHT 7-BAND         RIGHT ALC:
                                              RIGHT                                            RIGHT    DAC
                                                        PARAMETRIC           AUTOMATIC
                     RIGHT          SIDETONE  LEVEL                                          FILTERS  RIGHT
                      GAIN                                EQUALIZER       LEVEL CONTROL
                                                                       RIGHT PLAYBACK PATH
                                                                                                      DAREN
Figure 25. Playback Path DSP
www.maximintegrated.com                                                                                    Maxim Integrated │ 121


MAX98090                                                   Ultra-Low Power Stereo Audio Codec
Table 50. DSP Biquad Filter Enable Register
              ADDRESS: 0x41
                                                                      DESCRIPTION
 BIT          NAME         TYPE POR
  7             —            —   —                                          —
  6             —            —   —                                          —
  5             —            —   —                                          —
  4             —            —   —                                          —
                                    Enable Biquad Filter in Record Path
  3         RECBQEN         R/W  0    0: Biquad filter not used.
                                      1: Biquad filter used in ADC path.
                                    Enable 3-Band EQ in DAC Path (Bands 4–7 Are Not Used)
  2       EQ3BANDEN         R/W  0    0: 3-band EQ disabled.
                                      1: 3-band EQ enabled. Only valid if EQ7BANDEN == 0 and EQ5BANDEN == 0.
                                    Enable 5-Band EQ in DAC Path (Bands 6 and 7 Are Not Used)
  1       EQ5BANDEN         R/W  0     0: 5-band EQ disabled.
                                       1: 5-band EQ enabled. Only valid if EQ7BANDEN == 0
                                    Enable 7-Band EQ in DAC Path
  0       EQ7BANDEN         R/W  0    0: 7-band EQ disabled.
                                      1: 7-band EQ enabled. This makes EQ5BANDEN and EQ3BANDEN redundant.
Table 51. Parametric Equalizer Playback Level Configuration Register
             ADDRESS: 0x28
                                                                      DESCRIPTION
 BIT          NAME        TYPE  POR
  7             —            —   —                                          —
  6             —            —   —                                          —
  5             —            —   —                                          —
                                    Enables DAI Digital Input Equalizer Clipping Detection
  4          EQCLP          R/W  0   1: Equalizer clip detect disabled.
                                     0: Equalizer clip detect enabled.
  3                              0  DAI Digital Input Equalizer Attenuation Level Configuration (AV_EQ)
  2                              0    0x0: 0dB               0x4: -4dB        0x8: -8dB          0xC: -12dB
            DVEQ[3:0]       R/W       0x1: -1dB              0x5: -5dB        0x9: -9dB          0xD: -13dB
  1                              0
                                      0x2: -2dB              0x6: -6dB        0xA: -10dB         0xE: -14dB
  0                              0    0x3: -3dB              0x7: -7dB        0xB: -11dB         0xF: -15dB
www.maximintegrated.com                                                                     Maxim Integrated │ 122


MAX98090                                                           Ultra-Low Power Stereo Audio Codec
The parametric equalizer coefficients are uninitialized at      coefficient is 3 bytes (24 bits) long (A0 is fixed at 1). They
power-up, and when used the coefficients should be pro-         occupy 15 consecutive registers per band for a total
grammed before the device and equalizer are enabled.            of 105 consecutive registers for all 7 bands (Table 52).
The transfer function for each band is defined as:              Each set of three registers (per coefficient) must be pro-
                                                                grammed consecutively for the settings to take effect. The
                    B 0 + B 1 × Z −1 + B 2 × Z −2               coefficients are stored using a two’s complement format
             H(z) =
                    A 0 + A 1 × Z −1 + A 2 × Z −2               where the first 4 bits are the integer portion and the last 20
                                                                bits are the decimal portion (which results in an approxi-
The biquad filter in each band has 5 user programmable          mate +8 to -8 range for each coefficient).
coefficients (B0, B1, B2, A1, and A2), and each individual
Table 52. Parametric Equalizer Band N (1–7) Biquad Filter Coefficient Registers
           ADDRESS RANGE (BY BAND)
                                                              NAME                   TYPE        COEFFICIENT SEGMENT
   1       2      3       4        5       6       7
 0x46    0x55   0x64    0x73     0x82    0x91    0xA0                                 R/W               B0_N[23:16]
                                                         Equalizer Band N
 0x47    0x56   0x65    0x74     0x83    0x92    0xA1                                 R/W               B0_N[15:8]
                                                           Coefficient B0
 0x48    0x57   0x66    0x75     0x84    0x93    0xA2                                 R/W                B0_N[7:0]
 0x49    0x58   0x67    0x76     0x85    0x94    0xA3                                 R/W               B1_N[23:16]
                                                         Equalizer Band N
 0x4A    0x59   0x68    0x77     0x86    0x95    0xA4                                 R/W               B1_N[15:8]
                                                           Coefficient B1
 0x4B    0x5A   0x69    0x78     0x87    0x96    0xA5                                 R/W                B1_N[7:0]
 0x4C    0x5B   0x6A    0x79     0x88    0x97    0xA6                                 R/W               B2_N[23:16]
                                                         Equalizer Band N
 0x4D    0x5C   0x6B    0x7A     0x89    0x98    0xA7                                 R/W               B2_N[15:8]
                                                           Coefficient B2
 0x4E    0x5D   0x6C    0x7B    0x8A     0x99    0xA8                                 R/W                B2_N[7:0]
 0x4F    0x5E   0x6D    0x7C    0x8B     0x9A    0xA9                                 R/W               A1_N[23:16]
                                                         Equalizer Band N
 0x50    0x5F   0x6E    0x7D    0x8C     0x9B    0xAA                                 R/W               A1_N[15:8]
                                                           Coefficient A1
 0x51    0x60   0x6F    0x7E    0x8D     0x9C    0xAB                                 R/W                A1_N[7:0]
 0x52    0x61   0x70    0x7F    0x8E     0x9D    0xAC                                 R/W               A2_N[23:16]
                                                         Equalizer Band N
 0x53    0x62   0x71    0x80    0x8F     0x9E    0xAD                                 R/W               A2_N[15:8]
                                                           Coefficient A2
 0x54    0x63   0x72    0x81     0x90    0x9F    0xAE                                 R/W                A2_N[7:0]
www.maximintegrated.com                                                                                 Maxim Integrated │ 123


MAX98090                                                                                                                                                  Ultra-Low Power Stereo Audio Codec
Playback Path Dynamic Range Control                                                                                                                   compression is enabled, if the input signal amplitude
The playback path DSP (Figure 25) includes a dynamic                                                                                                  exceeds the compression threshold the gain is reduced
range control (DRC) section that can be paired with the                                                                                               by the chosen compression ratio. This results in a smaller,
FIR music filters (MODE = 1). The DRC is highly configu-                                                                                              compressed output dynamic range relative to the input
rable and features digital make-up gain, a dynamic range                                                                                              dynamic range. When expansion is enabled, the gain is
compression and expansion, and programmable attack                                                                                                    decreased by the chosen expansion ratio if the input sig-
and release times.                                                                                                                                    nal amplitude instead falls below the expansion threshold.
                                                                                                                                                      This results in a larger, expanded output dynamic range.
The device dynamic range is determined by the difference
between the full-scale and the RMS noise floor amplitude                                                                                              The DRC also features a digital make-up gain control sec-
of the configured signal path. To avoid performance limit-                                                                                            tion (Table 54), that can be programmed from 0dB to 12dB
ing, the application dynamic range is typically smaller                                                                                               in 1dB increments. To avoid clipping before compression
than the dynamic range of the selected signal path. With                                                                                              (during the attack time), the signal cannot at any time
dynamic range control disabled, the input dynamic range                                                                                               exceed the uncompressed full-scale code. Therefore, the
is equal to the output dynamic range (Figure 26). When                                                                                                sum of the digital gain/level control, parametric equalizer
                                                    DRC DISABLED                                                                         DYNAMIC RANGE COMPRESSION                                                             DYNAMIC RANGE EXPANSION
                                      FULL SCALE                                                                                 FULL SCALE                                                                            FULL SCALE
                                 0                                                                                          0                                                                                 0
                                -20                                                                                        -20                                                                               -20
 OUTPUT AMPLITUDE (dBFS)                                                                  OUTPUT AMPLITUDE (dBFS)                                                           OUTPUT AMPLITUDE (dBFS)
                                -40      APPLICATIN OUTPUT                                                                 -40                                                                               -40
                                                                                                                                    COMPRESSED OUTPUT
                                         DYNAMIC RANGE                                                                                                                                                                    EXPANDED OUTPUT
                                                                                                                                    DYNAMIC RANGE
                                -60                                                                                        -60                                                                               -60          DYNAMIC RANGE
                                -80                                                                                        -80                                                                               -80
                                                                                                                                                      COMPRESSION                                                                              EXPANSION
                                                                                                                                                    THRESHOLD = -30dB                                                                         THRESHOLD =
                           -100                                                                                     -100                                                                              -100
                                                                                                                                                       RATIO = 2:1                                                                          -60dB, RATIO = 1:2
                           -120                           APPLICATION INPUT                                         -120                            APPLICATION INPUT                                 -120                                APPLICATION INPUT
                                      NOISE FLOOR                                                                                NOISE FLOOR                                                                           NOISE FLOOR
                                                           DYNAMIC RANGE                                                                             DYNAMIC RANGE                                                                         DYNAMIC RANGE
                           -140                                                                                     -140                                                                              -140
                                      -140 -120 -100 -80 -60 -40 -20                  0                                          -140 -120 -100 -80 -60 -40 -20         0                                              -140 -120 -100 -80 -60 -40 -20            0
                                               INPUT AMPLITUDE (dBFS)                                                                     INPUT AMPLITUDE (dBFS)                                                                INPUT AMPLITUDE (dBFS)
Figure 26. Dynamic Range Compression and Expansion
                                                                                                                                                                                                                                      DRC ENABLED
                                                    DRC DISABLED                                                                                DRC ENABLED                                                                         WITH MAKE-UP GAIN
                                       FULL-SCALE                                                                                 FULL-SCALE                                                                            FULL-SCALE
                                  0                                                                                          0                                                                                     0
                                       AV_PLAYBACK = 0dB (DV[3:0] = 0x0)                                                          AV_PLAYBACK = -10dB (DV[3:0] = 0xA)                                                   AV_PLAYBACK = -10dB (DV[3:0] = 0xF)
                                -20                                                                                        -20                                                                                -20
      OUTPUT AMPLITUDE (dBFS)                                                                    OUTPUT AMPLITUDE (dBFS)                                                           OUTPUT AMPLITUDE (dBFS)
                                                                                                                                      COMPRESSION                                                                              AV_DRC = +10dB
                                -40                                                                                        -40    THRESHOLD = -30dB                                                           -40
                                                                                                                                        RATIO = 4:1
                                -60                                                                                        -60                                                                                -60
                                                                                                                                  EXPANSION
                                                                                                                               THRESHOLD = -60dB
                                -80                                                                                        -80    RATIO = 1:2                                                                 -80
                           -100                                                                                        -100                                                                                  -100
                                                          AV_PLAYBACK = -10dB
                           -120                                 (DV[3:0] = 0xA)                                        -120                                                                                  -120
                                      -120   -100 -80 -60 -40 -20                 0                                               -120    -100 -80 -60 -40 -20          0                                               -120    -100 -80 -60 -40 -20             0
                                                INPUT AMPLITUDE (dBFS)                                                                       INPUT AMPLITUDE (dBFS)                                                                INPUT AMPLITUDE (dBFS)
Figure 27. DRC Enable and Make-Up Gain
www.maximintegrated.com                                                                                                                                                                                                                  Maxim Integrated │ 124


MAX98090                                                                                                                                                                              Ultra-Low Power Stereo Audio Codec
gain, and the DRC make-up gain must not exceed 0dB                                                                                                                                  can be configured from -31dB to 0dB. The compression
total. Figure 27 shows the effect of enabling the DRC with                                                                                                                          ratios and a range of thresholds are illustrated in Figure 28.
and without digital make-up gain.                                                                                                                                                   The low amplitude expansion threshold is used to prevent
The DRC features two programmable signal thresholds.                                                                                                                                background noise from being amplified. When the signal
The high amplitude compression threshold is used to                                                                                                                                 level drops below the expansion threshold, the DRC
reduce the maximum sustained signal amplitude. The                                                                                                                                  reduces the gain until the signal increases above the
compression ratio can be set to one of five options from                                                                                                                            threshold. The expansion ratio can be set to a 1:1, 1:2, or
a 1:1 ratio to an infinite:1 ratio (or flat output amplitude as                                                                                                                     1:3 ratio while the threshold can be configured from ‑35dB
input amplitude increases). The compression threshold
                                                         DRC ENABLED                                                                                            COMPRESSION RATIO                                                                                 COMPRESSION THRESHOLD
                                            FULL SCALE                                                                                       FULL SCALE                                                                                                    FULL SCALE
                                      0                                                                                         0                                                                                                                      0                                                 0dB
                                                                                                                                                                                  RATIO OPTION        1:1                                                                     THRESHOLD OPTIONS
                                                                                                                                                                                                                                                                                                         -5dB
                              -10                                                                                   -10                                                                               1:5:1                                 -10                                                          -10dB
 OUTPUT AMPLITUDE (dBFS)                                                                OUTPUT AMPLITUDE (dBFS)                                                                                               OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                                                                                         -15dB
                                              COMPRESSION                                                                                                                                             2:1                                                                                                -20dB
                              -20                                                                                   -20                                                                                                                     -20                                                          -25dB
                                            THRESHOLD = -30dB                                                                                   COMPRESSION                                                                                                    COMPRESSION
                                                                                                                                                                                                      4:1                                                                                                -30dB
                                               RATIO =4:1                                                                                     THRESHOLD = - 30dB                                                                                                RATION = 4:1
                              -30                                                                                   -30                                                                               INF:1                                 -30
                              -40                                                                                   -40                                                                                                                     -40
                              -50                                                                                   -50                                                                                                                     -50
                              -60                                                                                   -60                                                                                                                     -60
                                            -60    -50   -40    -30   -20   -10    0                                                          -60         -50         -40     -30     -20   -10   0                                                          -60     -50    -40    -30    -20   -10     0
                                                     INPUT AMPLITUDE (dBFS)                                                                                 INPUT AMPLITUDE (dBFS)                                                                                      INPUT AMPLITUDE (dBFS)
Figure 28. DRC Compression Ratio and Threshold
                                                         DRC ENABLED                                                                                                  EXPANSION RATIO                                                                                   EXPANSION THRESHOLD
                                      -30                                                                                                   -30                                                                                                        -30
                                                                                                                                                                                                                                                                                                -35dB
                                                                                                                                                                                                                                                                                             -40dB
                                      -40                                                                                                   -40                                                                                                        -40
            OUTPUT AMPLITUDE (dBFS)                                                                               OUTPUT AMPLITUDE (dBFS)                                                                                    OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                                                                          -45dB
                                               EXPANDER                                                                                                                                                                                                                                -50dB
                                      -50                                                                                                   -50                                                                                                        -50
                                            THRESHOLD = -60dB                                                                                          EXPANSION                                                                                                   EXPANSION        -55dB
                                               RATIO = 1:2                                                                                          THRESHOLD = -60dB                                                                                              RATIO = 1:2 -60dB
                                      -60                                                                                                   -60                                                                                                        -60
                                                                                                                                                                                                                                                                              -65dB
                                      -70                                                                                                   -70      RATIO                                                                                             -70         THRESHOLD
                                                                                                                                                    OPTIONS                                                                                                         OPTIONS
                                      -80                                                                                                   -80                                                                                                        -80
                                      -90                                                                                                   -90                                                                                                        -90
                                                                                                                                                     1:1        1:2         1:3
                                             -90    -80 -70 -60 -50 -40           -30                                                               -90         -80 -70 -60 -50 -40               -30                                                          -90     -80 -70 -60 -50 -40              -30
                                                      INPUT AMPLITUDE (dBFS)                                                                                      INPUT AMPLITUDE (dBFS)                                                                                 INPUT AMPLITUDE (dBFS)
Figure 29. DRC Expansion Ratio and Threshold
www.maximintegrated.com                                                                                                                                                                                                                                                           Maxim Integrated │ 125


MAX98090                                                      Ultra-Low Power Stereo Audio Codec
                      COMPRESSION ATTACK TIME (2:1)                      COMPRESSION RELEASE TIME (2:1)
                   AMPLITUDE                 COMPRESSED                                COMPRESSED AMPLITUDE
                   INCREASES                     AMPLITUDE
                                                                                          AMPLITUDE
                                                                                          DECECREASES
                                                                                          RELEASE
                                                                                          TIME
               COMPRESSION                     ATTACK
               THRESHOLD                       TIME                                   RELEASED AMPLITUDE
Figure 30. DRC Attack and Release Time Waveforms
to ‑66dB. The expansion ratios and a range of threshold    priate threshold by a ratio of 12dB (above for compression
are illustrated in Figure 29.                              and below for expansion). If the appropriate threshold
The DRC provides a wide range of programmable attack       is exceeded by a larger or smaller ratio, the attack time
and release times (Table 53). When the compression         is increased or decreased appropriately. The change is
is enabled and the signal amplitude increases until the    proportional to the change in ratio in dB. For example,
compression threshold is exceeded, the attack time         release time is reduced by 50% for 6dB.
determines how quickly the selected compression ratio      For compression, if the signal amplitude exceeds the
is applied. When the signal amplitude decreases and the    threshold by 12dB, the attack time when entering com-
compression threshold would no longer be exceeded, the     pression precisely matches the selected configuration.
release time determines how quickly the gain returns to    Likewise, when exiting compression, the release time
normal (Figure 30).                                        is determined by the ratio by which the threshold was
When expansion is enabled and the signal amplitude         exceeded prior to the amplitude dropping.
decreases until it drops below the expansion threshold,    Expansion works in exactly the same fashion except for
the release time determines how quickly the selected       two differences. The expansion ratio is applied when the
expansion ratio is applied. When the signal amplitude      signal amplitude drops below the expansion threshold
increases and the expansion threshold would no longer      (rather than above for compression), and the release time
be exceeded, the attack time determines how quickly the    (rather than attack time) determines how long it takes to
gain returns to normal.                                    enter expansion (centered at 12dB below the expansion
The attack and release times are not absolute. They are    threshold). Likewise, the attack time is then used when
instead used to set the rate at which the gain is adjusted exiting expansion. In addition, when entering expansion,
once the signal amplitude is either above or below the     the ratio of the initial input amplitude to the expansion
appropriate threshold. Therefore the selected attack/      threshold sets a delay before the expansion ratio is
release times are relative to the ratio of the new signal  applied. This delay is centered at 12dB above the expan-
amplitude to the selected compression and expansion        sion threshold and is determined by the selected release
thresholds. The values provided in Table 53 all assume     time. There is no delay prior to the attack time when exit-
the input signal amplitude changed to exceed the appro-    ing expansion.
www.maximintegrated.com                                                                              Maxim Integrated │ 126


MAX98090                                                         Ultra-Low Power Stereo Audio Codec
Table 53. Dynamic Range Control (DRC) Timing Register
              ADDRESS: 0x33
                                                                            DESCRIPTION
 BIT          NAME         TYPE    POR
                                           PLAYBACK DRC Enable
  7          DRCEN          R/W     0        0: DRC disabled.
                                             1: DRC enabled.
  6                         R/W     0      PLAYBACK DRC Release Time Configuration (12dB Relative to Threshold)
  5       DRCRLS[2:0]       R/W     0         0x0: 8s              0x2: 2s            0x4: 0.5s        0x6: 0.125s
  4                         R/W     0         0x1: 4s              0x3: 1s            0x5: 0.25s       0x7: 0.0625s
  3             —            —      —                                            —
  2                         R/W     0       PLAYBACK DRC Attack Time Configuration (12dB Relative to Threshold)
  1       DRCATK[2:0]       R/W     0         0x0: 0.125ms         0x2: 1.25ms        0x4: 6.25ms       0x6: 25ms
  0                         R/W     0         0x1: 0.25ms          0x3: 2.5ms         0x5: 12.5ms       0x7: 50ms
Table 54. Dynamic Range Control (DRC) Gain Configuration Register
           ADDRESS: 0x36
                                                                          DESCRIPTION
 BIT        NAME        TYPE    POR
  7           —           —      —                                             —
  6           —           —      —                                             —
  5           —           —      —                                             —
  4                              0   PLAYBACK DRC Make-Up Gain Configuration
  3                              0
                                      0x0: +0dB            0x4: +4dB            0x8: +8dB          0xC: +12dB
  2       DRCG[4:0]      R/W     0    0x1: +1dB            0x5: +5dB            0x9: +9dB          0xD: reserved
  1                              0    0x2: +2dB            0x6: +6dB            0xA: +10dB         0xE: reserved
                                      0x3: +3dB            0x7: +7dB            0xB: +11dB         0xF: reserved
  0                              0
Table 55. Dynamic Range Control (DRC) Compressor Register
           ADDRESS: 0x34
                                                                          DESCRIPTION
 BIT        NAME        TYPE    POR
  7                              0   PLAYBACK DRC Compression Ratio Configuration
                                      0x0: 1:1       0x3: 4:1
  6     DRCCMP[2:0]      R/W     0
                                      0x1: 1.5:1     0x4: INF:1
  5                              0    0x2: 2:1       0x5–0x7: Reserved
  4                              0   PLAYBACK DRC Compression Threshold Configuration
  3                              0    0x00: 0              0x08: -8dB           0x10: -16dB        0x18: -24dB
                                      0x01: -1dB           0x09: -9dB           0x11: -17dB        0x19: -25dB
                                      0x02: -2dB           0x0A: -10dB          0x12: -18dB        0x1A: -26dB
  2     DRCTHC[4:0]      R/W     0
                                      0x03: -3dB           0x0B: -11dB          0x13: -19dB        0x1B: -27dB
                                      0x04: -4dB           0x0C: -12dB          0x14: -20dB        0x1C: -28dB
  1                              0
                                      0x05: -5dB           0x0D: -13dB          0x15: -21dB        0x1D: -29dB
                                      0x06: -6dB           0x0E: -14dB          0x16: -22dB        0x1E: -30dB
  0                              0    0x07: -7dB           0x0F: -15dB          0x17: -23dB        0x1F: -31dB
www.maximintegrated.com                                                                           Maxim Integrated │ 127


MAX98090                                                           Ultra-Low Power Stereo Audio Codec
Table 56. Dynamic Range Control (DRC) Expander Register
              ADDRESS: 0x35
                                                                             DESCRIPTION
   BIT         NAME         TYPE     POR
    7            —            —       —                                           —
    6                                  0   PLAYBACK DRC Expansion Ratio Configuration
            DRCEXP[2:0]      R/W           0x0: 1:1       0x2: 1:3
    5                                  0   0x1: 1:2       0x3–0x7: Reserved
    4                                  0   PLAYBACK DRC Expansion Threshold Configuration
    3                                  0   0x00: -35dB       0x08: -43dB           0x10: -51dB         0x18: -59dB
                                           0x01: -36dB       0x09: -44dB           0x11: -52dB         0x19: -60dB
                                           0x02: -37dB       0x0A: -45dB           0x12: -53dB         0x1A: -61dB
    2       DRCTHE[4:0]      R/W       0
                                           0x03: -38dB       0x0B: -46dB           0x13: -54dB         0x1B: -62dB
                                           0x04: -39dB       0x0C: -47dB           0x14: -55dB         0x1C: -63dB
    1                                  0
                                           0x05: -40dB       0x0D: -48dB           0x15: -56dB         0x1D: -64dB
                                           0x06: -41dB       0x0E: -49dB           0x16: -57dB         0x1E: -65dB
    0                                  0   0x07: -42dB       0x0F: -50dB           0x17: -58dB         0x1F: -66dB
Playback Path Digital Filters                                    The playback path DSP also features a DC-blocking filter.
The playback path DSP includes a digital filter stage. One       This filter can be used with both the IIR voice and FIR
filter, set with the MODE bit (Table 57), offers the choice      music filters, and blocks low-frequency (including DC)
between the IIR voice filters and the FIR music filters.         input signals outside of the lower end of the audio band.
The IIR filters are optimized for standard (fS = 8kHz) and       Digital-to-Analog Converter (DAC)
wideband (fS = 16kHz) voice applications, while the FIR          Configuration
filters are optimized for low power operation at higher
                                                                 The stereo DAC architecture includes two independent
audio/music sampling rates. For sampling rates in excess
                                                                 audio paths, analog outputs that can be routed to any
of 50kHz (fLRCLK > 50kHz), the FIR audio filters must
                                                                 of the analog output mixers, and two operating modes
be used, and the DHF bit should be set to appropriately
                                                                 (Table 4). One operating mode is optimized for maximum
scale the FIR interpolation filter. The MODE configuration
                                                                 dynamic performance while the other is optimized for
selected applies to both channels of both the record and
                                                                 lower power consumption. Both DAC channels can be
playback path DSP.
                                                                 enabled independently, allowing the device to support
                                                                 both stereo and left or right mono configurations (Table 8).
www.maximintegrated.com                                                                               Maxim Integrated │ 128


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
Table 57. DSP Filter Configuration Register
                ADDRESS: 0x26
                                                                                        DESCRIPTION
  BIT           NAME            TYPE        POR
                                                 Enables the CODEC DSP FIR Music Filters (Default IIR Voice Filters)
                                                    0: The codec DSP filters operate in IIR voice mode with stop band frequencies
                                                    below the fS/2 Nyquist rate. The voice mode filters are optimized for 8kHz or
   7            MODE             R/W          1     16kHz voice application use.
                                                    1: The codec DSP filters operate in a linear phase FIR audio mode optimized to
                                                    maintain stereo imaging and operate at higher fS rates while utilizing
                                                    lower power.
                                                 Enables the Record Path DC-Blocking Filter
   6            AHPF             R/W          0     0: DC-blocking filter disabled.
                                                    1: DC-blocking filter enabled.
                                                 Enables the Playback Path DC-Blocking Filter
   5            DHPF             R/W          0      0: DC-blocking filter disabled.
                                                     1: DC-blocking filter enabled.
                                                 Enables the DAC High Sample Rate Mode (LRCLK > 50kHz, FIR Only)
   4             DHF             R/W          0      0: LRCLK is less than 50kHz. 8x FIR interpolation filter used.
                                                     1: LRCLK is greater than 50kHz. 4x FIR interpolation filter used.
   3              —               —          —                                                —
   2              —               —          —                                                —
   1              —               —          —                                                —
   0              —               —          —                                                —
                                                                                      FLEXSOUND
                     L/R ST        SIDETONE FROM
                     LEVEL                                                         TECHNOLOGY DSP
                                   RECORD PATH
                                                                                                              DALEN
                     DVST[3:0]                                             LEFT PLAYBACK PATH
                                                              LEFT 7-BAND        LEFT ALC:
                                          LEFT    LEFT                                            LEFT         DAC
                      LEFT                                   PARAMETRIC         AUTOMATIC
                                       SIDETONE  LEVEL                                          FILTERS       LEFT
                      GAIN                                     EQUALIZER      LEVEL CONTROL
                                                              EQ_BANDEN           ALCEN
                                                                DVEQ[3:0]        ALCG[4:0]
                                                                 EQCLP          ALCRLS[2:0]                                TO THE
                                                    DVM      B0_EQ_[23:0]       ALCATK[2:0]       MODE         DACHP       ANALOG
            DAI                        DSTS[1:0]                                ALCCMP[2:0]
                                                   DV[3:0]   B1_EQ_[23:0]                         DHPF      PERFMODE       OUTPUT
                      DVG[1:0]                                                  ALCTHC[4:0]
                                                             B2_EQ_[23:0]                                                  MIXERS
                                                             A1_EQ_[23:0]       ALCEXP[2:0]
                                                             A2_EQ_[23:0]       ALCTHE[4:0]
                                         RIGHT               RIGHT 7-BAND       RIGHT ALC:
                                                 RIGHT                                            RIGHT         DAC
                                                             PARAMETRIC         AUTOMATIC
                     RIGHT             SIDETONE  LEVEL                                          FILTERS       RIGHT
                     GAIN                                      EQUALIZER      LEVEL CONTROL
                                                                           RIGHT PLAYBACK PATH
                                                                                                             DAREN
Figure 31. Playback Path Digital-to-Analog Converter
www.maximintegrated.com                                                                                           Maxim Integrated │ 129


MAX98090                                                                     Ultra-Low Power Stereo Audio Codec
Analog Audio Output Configuration                                       speakers, and are equipped with short-circuit protection.
The device features three independent integrated analog                 The headphone output drivers utilize Maxim’s DirectDrive
audio output drivers (Figure 32). The receiver/line output              architecture with an integrated charge pump, and provide
driver can be configured either as a differential receiver/             configurable headphone and headset jack detection. Each
earpiece output or as a stereo single-ended line output                 analog audio output driver has a programmable gain input
driver. The stereo speaker output drivers are filterless Class          mixer and output amplifier. Each mixer accepts any combi-
D differential amplifiers capable of driving both 4Ω and 8Ω             nation of signals from the playback DAC, the analog micro-
                                                                        phone amplifier, and the line input drivers.
                                                                                                      RCVLVOL[4:0]
                                                                                                          RCVLM
                                                                                                        RCVLEN
                                                                              MIXRVCL[5:0]
                                                           DACL
                                                                             MIXRVCLG[1:0]
                                                           DACR
                                                                  RCV/ -12dB TO 0dB                                                        RCVP/
                                                           MIC 1  LINE                                                -62dB TO 8dB         LOUTL
                                                                                                        LINE OUT
                              FLEXSOUND                    MIC 2 OUT                                   LEFT PGA
                                                                  LEFT
                             TECHNOLOGY                   LINE A MIXER
                                 DSP
                                                          LINE B                                                              ZDEN
                                                                                       LINMOD                                VS2EN
                                                                                                                              VSEN
                                                           DACL
                                                                                        RCV/                                               RCVN/
                                                           DACR                                                       -62dB TO 8dB         LOUTR
                                                                  RCV/                   LINE           LINE OUT
                        DAC              DAC               MIC 1 LINE                    OUT           RIGHT PGA
                                                                         -12dB TO 0dB
                        LEFT            RIGHT              MIC 2 OUT                    MUX
                                                                 RIGHT
                                                          LINE A
                DACLEN          DACHP         DACREN             MIXER
                              PERFMODE                    LINE B              MIXRVCL[5:0]            RCVRVOL[4:0]
                                                                             MIXRVCLG[1:0]                RCVRM
                                                                                                         RCVREN
                                                           DACL                MIXSPL[5:0]
                                                           DACR               MIXSPLG[1:0]                SPVOLL[4:0]
                                                                                                                                           SPKLGND
                                                           MIC 1  SPK                                         SPLM
                                                                  LEFT                                       SPLEN
                                                           MIC 2
                                                                 MIXER  -12dB TO 0dB             -48dB TO 14dB                             SPKLP
                                                          LINE A
                                                                                        SPEAKER                  6dB                       SPKLN
                                                          LINE B                        LEFT PGA
                                                                                                            ZDEN
                                                                                                                                           SPK_VDD
                                                                                                           VS2EN
                                                                                                            VSEN
                                                           DACL
                                                                                                 -48dB TO 14dB                             SPKRP
                                                           DACR                         SPEAKER
                                                                        -12dB TO 0dB                             6dB                       SPKRN
                                                           MIC 1  SPK                  RIGHT PGA
                                                                 RIGHT
                                                           MIC 2
                                                                 MIXER                                         SPKSLAVE
                                                          LINE A
                                                          LINE B              MIXSPL[5:0]                 SPVOLR[4:0]
                                                                                                              SPLM                         SPKRGND
                                                                             MIXSPLG[1:0]
                                                                                                             SPREN
                                                                                                      HPVOLL[4:0]
                                                           DACL                                           HPLM
                                                                               MIXHPL[5:0]
                                                           DACR               MIXHPLG[1:0]               HPLEN
                                                           MIC 1   HP
                                                                        -12dB TO 0dB
                                                           MIC 2  LEFT
                                                                 MIXER                    HP                          -67dB TO 3dB
                                                          LINE A                                     HEADPHONE                             HPL
                                                                                        LEFT
                                                          LINE B                                       LEFT PGA
                                                                                        MUX
                                                                                     MIXHPLSEL            ZDEN
                                                                                                                                           HPSNS
                                                                                                         VS2EN
                                   MAX98090                                          MIXHPRSEL            VSEN
                                                           DACL
                                                           DACR                           HP                         -67dB TO 3dB
                                                                                                     HEADPHONE                             HPR
                                                                                       RIGHT
                                                           MIC 1   HP                                 RIGHT PGA
                                                                        -12dB TO 0dB    MUX
                                                           MIC 2 RIGHT
                   ANALOG                                        MIXER
                     INPUT                                LINE A
                   DRIVERS                                                     MIXHPR[5:0]            HPVOLR[4:0]                          HPVDD
                                                          LINE B                                                            HEADPHONE
                                                                              MIXHPRG[1:0]                HPRM              DIRECT DRIVE
                                                                                                         HPREN                             HPGND
                                                                                                                           CHARGE PUMP
                                                                                                                        CPVSS CPVDD C1N C1P
Figure 32. Analog Audio Output Functional Diagram
www.maximintegrated.com                                                                                                                  Maxim Integrated │ 130


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Analog Class AB Configurable                                         configuration, both channels are configured individually
Receiver/Line Output                                                 by the left and right channel registers.
The device features a configurable analog Class AB pro-              Receiver/Earpiece Mixer and Gain Control
grammable gain amplifier output that can be configured to
                                                                     When configured as a differential receiver output, only the
act either a mono differential output or as a stereo single-
                                                                     left output configuration registers are used. The receiver
ended output. When configured as a differential analog
                                                                     mixer can be configured to accept any combination of
output (LINEMOD = 0, Table 61), the driver is an ideal
                                                                     signals from the playback DAC, the analog microphone
receiver driver capable of driving both 16Ω and 32Ω differ-
                                                                     amplifiers, and the line input drivers (Table 58). The
ential loads (such as an earpiece speaker). In the receiver
                                                                     receiver input mixer also provides several attenuation
configuration, the mono output of the left receiver/line
                                                                     options (Table 59). The mixer attenuation options of -6dB,
output mixer is routed to both the left and right output driv-
                                                                     -9.5dB, and -12dB are sized to prevent clipping when
ers in a bridge tied load (BTL) configuration (Figure 33).
                                                                     several full-scale input sources are selected.
In this configuration, the mixer input signal source(s) and
both the mixer and output amplifier gain settings are deter-         The receiver output is a programmable gain amplifier
mined by the left channel registers. All right output channel        (PGA) capable of driving a wide range of differential loads
register settings have no effect in receiver/earpiece mode.          (including standard 16Ω and 32Ω earpiece speakers). The
                                                                     receiver PGA has a wide volume adjustment range from
When configured as a stereo single-ended analog out-
                                                                     -62dB to +8dB, provides a high attenuation mute control
put (LINEMOD = 1, Table 61), the driver is optimized for
                                                                     (Table 60), and features programmable click and pop
standard ground referenced, high impedance line outputs.
                                                                     reduction options. See the Click-and-Pop Reduction sec-
In the line output configuration, the output of the left and
                                                                     tion for details. The receiver PGA output common-mode
right line output mixers are individually routed to the left
                                                                     voltage is either half of VAVDD (in resistive divider BIAS
and right output drivers (respectively, Figure 34). In this
                                                                     mode) or about 0.78V (in bandgap BIAS mode).
                   FLEXSOUND                  SPEAKER/
                  TECHNOLOGY                HEADPHONES
                      DSP
                                                                                               RCVLVOL[4:0]
                                                                                                   RCVLM
                                                                                                 RCVLEN
                                                                               MIXRVCL[5:0]
                                                           DACR
                                                                              MIXRVCLG[1:0]
                                                           DACL
                                                                  RCV/ -12dB TO 0dB                                        RCVP/
             DAC              DAC                          MIC 1  LINE                                      -62dB TO 8dB   LOUTL
                                                                                                 LINE OUT
             LEFT            RIGHT                         MIC 2 OUT                            LEFT PGA
                                                                  LEFT
                                                          LINE A MIXER
    DACLEN           DACHP         DACREN
                   PERFMODE                               LINE B                                                   ZDEN
                                                                                       LINMOD                      VS2EN
                                                                                                                   ZSEN
                                                           DACR
                                                                                        RCV/                               RCVN/
                                                           DACL                                             -62dB TO 8dB   LOUTR
                                                                  RCV/                   LINE    LINE OUT
                                                           MIC 1 LINE     -12dB TO 0dB   OUT    RIGHT PGA
                                                           MIC 2 OUT                    MUX
        ANALOG                                                                                                MAX98090
                                                                 RIGHT
          INPUT                                           LINE A
                                                                 MIXER
        DRIVERS                                           LINE B               MIXRVCL[5:0]    RCVRVOL[4:0]
                                                                              MIXRVCLG[1:0]        RCVRM
                                                                                                  RCVREN
Figure 33. Receiver Output Functional Diagram
www.maximintegrated.com                                                                                       Maxim Integrated │ 131


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
                   FLEXSOUND                  SPEAKER/
                  TECHNOLOGY                 HEADPHONES
                      DSP
                                                                                                    RCVLVOL[4:0]
                                                                                                        RCVLM
                                                                                                       RCVLEN
                                                                                 MIXRVCL[5:0]
                                                             DACR
                                                                                MIXRVCLG[1:0]
                                                             DACL   RCV/
                                                                          -12dB TO 0dB                                           RCVP/
            DAC               DAC                            MIC 1  LINE                                          -62dB TO 8dB
                                                                                                      LINE OUT                   LOUTL
            LEFT             RIGHT                                  OUT
                                                             MIC 2                                    LEFT PGA
                                                                    LEFT
                                                            LINE A MIXER
    DACLEN           DACHP         DACREN
                   PERFMODE                                 LINE B                                                       ZDEN
                                                                                         LINMOD                          VS2EN
                                                                                                                         ZSEN
                                                             DACR
                                                                                          RCV/                                   RCVN/
                                                             DACL                                                 -62dB TO 8dB   LOUTR
                                                                    RCV/                   LINE       LINE OUT
                                                             MIC 1 LINE     -12dB TO 0dB   OUT       RIGHT PGA
                                                             MIC 2 OUT                    MUX
       ANALOG                                                      RIGHT                                            MAX98090
         INPUT                                              LINE A MIXER
       DRIVERS                                              LINE B               MIXRVCL[5:0]       RCVRVOL[4:0]
                                                                                MIXRVCLG[1:0]           RCVRM
                                                                                                       RCVREN
Figure 34. Stereo Single-Ended Line Output Functional Diagram
Table 58. Receiver and Left Line Output Mixer Source Configuration Register
                 ADDRESS: 0x37
                                                                                        DESCRIPTION
  BIT            NAME           TYPE      POR
   7              —                —       —                                                    —
   6              —                —       —                                                    —
   5                                       0     Selects MIC 2 as the input to the receiver/line out left mixer.
   4                                       0     Selects MIC 1 as the input to the receiver/line out left mixer.
   3                                       0     Selects line B as the input to the receiver/line out left mixer.
            MIXRCVL[5:0]         R/W
   2                                       0     Selects line A as the input to the receiver/line out left mixer.
   1                                       0     Selects DAC right as the input to the receiver/line out left mixer.
   0                                       0     Selects DAC left as the input to the receiver/line out left mixer.
www.maximintegrated.com                                                                                             Maxim Integrated │ 132


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Line Output Mixer and Gain Control                                   The left and right line output drivers are independent
When configured as a stereo single-ended line output, the            programmable gain amplifiers (PGAs) capable of driv-
left and right configuration registers can be programmed             ing high impedance ground referenced loads. The line
independently. Each channel mixer can be configured                  output PGAs have a wide volume adjustment range from
to accept any combination of signals from the playback               -62dB to +8dB, provide a high attenuation mute control
DAC, the analog microphone amplifiers, and the line input            (Tables 60 and 63), and feature programmable click and
drivers (Tables 58 and 61). The input mixers also provide            pop reduction options. See the Click-and-Pop Reduction
several attenuation options (Tables 59 and 62). The mixer            section for details. The output common-mode voltage is
attenuation options of -6dB, -9.5dB, and -12dB are sized             either half of VAVDD (in resistive divider BIAS mode) or
to prevent clipping when several full-scale input sources            about 0.78V (in bandgap BIAS mode). As a result of the
are selected.                                                        internal architecture, the left and right channel each have
                                                                     a built in baseline gain of -3dB (when all programmable
                                                                     gain options are set to 0dB).
Table 59. Receiver and Left Line Output Mixer Gain Control Register
             ADDRESS: 0x38
                                                                                DESCRIPTION
  BIT         NAME          TYPE   POR
   7            —             —      —                                                —
   6            —             —      —                                                —
   5            —             —      —                                                —
   4            —             —      —                                                —
   3            —             —      —                                                —
   2            —             —      —                                                —
   1                                 0   Receiver/Line Output Left Mixer Gain Configuration
         MIXRCVLG[1:0]       R/W          00: 0dB                     10: -9.5dB
   0                                 0    01: -6dB                    11: -12dB
Table 60. Receiver and Left Line Output Volume Control Register
             ADDRESS: 0x39
                                                                                DESCRIPTION
  BIT         NAME          TYPE   POR
                                         Left Receiver/Line Output Mute
   7         RCVLM           R/W     0    0: Left output amplifier not muted.
                                          1: Left output amplifier is muted.
   6            —             —      —                                                —
   5            —             —      —                                                —
   4                                 1   Receiver/Line Output Left PGA Volume Configuration
   3                                 0    0x1F: +8dB              0x17: +2dB             0x0F: -12dB           0x07: -35dB
                                          0x1E: +7.5dB            0x16: +1dB             0x0E: -14dB           0x06: -38dB
                                          0x1D: +7dB              0x15: +0dB             0x0D: -17dB           0x05: -42dB
   2                                 1
          RCVLVOL[4:0]       R/W          0x1C: +6.5dB            0x14: -2dB             0x0C: -20dB           0x04: -46dB
                                          0x1B: +6dB              0x13: -4dB             0x0B: -23dB           0x03: -50dB
   1                                 0    0x1A: +5dB              0x12: -6dB             0x0A: -26dB           0x02: -54dB
                                          0x19: +4dB              0x11: -8dB             0x09: -29dB           0x01: -58dB
   0                                 1    0x18: +3dB              0x10: -10dB            0x08: -32dB           0x00: -62dB
www.maximintegrated.com                                                                                      Maxim Integrated │ 133


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Table 61. Right Line Output Mixer Source Configuration Register
           ADDRESS: 0x3A
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
                                 Selects Between Receiver BTL Mode and Line Output mode
  7        LINMOD        R/W  0   0: Receiver BTL mode. All control of the output is from the left-channel registers.
                                  1: Line Output mode. Left and right channels are programmed independently.
  6           —           —   —                                                 —
  5                           0  Selects MIC 2 as the input to the line out right mixer
  4                           0  Selects MIC 1 as the input to the line out right mixer
  3                           0  Selects Line B as the input to the line out right mixer
        MIXRCVR[5:0]     R/W
  2                           0  Selects Line A as the input to the line out right mixer
  1                           0  Selects DAC Right as the input to the line out right mixer
  0                           0  Selects DAC Left as the input to the line out right mixer
Table 62. Right Line Output Mixer Gain Control Register
           ADDRESS: 0x3B
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
  7           —           —   —                                                 —
  6           —           —   —                                                 —
  5           —           —   —                                                 —
  4           —           —   —                                                 —
  3           —           —   —                                                 —
  2           —           —   —                                                 —
  1                           0  Line Output Right Mixer Gain Configuration
       MIXRCVRG[1:0]     R/W      00: 0dB                 10: -9.5dB
  0                           0   01: -6dB                11: -12dB
Table 63. Right Line Output Volume Control Register
           ADDRESS: 0x3C
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
                                 Right Receiver/Line Output Mute
  7        RCVRM         R/W  0   0: Right output amplifier not muted.
                                  1: Right output amplifier is muted.
  6           —           —   —                                                 —
  5           —           —   —                                                 —
  4                           1  Line Output Right PGA Volume Configuration
  3                           0   0x1F: +8dB              0x17: +2dB               0x0F: -12dB          0x07: -35dB
                                  0x1E: +7.5dB            0x16: +1dB               0x0E: -14dB          0x06: -38dB
                                  0x1D: +7dB              0x15: +0dB               0x0D: -17dB          0x05: -42dB
  2                           1
        RCVRVOL[4:0]     R/W      0x1C: +6.5dB            0x14: -2dB               0x0C: -20dB          0x04: -46dB
                                  0x1B: +6dB              0x13: -4dB               0x0B: -23dB          0x03: -50dB
  1                           0
                                  0x1A: +5dB              0x12: -6dB               0x0A: -26dB          0x02: -54dB
                                  0x19: +4dB              0x11: -8dB               0x09: -29dB          0x01: -58dB
  0                           1   0x18: +3dB              0x10: -10dB              0x08: -32dB          0x00: -62dB
www.maximintegrated.com                                                                              Maxim Integrated │ 134


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Analog Class D Speaker Output                                          The device is protected from short-circuit damage by
The device features an integrated stereo differential                  a thermal-based shutdown circuit. When a short-circuit
speaker amplifier. The analog stereo speaker output has                condition is present, the temperature of the device rises
three series sections comprising a flexible input mixer, a             above the set thermal limit and the output is disabled
programmable gain amplifier, and a differential Class D                within 1μs. The speaker output remains disabled for
output driver (Figure 35). The speaker output is capable               50μs before the device attempts to re-enable the speaker
of driving both 4Ω and 8Ω loads, utilizes a highly efficient           output. When the short-circuit condition is corrected, the
Class D architecture, meets EMI emission standards                     speaker output auto-recovers and normal operation is
while driving a filterless speaker load, and is equipped               restored.
with short-circuit protection.
                    FLEXSOUND               RECEIVER/LINE OUT/
                   TECHNOLOGY                 HEADPHONES
                       DSP
                                                                DACR               MIXSPL[5:0]
                                                                DACL               MIXSPLG[1:0]              SPVOLL[4:0]
                                                                                                                                  SPKLGND
                                                                       SPK                                       SPLM
              DAC               DAC                             MIC 1
                                                                       LEFT                                     SPLEN
              LEFT             RIGHT                            MIC 2 MIXER
                                                                                                     -48dB TO 14dB                SPKLP
                                                               LINE A                       SPEAKER
     DACLEN           DACHP          DACREN                                  -12dB TO 0dB                           6dB           SPKLN
                    PERFMODE                                   LINE B                       LEFT PGA
                                                                                               ZDEN
                                                                                              VS2EN
                                                                                               ZSEN                               SPK_VDD
                   MAX98090
                                                                                                                  SPKSLAVE
                                                                DACR                                 -48dB TO 14dB                SPKRP
                                                                DACL         -12dB TO 0dB   SPEAKER                 6dB           SPKRN
                                                                       SPK                 RIGHT PGA
                                                                MIC 1
                                                                      RIGHT
         ANALOG                                                 MIC 2 MIXER
           INPUT                                               LINE A
         DRIVERS                                                                  MIXSPL[5:0]                SPVOLR[4:0]
                                                               LINE B                                                             SPKRGND
                                                                                 MIXSPLG[1:0]                    SPLM
                                                                                                                SPREN
Figure 35. Class D Speaker Output Functional Diagram
www.maximintegrated.com                                                                                               Maxim Integrated │ 135


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Speaker Output Mixer and Gain Control                                 and 65). The input mixers also provide several attenuation
The speaker mixers can be configured to accept any                    options (Table 66). The mixer attenuation options of -6dB,
combination of signals from the playback DAC, the analog              -9.5dB, and -12dB are sized to prevent clipping when sev-
microphone amplifiers, and the line input drivers (Tables 64          eral full-scale input sources are selected.
Table 64. Left Speaker Mixer Configuration Register
           ADDRESS: 0x2E
                                                                                  DESCRIPTION
 BIT        NAME           TYPE    POR
  7           —              —       —                                                  —
  6           —              —       —                                                  —
  5                                  0   Selects microphone input 2 to left speaker mixer
  4                                  0   Selects microphone Input 1 to left speaker mixer
  3                                  0   Selects line input B to left speaker mixer
         MIXSPL[5:0]        R/W
  2                                  0   Selects line input A to left speaker mixer
  1                                  0   Selects right DAC output to left speaker mixer
  0                                  0   Selects left DAC output to left speaker mixer
Table 65. Right Speaker Mixer Configuration Register
           ADDRESS: 0x2F
                                                                                  DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —       —                                                   —
                                         Speaker Slave Mode Enable
  6      SPK_SLAVE          —       —     0: Right-channel clock always generated independently.
                                          1: Right channel uses left-channel clock if both channels are enabled.
  5                                  0   Selects microphone input 2 to right speaker mixer.
  4                                  0   Selects microphone input 1 to right speaker mixer.
  3                                  0   Selects line input B to Right speaker mixer.
         MIXSPR[5:0]       R/W
  2                                  0   Selects line input A to right speaker mixer.
  1                                  0   Selects right DAC output to right speaker mixer.
  0                                  0   Selects left DAC output to right speaker mixer.
Table 66 Speaker Mixer Gain Control Register
           ADDRESS: 0x30
                                                                                  DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —       —                                                   —
  6           —             —       —                                                   —
  5           —             —       —                                                   —
  4           —             —       —                                                   —
  3                                  0   Right-Speaker Mixer Gain Configuration
        MIXSPRG[1:0]       R/W            00: +0dB                10: -9.5dB
  2                                  0    01: -6dB                11: -12dB
  1                                  0   Left-Speaker Mixer Gain Configuration
        MIXSPLG[1:0]       R/W           00: +0dB                 10: -9.5dB
  0                                  0   01: -6dB                 11: -12dB
www.maximintegrated.com                                                                                      Maxim Integrated │ 136


MAX98090                                                          Ultra-Low Power Stereo Audio Codec
The speaker output programmable gain amplifiers (PGAs)          reduction options. See Click-and-Pop Reduction section
have a wide volume adjustment range from -48dB to               for details. In addition to the programmable gain range,
+14dB, provide a high attenuation mute control (Table 67        the Class D output driver also provides another 6dB of
and Table 68), and feature programmable click and pop           built-in gain.
Table 67. Left Speaker Amplifier Volume Control Register
           ADDRESS: 0x31
                                                                           DESCRIPTION
 BIT        NAME         TYPE   POR
                                      Left Speaker Output Mute Enable
  7          SPLM         R/W     0    0 : Speaker output volume set by the volume control bits.
                                       1 : Left speaker output muted.
  6           —            —      —                                              —
  5                               1   Left Speaker Output Amplifier Volume Control Configuration
  4                               0    0x3F: +14dB            0x35: +9dB            0x2B: -1dB          0x21: -17dB
                                       0x3E: +13.5dB          0x34: +8dB            0x2A: -2dB          0x20: -20dB
  3                               1    0x3D: +13dB            0x33: +7dB            0x29: -3dB          0x1F: -23dB
                                       0x3C: +12.5dB          0x32: +6dB            0x28: -4dB          0x1E: -26dB
         SPVOLL[5:0]      R/W          0x3B: +12dB            0x31: +5dB            0x27: -5dB          0x1D: -29dB
  2                               1
                                       0x3A: +11.5dB          0x30: +4dB            0x26: -6dB          0x1C: -32dB
                                       0x39: +11dB            0x2F: +3dB            0x25: -8dB          0x1B: -36dB
  1                               0    0x38: +10.5dB          0x2E: +2dB            0x24: -10dB         0x1A: -40dB
                                       0x37: +10dB            0x2D: +1dB            0x23: -12dB         0x19: -44dB
  0                               0    0x36: +9.5dB           0x2C: +0dB            0x22: -14dB         0x18: -48dB
Table 68. Right Speaker Amplifier Volume Control Register
           ADDRESS: 0x32
                                                                           DESCRIPTION
 BIT        NAME         TYPE   POR
                                      Right Speaker Output Mute Enable
  7         SPRM          R/W     0    0 : Speaker output volume set by the volume control bits.
                                       1 : Right-speaker output muted.
  6           —            —      —                                              —
  5                               1   Right Speaker Output Amplifier Volume Control Configuration
  4                               0    0x3F: +14dB            0x35: +9dB            0x2B: -1dB          0x21: -17dB
                                       0x3E: +13.5dB          0x34: +8dB            0x2A: -2dB          0x20: -20dB
  3                               1    0x3D: +13dB            0x33: +7dB            0x29: -3dB          0x1F: -23dB
                                       0x3C: +12.5dB          0x32: +6dB            0x28: -4dB          0x1E: -26dB
         SPVOLR[5:0]      R/W          0x3B: +12dB            0x31: +5dB            0x27: -5dB          0x1D: -29dB
  2                               1
                                       0x3A: +11.5dB          0x30: +4dB            0x26: -6dB          0x1C: -32dB
                                       0x39: +11dB            0x2F: +3dB            0x25: -8dB          0x1B: -36dB
  1                               0    0x38: +10.5dB          0x2E: +2dB            0x24: -10dB         0x1A: -40dB
                                       0x37: +10dB            0x2D: +1dB            0x23: -12dB         0x19: -44dB
  0                               0    0x36: +9.5dB           0x2C: +0dB            0x22: -14dB         0x18: -48dB
www.maximintegrated.com                                                                               Maxim Integrated │ 137


MAX98090                                                                    Ultra-Low Power Stereo Audio Codec
Efficient Class D Speaker Output Driver                                  a result, slave mode operation eliminates potential beat
A Class D amplifier offers much higher efficiency than                   tones that can occur with asynchronous stereo Class D
a Class AB amplifier. The high efficiency is due to the                  switching.
switching operation of the output stage transistors. In a                Traditional Class D amplifiers often require the use of
Class D amplifier, the output transistors act as current                 external LC filters and/or shielding to meet EN55022B
steering switches and consume negligible additional                      and FCC electromagnetic-interference (EMI) regulation
power. Any power loss associated with a Class D output                   standards. Maxim’s patented active emissions limiting
stage is primarily due to the loss in the MOSFET on-                     edge-rate control circuitry reduces EMI emissions. This
resistance, and the baseline quiescent current overhead.                 allows the device to drive both 4Ω and 8Ω without any
For comparison, the theoretical best-case efficiency of a                additional output filtering. The filterless Class D outputs
linear amplifier is 78%. However, that efficiency is only                are designed for typical applications where the trace
possible at peak output power conditions. Under normal                   length to the speakers is short and has a low series
operating levels (typical music reproduction levels), effi-              resistance. See the Filterless Class D Speaker Operation
ciency often falls below 30%. Under the same conditions,                 section for application level details.
the device’s differential Class D speaker output amplifier               Analog Class-H Headphone Output
still exhibits 80% efficiency.
                                                                         The stereo headphone output driver has a flexible input
By default, the Class D output switching clocks are inde-                mixer, programmable gain stage, an integrated charge
pendently generated for the left and right channels. With                pump, and a ground referenced DirectDrive Class H
slave mode enabled, the right channel becomes a slave                    output amplifier (Figure 36). The headphone output
to the left channel and uses the same clock (Table 65).                  amplifier is capable of driving both 16Ω and 32Ω ground-
In slave mode, the switching scheme is synchronous. As                   referenced headphone loads.
                   FLEXSOUND              SPEAKER/RECEIVER/
                  TECHNOLOGY                  LINE OUT
                      DSP
                                                                                                HPVOLL[4:0]
                                                                                                    HPLM
                                                             DACR
                                                                                MIXHPL[5:0]        HPLEN
                                                             DACL              MIXHPLG[1:0]
              DAC             DAC                            MIC 1   HP
                                                                          -12dB TO 0dB
             LEFT            RIGHT                           MIC 2  LEFT
                                                                   MIXER                  HP                 -67dB TO 3dB
                                                            LINE A                              HEADPHONE                          HPL
     DACLEN          DACHP         DACREN                                                LEFT
                                                                                                 LEFT PGA
                   PERFMODE                                 LINE B                       MUX
                                                                                      MIXHPLSEL     ZDEN
                                                                                                                                   HPSNS
                                                                                                   VS2EN
                                                                                      MIXHPRSEL     ZSEN
                  MAX98090
                                                             DACR
                                                                                          HP                -67dB TO 3dB
                                                             DACL                               HEADPHONE                          HPR
                                                                                        RIGHT
                                                             MIC 1   HP                          RIGHT PGA
                                                                          -12dB TO 0dB MUX
                                                                   RIGHT
         ANALOG                                              MIC 2
                                                                   MIXER
           INPUT                                            LINE A
        DRIVERS                                                                 MIXHPR[5:0]     HPVOLR[4:0]        HEADPHONE       HPVDD
                                                            LINE B
                                                                               MIXHPRG[1:0]         HPRM          DIRECT DRIVE
                                                                                                   HPREN                           HPGND
                                                                                                                  CHARGE PUMP
                                                                                                              C1P C1N CPVDD CPVSS
Figure 36. DirectDrive Headphone Output Functional Diagram
www.maximintegrated.com                                                                                              Maxim Integrated │ 138


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Headphone Output Mixer and Gain Control                              and Table 70). The input mixers also provide several atten-
The headphone mixers can be configured to accept any                 uation options (Table 71). The mixer attenuation options of
combination of signals from the playback DAC, the analog             -6dB, -9.5dB, and -12dB are sized to prevent clipping when
microphone amplifiers, and the line input drivers (Table 69          several full-scale input sources are selected.
Table 69. Left Headphone Mixer Configuration Register
           ADDRESS: 0x29
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —                                                   —
  6           —             —      —                                                   —
  5                                 0   Selects microphone input 2 to left headphone mixer.
  4                                 0   Selects microphone input 1 to left headphone mixer.
  3                                 0   Selects line input B to left headphone mixer.
         MIXHPL[5:0]       R/W
  2                                 0   Selects line input A to left headphone mixer.
  1                                 0   Selects right DAC output to left headphone mixer.
  0                                 0   Selects left DAC output to left headphone mixer.
Table 70. Right Headphone Mixer Configuration Register
           ADDRESS: 0x2A
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —                                                   —
  6           —             —      —                                                   —
  5                                 0   Selects microphone input 2 to right headphone mixer.
  4                                 0   Selects microphone input 1 to right headphone mixer.
  3                                 0   Selects line input B to right headphone mixer.
         MIXHPR[5:0]       R/W
  2                                 0   Selects line input A to right headphone mixer.
  1                                 0   Selects right DAC output to right headphone mixer.
  0                                 0   Selects left DAC output to right headphone mixer.
Table 71. Headphone Mixer Control and Gain Register
           ADDRESS: 0x2B
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —                                                   —
  6           —             —      —                                                   —
                                        Select Headphone Mixer as Right Input Source (Default DAC Right Direct)
  5      MIXHPRSEL         R/W      0     0: DAC only source (best dynamic range and power consumption)
                                          1: Headphone mixer source
                                        Select Headphone Mixer as Left Input Source (Default DAC Left Direct)
  4      MIXHPLSEL         R/W      0     0: DAC only source (best dynamic range and power consumption)
                                          1: Headphone mixer source
  3                                 0   Right-Headphone Mixer Gain Configuration
        MIXHPRG[1:0]       R/W            00: +0dB                    10: -9.5dB
  2                                 0     01: -6dB                    11: -12dB
  1                                 0   Left-Headphone Mixer Gain Configuration
        MIXHPLG[1:0]       R/W            00: +0dB                    10: -9.5dB
  0                                 0     01: -6dB                    11: -12dB
www.maximintegrated.com                                                                                    Maxim Integrated │ 139


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
Additionally, the headphone output has a reduced power                  headphone output amplifiers. When paired with the low
direct from DAC playback mode (Figure 37). In this con-                 power headphone playback mode (Table 4), this com-
figuration, the stereo DAC outputs from the playback path               bination is the lowest power digital to analog playback
are routed around the headphone mixer directly to the                   configuration available.
                  FLEXSOUND              SPEAKER/RECEIVER/
                 TECHNOLOGY                  LINE OUT
                     DSP
                                                                                               HPVOLL[4:0]
                                                                                                   HPLM
                                                            DACR
                                                                               MIXHPL[5:0]        HPLEN
                                                            DACL              MIXHPLG[1:0]
            DAC              DAC                            MIC 1   HP
                                                                         -12dB TO 0dB
            LEFT            RIGHT                           MIC 2  LEFT
                                                                  MIXER                  HP                 -67dB TO 3dB
                                                           LINE A                              HEADPHONE                          HPL
    DACLEN          DACHP         DACREN                                                LEFT
                                                                                                LEFT PGA
                  PERFMODE                                 LINE B                       MUX
                                                                                     MIXHPLSEL     ZDEN
                                                                                                                                  HPSNS
                                                                                                  VS2EN
                                                                                     MIXHPRSEL     ZSEN
                 MAX98090
                                                            DACR
                                                                                         HP                -67dB TO 3dB
                                                            DACL                               HEADPHONE                          HPR
                                                                                       RIGHT
                                                            MIC 1   HP                          RIGHT PGA
                                                                         -12dB TO 0dB MUX
                                                                  RIGHT
       ANALOG                                               MIC 2
                                                                  MIXER
         INPUT                                             LINE A
       DRIVERS                                                                 MIXHPR[5:0]     HPVOLR[4:0]        HEADPHONE       HPVDD
                                                           LINE B
                                                                              MIXHPRG[1:0]         HPRM          DIRECT DRIVE
                                                                                                  HPREN                           HPGND
                                                                                                                 CHARGE PUMP
                                                                                                             C1P C1N CPVDD CPVSS
Figure 37. Reduced Power DAC Playback to Headphone Output Configuration
www.maximintegrated.com                                                                                             Maxim Integrated │ 140


MAX98090                                                           Ultra-Low Power Stereo Audio Codec
The headphone output programmable gain amplifiers               and Table 73), and feature programmable click-and-pop
(PGAs) have a wide volume adjustment range from -67dB           reduction options. See the Click-and-Pop Reduction sec-
to +3dB, provide a high attenuation mute control (Table 72      tion for details.
Table 72. Left Headphone Amplifier Volume Control Register
            ADDRESS: 0x2C
                                                                           DESCRIPTION
  BIT        NAME          TYPE   POR
                                        Left Headphone Output Mute Enable
   7         HPLM           R/W     0    0 : Headphone output volume set by the volume control bits.
                                         1 : Headphone output muted.
   6           —             —     —                                              —
   5           —             —     —                                              —
   4                                1  Left Headphone Output Amplifier Volume Control Configuration
   3                                1    0x1F: +3dB           0x17: -3dB            0x0F: -17dB        0x07: -40dB
                                         0x1E: +2.5dB         0x16: -4dB            0x0E: -19dB        0x06: -43dB
                                         0x1D: +2dB           0x15: -5dB            0x0D: -22dB        0x06: -47dB
   2                                0
         HPVOLL[4:0]        R/W          0x1C: +1.5dB         0x14: -7dB            0x0C: -25dB        0x04: -51dB
                                         0x1B: +1dB           0x13: -9dB            0x0B: -28dB        0x03: -55dB
   1                                1    0x1A: +0dB           0x12: -11dB           0x0A: -31dB        0x02: -59dB
                                         0x19: -1dB           0x11: -13dB           0x09: -34dB        0x01: -63dB
   0                                0    0x18: -2dB           0x10: -15d            0x08: -37dB        0x00: -67dB
Table 73. Right Headphone Amplifier Volume Control Register
            ADDRESS: 0x2D
                                                                           DESCRIPTION
  BIT         NAME          TYPE POR
                                       Right Headphone Output Mute Enable
   7          HPRM           R/W    0    0 : Headphone output volume set by the volume control bits.
                                         1 : Headphone output muted.
   6           —              —     —                                             —
   5           —              —     —                                             —
   4                                1  Right Headphone Output Amplifier Volume Control Configuration
   3                                1    0x1F: +3dB           0x17: -3dB            0x0F: -17dB        0x07: -40dB
                                         0x1E: +2.5dB         0x16: -4dB            0x0E: -19dB        0x06: -43dB
                                         0x1D: +2dB           0x15: -5dB            0x0D: -22dB        0x06: -47dB
   2                                0
          HPVOLR[4:0]        R/W         0x1C: +1.5dB         0x14: -7dB            0x0C: -25dB        0x04: -51dB
                                         0x1B: +1dB           0x13: -9dB            0x0B: -28dB        0x03: -55dB
   1                                1    0x1A: +0dB           0x12: -11dB           0x0A: -31dB        0x02: -59dB
                                         0x19: -1dB           0x11: -13dB           0x09: -34dB        0x01: -63dB
   0                                0    0x18: -2dB           0x10: -15dB           0x08: -37dB        0x00: -67dB
www.maximintegrated.com                                                                              Maxim Integrated │ 141


MAX98090                                                           Ultra-Low Power Stereo Audio Codec
Headphone Ground Sense                                          the headphone jack (Figure 38). If this is not possible, or
To improve channel isolation, the device has a low-side         if headphone sense is not used, connect it to the analog
headphone sense (HPSNS) that senses the ground                  ground plane. In this configuration, channel isolation can
return of the headphone load. For optimal performance,          be degraded, resulting in increased channel-to-channel
connect the headphone sense line through an isolated            crosstalk.
trace to a point as close as possible to the ground pole of
                  OPTIMAL GROUND SENSE CONFIGURATION                        ALTERNATIVE GROUND SENSE CONFIGURATION
                                          ISOLATED HP                                                  HP SENSE
                                          SENSE TRACE                                                 TO GROUND
               HEADPHONE          HPL                                     HEADPHONE          HPL
                LEFT PGA                                                   LEFT PGA
                               HPSNS                                                      HPSNS
                                                        CODEC                                                      CODEC
                                                        GROUND                                                     GROUND
                                  HPR                   PLANE                               HPR                    PLANE
               HEADPHONE                                                  HEADPHONE
                RIGHT PGA                             HEADPHONE            RIGHT PGA                             HEADPHONE
                                                    OUTPUT JACK                                                 OUTPUT JACK
Figure 38. Headphone Output Ground Sense Connections
www.maximintegrated.com                                                                                   Maxim Integrated │ 142


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
DirectDrive Headphone Output Amplifier                              reduces cost, and improves the frequency response of
Traditional single-supply headphone amplifiers have out-            the headphone amplifier.
puts biased at a nominal DC voltage (typically at either            Class H Amplifier Charge Pump
half the high-side supply, or at a bandgap referenced
                                                                    A Class H amplifier has the same output architecture as
common mode level). As a result, large coupling capaci-
                                                                    a Class AB amplifier. However, in a Class H amplifier the
tors are needed to block this DC bias and AC-couple
                                                                    power supplies are modulated by the output signal. The
the audio output to the headphone load. Without these
                                                                    integrated headphone charge pump generates both the
capacitors, a significant DC current would flow through
                                                                    positive and negative power supply for the headphone
the ground referenced headphone load. The result is both
                                                                    output amplifier. To maximize efficiency, both the charge
unnecessary power dissipation, and potential damage to
                                                                    pump’s switching frequency and output voltage level and
both the headphone load and amplifier.
                                                                    format change based on the headphone output signal level.
Maxim’s second-generation DirectDrive architecture
                                                                    The charge pump has three different operating ranges
solves this problem by using a charge pump to create
                                                                    each with a different switching frequency. The two lower
an internal negative supply voltage. This increases the
                                                                    power ranges use a three-level switching scheme to gen-
overall output signal swing while at the same time, allow-
                                                                    erate half supply rails at ±VHPVDD/2 while the high power
ing the headphone outputs to be biased at GND even
                                                                    range uses a standard two-level switching scheme to
while operating from a single supply (Figure 39). Without
                                                                    generate full supply rails at ±VHPVDD. The switching fre-
a DC bias component, there is no need for the large
                                                                    quency and voltage levels of each range are optimized to
AC-coupling capacitors. Instead of two large (typically
                                                                    maintain high efficiency while meeting the different output
220µF) capacitors, the charge pump only requires three
                                                                    power requirements (Table 74).
small ceramic capacitors. This conserves board space,
Table 74. Charge-Pump Operating Ranges
                           HEADPHONE                                       CHARGE PUMP CONFIGURATION
   RANGE                 OUTPUT LEVEL                      FREQUENCY
                          (% of VHPVDD)                                          VCPVDD/CPVSS                   WAVEFORM
                                                              (kHz)
       1                        < 10                           ~82                ±VHPVDD/2                        Range 1
       2                     10 to 25                         ~660                ±VHPVDD/2                        Range 2
       3                        > 25                          ~500                 ±VHPVDD                         Range 3
              VHPVDD                                                  +VHPVDD
                                                     VHP_OUT                                                 VHP_OUT
              VHPVDD
                                                                         GND
                2
                GND                                                   -VHPVDD
                            CONVENTIONAL HEADPHONE BIAS                             DIRECTDRIVE HEADPHONE BIAS
Figure 39. Conventional vs. DirectDrive Headphone Output Bias
www.maximintegrated.com                                                                                      Maxim Integrated │ 143


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
Range 1 (VHP_OUT < 10% of VHPVDD): When the out-                    quiescent consumption and switching losses. To meet the
put signal level is less than 10% of HPVDD, the output              increased load power requirements, the charge-pump
signal swing is low and the power consumption for driving           switching frequency increases (~660kHz) while the bipolar
the headphone load is small relative to the charge pump             output supply rails remain at half of HPVDD or ±VHPVDD/2
quiescent consumption and switching losses. Therefore,              (Figure 40, Range 2).
to minimize switching losses, the charge-pump frequency
                                                                    Range 3 (25% of VHPVDD ≤ VHP_OUT): When the
is reduced to its lowest rate (~82kHz) and the bipolar out-
                                                                    output signal level exceeds 25% of HPVDD, the output
put supply rails are set to half of HPVDD or ±VHPVDD/2
                                                                    signal swing is much wider. As a result, the charge pump
(Figure 40, Range 1).
                                                                    now generates bipolar full HPVDD output supply rails
Range 2 (10% of VHPVDD ≤ VHP_OUT < 25% of                           (±VHPVDD). The switching frequency in this range is
VHPVDD): When the output signal level is between 10%                slightly lower (~500kHz). However, the increased voltage
and 25% of HPVDD, the output signal swing is still less             differential allows the headphone output driver to reach
than half of HPVDD. However, the load power consumption             its maximum voltage swing and load driving capability
requirements are now much higher than the charge-pump               (Figure 40, Range 3).
                      OPERATING RANGE 1                    OPERATING RANGE 2                         OPERATING RANGE 3
                     VHP_OUT < 10% VHPVDD           10% VHPVDD ≤ VHP_OUT < 25% VHPVDD               25% VHPVDD ≤ VHP_OUT
                    POSITIVE TERMINAL (C1P)               POSITIVE TERMINAL (C1P)                  POSITIVE TERMINAL (C1P)
       VHPVDD                                VHPVDD                                     VHPVDD
       VHPVDD                                VHPVDD                                     VHPVDD
          2                                     2                                          2
         GND                                   GND                                        GND
      -VHPVDD                               -VHPVDD                                    -VHPVDD
         2                                     2                                          2
      -VHPVDD                               -VHPVDD                                    -VHPVDD
                    NEGATIVE TERMINAL (C1N)               NEGATIVE TERMINAL (C1N)                  NEGATIVE TERMINAL (C1N)
       VHPVDD                                VHPVDD                                     VHPVDD
       VHPVDD                                VHPVDD                                     VHPVDD
          2                                     2                                          2
         GND                                   GND                                        GND
      -VHPVDD                               -VHPVDD                                    -VHPVDD
         2                                     2                                          2
      -VHPVDD                               -VHPVDD                                    -VHPVDD
Figure 40. Class H Amplifier Charge Pump Operating Ranges
www.maximintegrated.com                                                                                     Maxim Integrated │ 144


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
To prevent audible crosstalk, the switching frequency in    Click-and-Pop Reduction
all three charge pump ranges is well outside of the audio   The device includes extensive click-and-pop reduction
band. In addition, to prevent audible distortion during     circuitry designed to minimizes audible clicks and pops
supply range changes, the charge pump transitions from      at turn-on, turn-off, and during volume changes. These
one output power range to another very quickly. When        features include zero-crossing detection, volume change
changing from the half supply range (±VHPVDD/2) to          smoothing, and volume change stepping (Table 75).
the full supply range (±VHPVDD/2), the transition occurs
immediately if the threshold is exceeded (to avoid clipping Zero-crossing detection is available on the analog micro-
for a rapidly increasing audio output). When moving back    phone input PGAs and all analog output PGAs and
down, there is a 32ms delay between the threshold detec-    volume controls to prevent large glitches when volume
tion and the supply range transition. The quick supply      changes are made. Instead of making a volume change
level transitions draw a significant transient current from immediately, the change is made when the audio signal
HPVDD. To prevent a droop/glitch on HPVDD, the bypass       crosses the midpoint (Figure 42). If no zero crossing
capacitance must be appropriate to supply the required      occurs within the timeout window (100ms), the volume
transient current (Figures 53 and 54).                      change occurs regardless of signal level.
                                                                     32ms
                                        VHPVDD
                                                                                 VCPVDD
                                        VHPVDD
                                           2
                                       VTH_25%
                                          GND
                                      -VTH_25%                                     VHP_OUT
                                       -VHPVDD
                                           2
                                                                                  VCPVSS
                                       -VHPVDD
                                                                     32ms
Figure 41. Class H Amplifier Supply Range Transitions
                        I2C PGA                                        I2C PGA
                       VOLUME                                         VOLUME
                       CHANGE                                         CHANGE
               GND                                          GND
                         AUDIO                                           AUDIO
                       OUTPUT                                          OUTPUT
                       VOLUME                                          VOLUME
                       CHANGE                                          CHANGE
                           ZERO-CROSSING DETECTION                        ZERO-CROSSING DETECTION
                              DISABLED (ZDEN = 1)                            ENABLED (ZDEN = 0)
Figure 42. Zero-Crossing Detection
www.maximintegrated.com                                                                           Maxim Integrated │ 145


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
Table 75. Zero-Crossing Detection and Volume Smoothing Configuration Register
             ADDRESS: 0x40
                                                                                DESCRIPTION
  BIT         NAME          TYPE    POR
   7            —             —      —                                                  —
   6            —             —      —                                                  —
   5            —             —      —                                                  —
   4            —             —      —                                                  —
   3            —             —      —                                                  —
                                          Zero-Crossing Detection
   2          ZDEN           R/W      0     0: Volume changes made only at zero crossings or after approximately 100ms.
                                            1: Volume changes made immediately upon request.
                                          Enhanced Volume Smoothing
                                            Only valid is volume adjustment smoothing is enabled (VSEN = 0).
   1         VS2EN           R/W      0     0: Each volume change waits until the previous volume step has been applied to the
                                            output. Allows volume smoothing to function with zero-crossing timeout.
                                            1: Volume smoothing enhancement is disabled.
                                          Volume Adjustment Smoothing
   0          VSEN           R/W      0     0: Volume changes are smoothed by stepping through intermediate levels.
                                            1: Volume changes are made directly in a single step.
Volume smoothing is available on all analog output PGAs.             until the previous step has been set. Each step in the
When enabled, all volume changes are broken into the                 volume ramp then occurs either after a zero crossing has
smallest available step size. The volume is then ramped              occurred in the audio signal or after the timeout window
through each step between the initial and final volume set-          has expired.
ting at a rate of one step every 1ms. Volume smoothing               During PGA turn-off, volume smoothing ramps the volume
also occurs at device turn-on and turn-off. During turn-on,          down to the minimum setting, if enabled. However, to
the volume is first set to mute before the output is enabled.        prevent long turn off times enhanced volume smoothing
Once enabled, mute is first disabled and then the volume             and zero-crossing detection is not applied at PGA mute
is ramped to the programmed level. At turn-off, the volume           or turn-off. If volume smoothing is too slow or is not used,
is ramped down to the minimum gain, and then muted,                  the zero-crossing detection can still be used to minimize
before the outputs are disabled. If zero-crossing detection          click and pop when disabling an output PGA. First ramp
is enabled, each volume step occurs at a zero crossing.              the PGA volume down to (in one step or multiple steps)
When no audio signal is present, zero-crossing detection             its minimum volume setting. Zero-crossing detection is
can timeout and prevent volume smoothing from occurring.             applied to each step of the volume change. Then, once
Enable enhanced volume smoothing to prevent the                      at the minimum volume, either enable mute or disable the
volume controller from requesting another volume step                output PGA.
www.maximintegrated.com                                                                                      Maxim Integrated │ 146


MAX98090                                                                 Ultra-Low Power Stereo Audio Codec
Jack Detection                                                        Jack detection operation relies on a pullup resistance
The device features a flexible, software configurable                 to set the bias when no jack is inserted. When the
jack detection interface. Once enabled, the jack detec-               device is in shutdown mode or the microphone bias is
tion interface uses two internal comparators to sense the             disabled (MICBIAS is high impedance), an internal pul-
insertion/removal of a jack and identify the type of jack             lup is enabled on JACKSNS, and is referenced to the
inserted (headphones or headset). When the device is in               SPKLVDD supply. When the device is not in shutdown
shutdown or the microphone bias is disabled, the com-                 and the microphone bias is enabled, the internal pullup
parator thresholds are referenced to VSPKLVDD. When                   is disabled (JACKSNS is high impedance). In this state,
the device is active and microphone bias is enabled, the              successful jack detection requires an external pullup
comparator thresholds are referenced to VMICBIAS.                     on JACKSNS to MICBIAS. The jack detection internal
                                                                      interface structure and typical external application circuit
                                                                      is shown in Figure 43.
                                                            MICBIAS
                                                                                          VSPKLVDD
                                                     1µF
                        2.2kΩ
                                          1µF                                             INTERNAL
                                                            VIN+                           PULL-UP            JDETEN
                                                                                          CONTROL              JDWK
                                                            ANALOG
                                                            MIC INPUT
                                           1µF
                                                            VIN-
                                                                                                   LOAD SENSE
                                                                                                  COMPARATOR
                                                                                                                 LSNS
                                                            JACKSNS     VSPKLVDD
                                                                                  VTH
                                                                                  95%
                                                                         VMICBIAS
                                                                                                              JDETEN
                                                                                                             JDEB[1:0]
                                                           HPL            MBEN
                           MIC  GND    RIGHT     LEFT
                                                           HPR                                                  JKSNS
                                                                        VSPKLVDD
                                                                                  VTH
                                                           HPSNS                  10%              JACK SENSE
                                                                         VMICBIAS
                                                                                                  COMPARATOR
Figure 43. Block Diagram and Typical Application Circuit for Jack Detection
www.maximintegrated.com                                                                                          Maxim Integrated │ 147


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Table 76. Jack Detection Status Results
                                                                    JACK DETECTION RESULTS
                JACKSNS VOLTAGE
                                                       LSNS        JKSNS                         STATE
               VTH_95% ≤ VJACKSNS                        1            1                     No jack detected
         VTH_10% ≤ VJACKSNS < VTH_95%                    0            1                     Headset detected
               VJACKSNS < VTH_10%                        0            0                   Headphones detected
                    No condition                         1            0                   Not possible/reserved
Jack Detection Internal Comparators                         (10% of the reference supply) and JKSNS is set low to
When enabled, the device detects jack insertion and         indicate headphones are inserted. If instead, a headset
removal by monitoring the voltage on JACKSNS with two       jack is inserted (4 pole, as shown in Figure 44), instead
internal comparators. The load sense comparator has a       JACKSNS is biased to a voltage somewhere between the
95% threshold of the reference supply and is used to deter- referenced supply and ground. In this case, VJACKSNS is
mine whether or not a jack has been inserted or removed.    above the jack sense comparator threshold but below the
The jack sense comparator has a threshold of 10% of the     load sense comparator threshold. This state indicates that
reference supply, and is used to identify the type of jack  a headset is inserted. Table 76 details the three possible
(headphones/headset) inserted (Table 78).                   jack detection status results.
When a jack is not inserted (open), the pullup resistance   These comparators are only active when the JDETEN is
conducts high. In this state, VJACKSNS is above the load    set high. When jack detection is disabled, JACKSNS is
sense comparator threshold and LSNS is set high to          in a high impedance state and the interface is completely
indicate that no jack is inserted. When a jack is inserted  shut down. When the device is in shutdown and JDETEN
it loads JACKSNS and pulls the voltage below the load       is low, LSNS and JKSNS retain their previous state
sense comparator threshold. LSNS is then set low to indi-   regardless of the jack status.
cate that a jack is now inserted. When the jack is removed, Jack Detection Programmable Debounce
the pullup resistance once again conducts high and LSNS
                                                            The load sense and jack sense comparators also have a
is set high to indicate that the jack was removed.
                                                            programmable debounce timeout. The debounce timeout
When a jack is inserted, the loading on JACKSNS pulls       ensures that the jack detection status doesn’t change
the voltage below the load sense comparator threshold.      unless the new state is persistent for longer than the time-
However, depending on the type of jack connected the        out. This prevents rapid changes on LSNS and JKSNS
voltage may or may not be pulled below the jack sense       during jack insertion/removal transients, and ensures
comparator threshold. If a headphone jack is inserted       that false jack detection interrupts are not generated. The
(3 pole), JACKSNS is shorted to ground. This pulls the      debounce timeout can be programmed to one of four set-
voltage below the jack sense comparator threshold           tings from 25ms to 200ms (Table 77).
www.maximintegrated.com                                                                            Maxim Integrated │ 148


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
        1    JACK DETECTION DISABLED                                          2   OPEN JACK DETECT (INTERNAL PULLUP)
                                        HI-Z      MICBIAS                                                 HI-Z         MICBIAS
                                                                                                               1µF
                                           1µF
           JDETEN = 0      2.2kΩ                                                JDETEN = 1       2.2kΩ
          MBEN = 0 OR                             VIN+          SPKLVDD         MBEN = 0 OR                            VIN+
            SHDN = 0                 1µF                                         SHDN = 0                  1µF
          OPEN JACK                               ANALOG                        OPEN JACK                              ANALOG
                                                  MIC INPUT                                                            MIC INPUT
                                              1µF VIN-                                                             1µF VIN-
                                                                                                                                     SPKLVDD
                                                                INTERNAL
                                                                  PULLUP
                                                                DISABLED                                                              PULLUP
                                                  JACKSNS                                                              JACKSNS
                                      HI-Z                                                PULLUP PATH
                                                  HPL                                                                  HPL
                                                              JACK DETECT                                                          JACK DETECT
                                                             COMPARATORS                                                          COMPARATORS
                                                                DISABLED                                                             ENABLED
                                                  HPR                                                                  HPR
                                                  HPSNS                                                                HPSNS
                            LSNS/JKSNS =                    LSNS/JKSNS =                              LSNS = 1                      LSNS = 1
                 JDWK = 0                          JDWK = 1                           JDWK = 0                          JDWK = 1
                              LAST STATE                     LAST STATE                              JKSNS = 1                     JKSNS = 1
        3    HEADPHONE DETECT (INTERNAL PULLUP)                               4   HEADSET DETECT (INTERNAL PULLUP)
                                       HI-Z       MICBIAS                                                 HI-Z         MICBIAS
           JDETEN = 1                       1µF                                 JDETEN = 1                    1µF
                           2.2kΩ                                                                 2.2kΩ
            MBEN = 1                                                             MBEN = 1
            SHDN = 1                 1µF          VIN+                           SHDN = 1                  1µF         VIN+
          HEADPHONE                                                              HEADSET
              JACK                                ANALOG                           JACK                                ANALOG
                                                  MIC INPUT                                                            MIC INPUT
                                             1µF  VIN-                                                             1µF VIN-
                                                                 SPKLVDD                                                             SPKLVDD
                                                                  PULLUP                                                              PULLUP
                                                  JACKSNS                                                              JACKSNS
                       SHORT TO GND                                                      BIAS CURRENT
                                                  HPL                                                                  HPL
                                                              JACK DETECT                                                          JACK DETECT
                                                             COMPARATORS                                                          COMPARATORS
                     GND          RIGHT      LEFT                ENABLED          MIC      GND     RIGHT       LEFT                  ENABLED
                                                  HPR                                                                  HPR
                                                  HPSNS                                                                HPSNS
                                LSNS = 0                       LSNS = 0                               LSNS = 0                      LSNS = 0
                 JDWK = 0                          JDWK = 1                           JDWK = 0                          JDWK = 1
                               JKSNS = 0                      JKSNS = 0                              JKSNS = 1                     JKSNS = 0
Figure 44. Jack Detection Cases with Internal Pullup Resistance
www.maximintegrated.com                                                                                                  Maxim Integrated │ 149


MAX98090                                                        Ultra-Low Power Stereo Audio Codec
Jack Detection Interrupt Generation                          impedance. In this state, LSNS and JKSNS retain the last
Whenever a jack is inserted or removed and the state of      valid jack detection result. In case 2, no jack is inserted
either LSNS or JKSNS changes, a jack detection event is      and the internal pullup resistance to SPKLVDD conducts
indicated with the jack configuration change flag (JDET,     JACKSNS up above both the load and jack sense com-
Table 85). If the jack detection event is not masked         parator thresholds. In this case, with an open circuit jack,
(IJDET, Table 86), it also generates an interrupt on IRQ.    both the strong and weak internal pullups produce the
The jack detection event bit (JDET) is clear on read. An     correct jack detection result and the only power consump-
I2C read clears both the JDET bit status and the interrupt   tion is that required to bias the internal comparators. In
assertion on IRQ (if present). Unless a read occurs after    case 3, a headphone jack is inserted shorting JACKSNS
each jack detection event, both the JDET bit and the IRQ     to ground, well below both the load and jack sense
interrupt will remain asserted and no new events or inter-   comparator thresholds. In this state, both the strong and
rupts can be detected.                                       weak internal pullups produce the correct jack detection
                                                             result but the strong internal pullup consumes significantly
A change in state from LSNS = 1 to LSNS = 0 indicates        more current than the weak internal pullup. In case 4, a
that a jack has been inserted, while a change in state from  headset jack is inserted. In this state, the strong and weak
LSNS = 0 to LSNS = 1 indicates that a jack has been          internal pullups produce different jack detection results.
removed. When an insertion occurs, if JKSNS does not         The strong internal pullup biases the headset MIC (and
change and remains at JKSNS = 1, a headset insertion         JACKSNS) to a level between the load sense and jack
is indicated, while a change in state from JKSNS = 1 to      sense comparator thresholds that produces the correct
JKSNS = 0 indicates headphones have been inserted. The       jack detection result. The weak internal pullup, however,
state transitions, and the interrupt events generated, are   is not strong enough to bias a headset MIC and as a
ideally used for state machine control in any jack detection result it falsely reports that a headphones jack is present.
software drivers.
                                                             Operation with an External Pullup Resistance
Operation with an Internal Pullup Resistance
                                                             The internal pullup resistance is sufficient for wake on
The device has both a strong and weak internal pullup        interrupt or basic jack detection and identification, but
option. The internal pullup resistors are only active if     an external pullup resistance to MICBIAS is required to
the device is in shutdown (SHDN = 0,Table 6) or when         properly bias and current limit a headset microphone
MICBIAS is disabled (MBEN = 0, Table 7), and they            (Figure 43). When jack detect is enabled and the device is
allow jack detection and identification to function in those active (SHDN = 1, Table 6) with MICBIAS enabled (MBEN
states. This functionality is ideal for cases where the      = 1, Table 7), JACKSNS is placed into a high-impedance
device is put into a sleep or shutdown state, but needs to   state and the internal pullup resistor is disabled. In this
trigger a device or system level interrupt signal for wake   state, the external pullup resistor then determines the bias
on insertion operation.                                      voltage level at JACKSNS.
When JDWK is low (default, Table 77), the strong inter-      Figure 45 details the operation of jack detection with an
nal pullup is used (approximately 2.4kΩ referenced to        external pullup resistance. In Case 1, jack detection is
SPKLVDD). This configuration is capable of detecting and     disabled. As a result, the internal jack detect compara-
identifying both headphone and headset insertion. When       tors are disabled and LSNS/JKSNS retain their last valid
JDWK is high, the weak internal pullup (approximately        jack detection result. In case 2, no jack is inserted and
5µA to SPKLVDD) is used. The weak internal pullup mini-      the external pullup resistance to MICBIAS conducts
mizes the supply current after jack insertion and is ideal   JACKSNS up above both the load and jack sense
for wake on insertion cases where the system might not       comparator thresholds. In case 3, a headphone jack is
immediately power up. The weak internal pullup cannot        inserted shorting JACKSNS to ground, well below both
bias a microphone load, and therefore, cannot identify       the load and jack sense comparator thresholds. In case 4,
headset insertion or accessory button presses.               a headset jack is inserted and the external pullup biases
Figure 44 details how jack detection works with the          the headset MIC (and JACKSNS) to a level between the
internal pullup resistance. In case 1, jack detection is     load sense and jack sense comparator thresholds.
disabled and both MICBIAS and JACKSNS are high
www.maximintegrated.com                                                                              Maxim Integrated │ 150


MAX98090                                                                Ultra-Low Power Stereo Audio Codec
        1   JACK DETECTION DISABLED                                        2  OPEN JACK DETECT (INTERNAL PULLUP)
                                      HI-Z       MICBIAS                                           PULLUP PATH     MICBIAS
                                         1µF                                                              1µF
             JDETEN = 0    2.2kΩ                                             JDETEN = 1     2.2kΩ
              JDWK = X                                                        JDWK = X
                                                 VIN+         SPKLVDD                                              VIN+         SPKLVDD
              MBEN = 1               1µF                                      MBEN = 1                 1µF
              SHDN = 1                                                        SHDN = 1
             OPEN JACK                           ANALOG                      OPEN JACK                             ANALOG
                                                 MIC INPUT                                                         MIC INPUT
                                             1µF VIN-                                                          1µF VIN-
                                                              INTERNAL                                                          INTERNAL
                                                                PULLUP                                                            PULLUP
                                                              DISABLED                                                          DISABLED
                                                 JACKSNS                                                           JACKSNS
                                      HI-Z                                                               HI-Z
                                                 HPL                                                               HPL
                                                            JACK DETECT                                                       JACK DETECT
                                                           COMPARATORS                                                       COMPARATORS
                                                              DISABLED                                                           ENABLED
                                                 HPR                                                               HPR
                                                 HPSNS                                                             HPSNS
           LSNS /JKSNS =                                                       LSNS = 1
            LAST STATE                                                        JKSNS = 1
        3   HEADPHONE DETECT (INTERNAL PULLUP)                             4  HEADSET DETECT (INTERNAL PULLUP)
                                  SHORT TO GND                                                      BIAS CURRENT
                                                 MICBIAS                                                           MICBIAS
             JDETEN = 1                 1µF                                  JDETEN = 1                   1µF
              JDWK = X     2.2kΩ                                              JDWK = X      2.2kΩ
              MBEN = 1                                        SPKLVDD         MBEN = 1                                           SPKLVDD
                                     1µF         VIN+                                                  1µF         VIN+
              SHDN = 1                                                        SHDN = 1
            HEADPHONE                            ANALOG                       HEADSET                              ANALOG
                 JACK                            MIC INPUT                       JACK                              MIC INPUT
                                             1µF VIN-                                                         1µF  VIN-
                                                              INTERNAL                                                          INTERNAL
                                                                PULLUP                                                            PULLUP
                                                              DISABLED                                                          DISABLED
                                                 JACKSNS                                                           JACKSNS
                                      HI-Z                                                              HI-Z
                                                 HPL                                                               HPL
                                                            JACK DETECT                                                       JACK DETECT
                                                           COMPARATORS                                                       COMPARATORS
                    GND        RIGHT      LEFT                 ENABLED            MIC   GND      RIGHT       LEFT                ENABLED
                                                 HPR                                                               HPR
                                                 HPSNS                                                             HPSNS
               LSNS = 0                                                        LSNS = 0
              JKSNS = 0                                                       JKSNS = 1
Figure 45. Jack Detection Operation with External Pullup Resistance
www.maximintegrated.com                                                                                              Maxim Integrated │ 151


MAX98090                                                                            Ultra-Low Power Stereo Audio Codec
                       1 FALSE JACK DETECTION WITH                                                  2 SCHOTTKY DIODE BLOCKS BIAS CURRENT
                         INTERNAL ANALOG MICROPHONE                                                   PATH TO INTERNAL ANALOG MICROPHONE
                                                  1µF                                                                                1µF
                                                      VIN+                                                                                 VIN+
                                                      ANALOG                                                                               ANALOG
           JDETEN = 1                             1µF MIC INPUT 2                                                                    1µF   MIC INPUT 2
                                                                                         JDETEN = 1
            JDWK = X               2.2kΩ              VIN-                                JDWK = X                   2.2kΩ                 VIN-
           MBEN = 0 OR                                                                  MBEN = 0 OR
            SHDN = 0                                  MICBIAS                             SHDN = 0                                         MICBIAS
              OPEN                              HI-Z                                        OPEN                                   HI-Z
              JACK                                                                          JACK
                                   2.2kΩ        1µF                                                                                1µF
                                                  1µF                                                                2.2kΩ
                                                      VIN+          SPKLVDD                                                          1µF
                                                      ANALOG                                                                               VIN+          SPKLVDD
       ANALOG                                                                        ANALOG
                                                  1µF MIC INPUT 1
  SINGLE-ENDED                                                       PULLUP    SINGLE-ENDED                                                ANALOG
   MICROPHONE                                         VIN-                      MICROPHONE                                                 MIC INPUT 1    PULLUP
                                                                                                                                     1µF
                                                                                                                                           VIN-
                                                      JACKSNS                                                                              JACKSNS
                                  BIAS CURRENT PATH                                                                CURRENT PATH BLOCKED
                                                      HPL          JACK DETECT                                                             HPL          JACK DETECT
                                                                  COMPARATORS                                                                          COMPARATORS
                                                                     ENABLED                                                                              ENABLED
             LSNS = 0                                                                      LSNS = 0
            JKSNS = 1                                 HPR                                 JKSNS = 1                                        HPR
                                                      HPSNS                                                                                HPSNS
Figure 46. Jack Detection with Internal Analog Microphones
Accessory Button Detection                                                       comparator threshold. However, the external pullup to
After jack insertion, the device can detect button presses                       MICBIAS creates an unintended current path through the
on any accessories that include a microphone and a                               internal analog microphone pullup. As a result, the voltage at
switch that shorts the microphone ring to ground. Button                         JACKSNS is biased to a level between the jack sense and
presses can be detected either when MICBIAS is enabled                           load sense comparator thresholds, resulting in a false head-
or if it is disabled and the strong internal pullup is used                      set jack detection. When a headset jack is inserted, there is
(JDWK = 0). A button press changes the state of JKSNS                            a parallel load on JACKSNS between the inserted headset
from 1 to 0 until the button is released, and this change                        jack and the internal analog microphone. This could poten-
in state generates an event on the jack detection change                         tially result in a headset being reported as headphones.
flag (JDET). This event is used to trigger the appropriate                       A Schottky diode with a very low forward drop (case 2)
action associated with the key press.                                            can be inserted in series with the external pullup resis-
                                                                                 tance. When MICBIAS is disabled, the Schottky diode
Jack Detection with Internal Analog                                              is reverse biased and the current path is blocked. When
Microphones                                                                      MICBIAS is enabled, the diode is forward biased and the
If the application requires fixed internal analog                                external pullup to mic bias functions as detailed in Figure
microphone(s), and must also detect, identify, and oper-                         45. The diode does introduce a series voltage drop, and
ate with a headset microphone, the general jack dete-                            the MICBIAS voltage and/or the series resistance value
caion application circuit (Figure 43) does not operate                           might need to be adjusted to compensate and ensure that
as expected. The complication introduced by an internal                          the headset MIC is properly biased. Alternatively, a switch
analog microphone is detailed in Figure 46.                                      can be used in series either above or below the internal
When no jack is inserted (case 1) the internal pullup resis-                     analog microphone to break the bias current path when
tance attempts to pull JACKSNS above the load sense                              MICBIAS is disabled.
www.maximintegrated.com                                                                                                                  Maxim Integrated │ 152


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Table 77. Jack Detect Configuration Register
           ADDRESS: 0x3D
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Jack Detect Enable
  7        JDETEN        R/W  0   0: Jack detect circuitry disabled
                                  1: Jack detect circuitry enabled
                                 JACKSNS Pullup Configuration
                                  0: 2.4kΩ resistor to SPKLVDD (allows microphone detection)
  6         JDWK         R/W  0
                                  1: 5µA to SPKLVDD (minimizes supply current)
                                 Valid when MICBIAS = 0 or SHDN = 0.
  5           —           —   —                                            —
  4           —           —   —                                            —
  3           —           —   —                                            —
  2           —           —   —                                            —
  1                           0  Jack Detect Debounce
                                 Configures the jack detect debounce time:
          JDEB[1:0]      R/W
                                  00: 25ms                   10: 100ms
  0                           0   01: 50ms                   11: 200ms
Table 78. Jack Status Register
           ADDRESS: 0x02
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
  7           —           —   —                                            —
  6           —           —   —                                            —
  5           —           —   —                                            —
  4           —           —   —                                            —
  3           —           —   —                                            —
                                 Microphone Load Sense (Valid Only if JDETEN = 1)
                                  0: VJACKSNS ≤ 0.95V x VSUPPLY
                                  1: VJACKSNS > 0.95V x VSUPPLY
  2          LSNS         R   0
                                 VSUPPLY is determined by the state of MBEN and SHDN so that:
                                  MBEN = 0 or SHDN = 0: VSUPPLY = VSPKLVDD (internal pullup)
                                  MBEN = 1 and SHDN = 1: VSUPPLY = VMICBIAS (external pullup)
                                 Jack Connection Sense (Valid Only if JDETEN = 1)
                                  0: VJACKSNS < 0.1V x VSUPPLY
                                  1: VJACKSNS ≥ 0.1V x VSUPPLY
  1         JKSNS         R   0
                                 VSUPPLY is determined by the state of MBEN and SHDN so that:
                                 MBEN = 0 or SHDN = 0: VSUPPLY = VSPKLVDD (internal pullup)
                                 MBEN = 1 and SHDN = 1: VSUPPLY = VMICBIAS (external pullup)
  0           —           —   —                                            —
www.maximintegrated.com                                                                       Maxim Integrated │ 153


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Quick Setup Configuration                                              shared data path as part of a single sequence. This type
The quick setup configuration registers provide simple                 of sequence might not produce the desired results as later
device configuration options for commonly used signal                  quick setup bits may overwrite registers programmed by
paths and settings. Each quick setup register contains                 earlier selections.
write only, push-button configuration bits. When written               The digital audio interface (DAI) quick setup register
high, a quick configuration bit will internally set all other          (Table 79) is used to select the DAI data format. The
appropriate register bits to program the device to the                 configurations in this register program the master mode
selected configuration. Writing a logical low to a quick               clock configuration register (Table 34), the DAI format
configuration bit has no effect, and when read back all                configuration register (Table 46), and the DAI TDM control
quick configuration bits always show a logic-low.                      register (Table 47).
Quick setup bits change the state of registers appropriate             The playback path quick setup register (Table 80) is
to the selected configuration only. As such, they do not               used to configure the digital playback path and to select
remove or reset existing device settings that do not share             and program an analog output. The configuration bits in
the same configuration registers. This allows comple-                  this register program the DAI I/O configuration register
mentary selections from several different quick configura-             (Table 45), the output enable register (Table 8), and the
tion registers to be used together in a logical sequence               selected analog output mixer, volume, and control regis-
to configure the device. Do not combine multiple quick                 ters (headphones, receiver, speaker, or line output).
setup bits that configure either the same section or any
Table 79. Digital Audio Interface (DAI) Quick Setup Register
            ADDRESS: 0x06
                                                                                  DESCRIPTION
  BIT        NAME          TYPE   POR
   7            —           —       —                                                   —
   6            —           —       —                                                   —
   5          RJ_M          W        0    Sets up DAI for right-justified master mode operation.
   4           RJ_S         W        0    Sets up DAI for right-justified slave mode operation.
   3           LJ_M         W        0    Sets up DAI for left-justified master mode operation.
   2           LJ_S         W        0    Sets up DAI for left-justified slave mode operation.
   1         I2S_M          W        0    Sets up DAI for I2S master mode operation.
   0          I2S_S         W        0    Sets up DAI for I2S slave mode operation.
Table 80. Playback Path Quick Setup Register
            ADDRESS: 0x07
                                                                                  DESCRIPTION
  BIT        NAME          TYPE   POR
   7        DIG2_HP         W        0    Sets up the DAC to headphone path.
   6       DIG2_EAR         W        0    Sets up the DAC to receiver path.
   5       DIG2_SPK         W        0    Sets up the DAC to speaker path
   4       DIG2_LOUT        W        0    Sets up the DAC to line out path.
   3            —           —       —                                                   —
   2            —           —       —                                                   —
   1            —           —       —                                                   —
   0            —           —       —                                                   —
www.maximintegrated.com                                                                                      Maxim Integrated │ 154


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
The analog microphone/direct input to record path quick             The line input to record path quick setup register (Table 82)
setup register (Table 81) is used to select and program             is used to program the analog input and to configure the
an analog input and to configure the digital record path.           digital record path. The configuration bits in this register
The configuration bits in this register program the DAI I/O         program the DAI I/O configuration register (Table 45), the
configuration register (Table 45), the input enable register        input enable register (Table 7), and the appropriate input
(Table 7), and the appropriate input mixer, volume, and             mixer, volume, and control registers (single-ended or dif-
control registers (analog microphone or direct to ADC               ferential line input).
mixer).
Table 81. Analog Microphone/Direct Input to Record Path Quick Setup Register
             ADDRESS: 0x08
                                                                                DESCRIPTION
  BIT         NAME          TYPE    POR
   7       IN12_MIC1          W      0    Sets up the IN1/IN2 to microphone 1 to ADCL path
   6       IN34_MIC2          W      0    Sets up the IN3/IN4 to microphone 2 to ADCR path
   5            —            —       —    —
   4            —            —       —    —
   3      IN12_DADC           W      0    Sets up the IN1/IN2 direct to ADCL path
   2      IN34_DADC           W      0    Sets up the IN3/IN4 direct to ADCR path
   1      IN56_DADC           W      0    Sets up the IN5/IN6 direct to ADCL path (WLP only)
   0            —            —       —                                                —
Table 82. Line Input to Record Path Quick Setup Register
             ADDRESS: 0x09
                                                                                DESCRIPTION
  BIT         NAME          TYPE    POR
   7        IN12S_AB          W      0    Sets up stereo single-ended record: IN1/IN2 to line in A/B to ADCL/R
   6        IN34S_AB          W      0    Sets up stereo single-ended record: IN3/IN4 to line in A/B to ADCL/R
   5        IN56S_AB          W      0    Sets up stereo single-ended record: IN5/IN6 to line in A/B to ADCL/R (WLP only)
   4         IN34D_A          W      0    Sets up mono differential record: IN3/IN4 to line in A to ADCL
   3         IN65D_B          W      0    Sets up mono differential record: IN6/IN5 to line in B to ADCR (WLP only)
   2            —            —       —                                                —
   1            —            —       —                                                —
   0            —            —       —                                                —
www.maximintegrated.com                                                                                     Maxim Integrated │ 155


MAX98090                                                               Ultra-Low Power Stereo Audio Codec
The analog microphone input to analog output quick                  The line input to analog output quick setup register
setup register (Table 83) is used to configure the analog           (Table 84) is used to configure the analog input and to
input and to select and program an analog output. The               select and program an analog output. The configuration
configuration bits in this register program the input enable        bits in this register program the input enable register
register (Table 7), the output enable register (Table 8),           (Table 7), the output enable register (Table 8), and the
and the appropriate input and output mixer, volume, and             appropriate input and output mixer, volume, and control
control registers (analog microphone and either the head-           registers (line input and either the headphones, speaker,
phones, speaker, receiver, or line output).                         receiver, or line output).
Table 83. Analog Microphone Input to Analog Output Quick Setup Register
             ADDRESS: 0x0A
                                                                                  DESCRIPTION
  BIT         NAME           TYPE    POR
   7       IN12_M1HPL          W       0  Sets up the IN1/IN2 differential to microphone 1 to headphone left path
   6      IN12_M1SPKL          W       0  Sets up the IN1/IN2 differential to microphone 1 to speaker left path
   5       IN12_M1EAR          W       0  Sets up the IN1/IN2 differential to microphone 1 to receiver path
   4     IN12_M1LOUTL          W       0  Sets up the IN1/IN2 differential to microphone 1 to lineout left path
   3       IN34_M2HPR          W       0  Sets up the IN3/IN4 differential to microphone 2 to headphone right path
   2      IN34_M2SPKR          W       0  Sets up the IN3/IN4 differential to microphone 2 to speaker right path
   1       IN34_M2EAR          W       0  Sets up the IN3/IN4 differential to microphone 2 to receiver path
   0     IN34_M2LOUTR          W       0  Sets up the IN3/IN4 differential to microphone 2 to lineout right path
Table 84. Line Input to Analog Output Quick Setup Register
             ADDRESS: 0x0B
                                                                                  DESCRIPTION
  BIT         NAME           TYPE    POR
   7       IN12S_ABHP          W       0  Sets up the IN1/IN2 single ended to line In A/B to headphone L/R path
   6      IN34D_ASPKL          W       0  Sets up the IN3/IN4 differential to line in A to speaker left path
   5       IN34D_AEAR          W       0  Sets up the IN3/IN4 differential to line in A to receiver path
   4     IN12S_ABLOUT          W       0  Sets up the IN1/IN2 single ended to line in A/B to lineout L/R path
   3       IN34S_ABHP          W       0  Sets up the IN3/IN4 single ended to line in A/B to headphone L/R path
   2      IN65D_BSPKR          W       0  Sets up the IN6/IN5 differential to line in B to speaker right path (WLP only)
   1       IN65D_BEAR          W       0  Sets up the IN6/IN5 differential to line in B to receiver path (WLP only)
   0     IN34S_ABLOUT          W       0  Sets up the IN3/IN4 single ended to line in A/B to lineout L/R path
www.maximintegrated.com                                                                                         Maxim Integrated │ 156


MAX98090                                                                   Ultra-Low Power Stereo Audio Codec
Device Status Flags                                                     operation. When first exiting shutdown (into normal opera-
The device uses register 0x01 (Table 85) and IRQ to report              tion), other status flags may assert based on the device
the status of various device functions. The status register             settings, register sequencing, and clock sequencing.
bits are set when their respective events occur, and cleared            Status Flag Masking
upon reading the register. Device status can be determined
                                                                        Register 0x03, the device status interrupt mask register
either by polling register 0x01, or by configuring IRQ to pull
low when specific events occur. IRQ is an open-drain out-               (Table 86) determines which bits in the device status inter-
put that requires a pullup resistor (10kΩ nominal) for proper           rupt register (Table 85) can trigger a hardware interrupt
Table 85. Device Status Interrupt Register
             ADDRESS: 0x01
                                                                                    DESCRIPTION
  BIT         NAME           TYPE    POR
                                           Clipping Detect Flag
                                              0: No clipping has occurred.
                                              1: Digital record / playback clipping has occurred.
   7           CLD            CoR      0   CLD asserts when the digital record or playback path is clipping due to signal amplitude
                                           exceeding full-scale. This condition is detected at the record path gain control output
                                           (AVLG/AVRG), the playback path gain control output (DVG), and the parametric equalizer
                                           output. To resolve, adjust the gain settings near these detection points.
                                           Slew Level Detect Flag
                                              0: No volume slewing sequences have completed.
                                              1: All volume / level slewing complete.
                                           SLD asserts when any one (or more) of the programmable-gain analog output volume
   6            SLD           CoR      0
                                           controllers or digital level control arrays has completed slewing from a previous setting
                                           to a new programmed setting. If multiple settings are changed at the same time, in either
                                           the analog or digital domain, the SLD flag will assert only after the last slew is completed.
                                           SLD also asserts when the serial interface soft-start or soft-stop process has completed.
                                           Digital Audio Interface (DAI) Phase Locked Loop (PLL) Unlock Flag
                                              0: PLL is locked (if enabled and operating properly).
                                              1: PLL is not locked (if enabled and operating properly).
                                           ULK reports that the digital audio phase-locked loop for DAI is not locked. This condition
   5            ULK           CoR      0   only occurs in slave mode when the deviation on LRCLK relative to PCLK exceeds the
                                           lock on range (approximately 4 PCLK periods). This condition can also occur if PCLK
                                           is running and LRCLK has been stopped outside of shutdown. Deviation in BCLK (or
                                           shutting it down) will never trigger a ULK assertion. DAI input and output data may not be
                                           processed / clocked correctly if a ULK event occurs.
   4             —             —      —                                                    —
   3             —             —      —                                                    —
                                           Jack Configuration Change Flag
                                              0: No change in jack configuration.
                                              1: Jack configuration has changed.
   2           JDET           CoR      0
                                           JDET asserts anytime jack detection is enabled, and either LSNS or JKSNS changes
                                           state (Table 78). If jack detection is enabled, JDET will assert correctly even while the
                                           device is in the shutdown state. This allows JDET to generate wake on insert interrupts.
                                           DRC Compression Flag
   1         DRCACT           CoR      0      0: The DRC is either disabled or not in the compression region.
                                              1: The DRC is operating in the compression region.
                                           DRC Clipping Flag
   0         DRCCLP           CoR      0      0: The DRC is either disabled or no clipping has occurred.
                                              1: DRC clipping has occurred.
www.maximintegrated.com                                                                                          Maxim Integrated │ 157


MAX98090                                                              Ultra-Low Power Stereo Audio Codec
on IRQ (assert low). By default, all of the device status          Device Revision Identification
interrupts (except JDET) only set the corresponding                The device provides a Revision ID Number register to
status bit and do not generate a hardware interrupt. Set           allow the software to identify the current version of the
the corresponding bit high in the mask register to enable          device. The current device revision ID value is 0x43.
hardware interrupts.
Table 86. Device Status Interrupt Mask Register
             ADDRESS: 0x03
                                                                              DESCRIPTION
  BIT         NAME        TYPE    POR
                                        Clipping Detect Interrupt Enable
   7           ICLD        R/W     0     0: Clipping detection only sets CLD (0x01[7]).
                                         1: Clipping detection triggers IRQ and sets CLD (0x02[7]).
                                        Slew Level Detect Interrupt Enable
   6           ISLD        R/W     0     0: Slew level detection only sets SLD (0x01[6]).
                                         1: Slew level detection triggers IRQ and sets SLD (0x02[6]).
                                        Digital PLL Unlock Interrupt Enable
   5           IULK        R/W     0     0: PLL Unlock Condition only sets ULK (0x01[5]).
                                         1: PLL Unlock Condition triggers IRQ and sets ULK (0x02[5]).
   4             —          —      —                                                —
   3             —          —      —                                                —
                                        Jack Configuration Change Interrupt Enable
   2          IJDET        R/W     1     0: Changes in headset configuration only sets JDET (0x01[2]).
                                         1: Changes in headset configuration triggers IRQ and sets JDET (0x01[2]).
                                        DRC Compression Interrupt Enable
   1        IDRCACT        R/W     0     0: DRC compression only sets DRCACT (0x01[1]).
                                         1: DRC compression triggers IRQ and sets DRCACT (0x01[1]).
                                        DRC Clipping Interrupt Enable
   0        IDRCCLP        R/W     0     0: DRC clipping only sets DRCCLP (0x01[0]).
                                         1: DRC clipping triggers IRQ and sets DRCCLP (0x01[0]).
Table 87. Revision ID Number Register
             ADDRESS: 0xFF
                                                                              DESCRIPTION
  BIT         NAME        TYPE    POR
   7                               0
   6                               1
   5                               0
   4                               0    Read Back the Revision ID of the Device
           REV_ID[7:0]      R
   3                               0    The current revision ID is 0x43.
   2                               0
   1                               1
   0                               1
www.maximintegrated.com                                                                                 Maxim Integrated │ 158


MAX98090                                                         Ultra-Low Power Stereo Audio Codec
I2C Serial Interface                                          Bit Transfer
The MAX98090 features an I2C/SMBus-compatible,                One data bit is transferred during each SCL cycle. The
2-wire serial interface consisting of a serial data line      data on SDA must remain stable during the high period of
(SDA) and a serial clock line (SCL). SDA and SCL              the SCL pulse. Changes in SDA while SCL is high are con-
facilitate communication between the MAX98090 and the         trol signals. See the START and STOP Conditions section.
master at clock rates up to 400kHz. Figure 3 shows the        START and STOP Conditions
2-wire interface timing diagram. The master generates         SDA and SCL idle high when the bus is not in use. A
SCL and initiates data transfer on the bus. The master        master initiates communication by issuing a START con-
device writes data to the MAX98090 by transmitting the        dition. A START condition is a high-to-low transition on
proper slave address followed by the register address and     SDA with SCL high. A STOP condition is a low-to-high
then the data word.                                           transition on SDA while SCL is high. A START condition
Each transmit sequence is framed by a START (S) or            from the master signals the beginning of a transmission
REPEATED START (Sr) condition and a STOP (P) condi-           to the MAX98090. The master terminates transmission,
tion. Each word transmitted to the MAX98090 is 8 bits long    and frees the bus, by issuing a STOP condition. The bus
and is followed by an acknowledge clock pulse. A master       remains active if a REPEATED START condition is gener-
reading data from the MAX98090 transmits the proper           ated instead of a STOP condition.
slave address followed by a series of nine SCL pulses.
The MAX98090 transmits data on SDA in sync with the
                                                              Early STOP Conditions
master-generated SCL pulses. The master acknowl-              The MAX98090 recognizes a STOP condition at any point
edges receipt of each byte of data. Each read sequence        during data transmission except if the STOP condition
is framed by a START (S) or REPEATED START (Sr)               occurs in the same high pulse as a START condition. For
condition, a not acknowledge, and a STOP (P) condition.       proper operation, do not send a STOP condition during
SDA operates as both an input and an open-drain output.       the same SCL high pulse as the START condition.
A pullup resistor, typically greater than 500Ω, is required   Slave Address
on SDA. SCL operates only as an input. A pullup resistor,
                                                              The slave address is defined as the seven most sig-
typically greater than 500Ω, is required on SCL if there are
                                                              nificant bits (MSBs) followed by the read/write bit. For the
multiple masters on the bus, or if the single master has an
                                                              MAX98090A, the seven most significant bits are 0010000.
open-drain SCL output. Series resistors in line with SDA
                                                              Setting the read/write bit to 1 (slave address = 0x21)
and SCL are optional. Series resistors protect the digital
                                                              configures the MAX98090A for read mode. Setting the
inputs of the MAX98090 from high voltage spikes on the
                                                              read/write bit to 0 (slave address = 0x20) configures the
bus lines, and minimize crosstalk and undershoot of the
                                                              MAX98090A for write mode. The address is the first byte
bus signals.
                                                              of information sent to the MAX98090 after the START
                                                              condition. Similarly, for the MAX98090B, the seven most
Table 88. Device I2C Slave Address                            significant bits are 0010001. Setting the read/write bit to
   PART NUMBER        READ ADDRESS        WRITE ADDRESS       1 (slave address = 0x23) configures the MAX98090B for
                                                              read mode. Setting the read/write bit to 0 (slave address
     MAX98090A               0x21               0x20
                                                              = 0x22) configures the MAX98090B for write mode. The
     MAX98090B               0x23               0x22          slave address are summarized in Table 88.
                                              S              Sr                 P
                                SCL
                                SDA
Figure 47. START, STOP, and REPEATED START Conditions
www.maximintegrated.com                                                                            Maxim Integrated │ 159


MAX98090                                                                      Ultra-Low Power Stereo Audio Codec
Acknowledge                                                               the master after each read byte to allow data transfer to
The acknowledge bit (ACK) is a clocked 9th bit that the                   continue. A not acknowledge is sent when the master
MAX98090 uses to handshake receipt each byte of data                      reads the final byte of data from the MAX98090, followed
when in write mode. The MAX98090 pulls down SDA                           by a STOP condition.
during the entire master-generated 9th clock pulse if the                 Write Data Format
previous byte is successfully received. Monitoring ACK                    A write to the MAX98090 includes transmission of a
allows for detection of unsuccessful data transfers. An                   START condition, the slave address with the R /W bit set
unsuccessful data transfer occurs if a receiving device                   to 0, one byte of data to configure the internal register
is busy or if a system fault has occurred. In the event                   address pointer, one or more bytes of data, and a STOP
of an unsuccessful data transfer, the bus master retries                  condition. Figure 49 illustrates the proper frame format
communication. The master pulls down SDA during the                       for writing one byte of data to the MAX98090. Figure 50
9th clock cycle to acknowledge receipt of data when the                   illustrates the frame format for writing n-bytes of data to
MAX98090 is in read mode. An acknowledge is sent by                       the MAX98090.
                                                                                    CLOCK PULSE FOR
                                      START                                        ACKNOWLEDGMENT
                                   CONDITION
                                 SCL                   1        2                  8         9
                                                                        NOT ACKNOWLEDGE
                                 SDA
                                                                             ACKNOWLEDGE
Figure 48. Acknowledge Timing
                                                                                                    ACKNOWLEDGE FROM MAX98090
                                                                                               B7   B6  B5   B4   B3   B2   B1  B0
               ACKNOWLEDGE FROM MAX98090                 ACKNOWLEDGE FROM MAX98090
   S             SLAVE ADDRESS           O   A              REGISTER ADDRESS              A                 DATA BYTE                A    P
                                  R/W                                                                         1 BYTE
                                                                                                AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 49. Writing One Byte of Data to the MAX98090
                                                                  ACKNOWLEDGE FROM MAX98090            ACKNOWLEDGE FROM MAX98090
                                                                     B7 B6 B5 B4 B3 B2 B1 B0               B7 B6 B5 B4 B3 B2 B1 B0
     ACKNOWLEDGE FROM MAX98090       ACKNOWLEDGE FROM MAX98090
      S      SLAVE ADDRESS     O   A       REGISTER ADDRESS        A        DATA BYTE 1           A                DATA BYTE n        A  P
                          R/W                                                  1 BYTE                                1 BYTE
                                                                       AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 50. Writing n-Bytes of Data to the MAX98090
www.maximintegrated.com                                                                                                  Maxim Integrated │ 160


MAX98090                                                                     Ultra-Low Power Stereo Audio Codec
The slave address with the R /W bit set to 0 indicates that               The first byte transmitted from the MAX98090 is the con-
the master intends to write data to the MAX98090. The                     tents of register 0x00. Transmitted data is valid on the
MAX98090 acknowledges receipt of the address byte                         rising edge of SCL. The address pointer autoincrements
during the master-generated 9th SCL pulse.                                after each read data byte. This autoincrement feature
The second byte transmitted from the master configures                    allows all registers to be read sequentially within one con-
the MAX98090’s internal register address pointer. The                     tinuous frame. A STOP condition can be issued after any
pointer tells the MAX98090 where to write the next byte                   number of read data bytes. If a STOP condition is issued
of data. An acknowledge pulse is sent by the MAX98090                     followed by another read operation, the first data byte to
upon receipt of the address pointer data.                                 be read will be from register 0x00.
The third byte sent to the MAX98090 contains the data                     The address pointer can be preset to a specific register
that is written to the chosen register. An acknowledge                    before a read command is issued. The master presets the
pulse from the MAX98090 signals receipt of the data
                                                                          address pointer by first sending the MAX98090’s slave
byte. The address pointer autoincrements to the next
                                                                          address with the R/W bit set to 0 followed by the register
register address after each received data byte. This auto-
                                                                          address. A REPEATED START condition is then sent fol-
increment feature allows a master to write to sequential
registers within one continuous frame. The master signals                 lowed by the slave address with the R/W bit set to 1. The
the end of transmission by issuing a STOP condition.                      MAX98090 then transmits the contents of the specified
Register addresses greater than 0xE7 are reserved. Do                     register, and the address pointer autoincrements after
not write to these addresses.                                             transmitting the first byte.
                                                                          The master acknowledges receipt of each read byte
Read Data Format                                                          during the acknowledge clock pulse. The master must
Send the slave address with the R/W bit set to 1 to initiate              acknowledge all correctly received bytes except the last
a read operation. The MAX98090 acknowledges receipt                       byte. The final byte must be followed by a not acknowl-
of its slave address by pulling SDA low during the 9th SCL                edge from the master and then a STOP condition.
clock pulse. A START command followed by a read com-                      Figure 51 illustrates the frame format for reading one byte
mand resets the address pointer to register 0x00.                         from the MAX98090. Figure 52 illustrates the frame for-
                                                                          mat for reading multiple bytes from the MAX98090.
                                                                                                     NOT ACKNOWLEDGE FROM MASTER
         ACKNOWLEDGE FROM MAX98090    ACKNOWLEDGE FROM MAX98090        ACKNOWLEDGE FROM MAX98090
       S       SLAVE ADDRESS    O   A      REGISTER ADDRESS       A Sr       SLAVE ADDRESS       1   A         DATA BYTE          A  P
                           R/W                       REPEATED START                        R/W                  1 BYTE
                                                                                           AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 51. Reading One Byte of Data from the MAX98090
      ACKNOWLEDGE FROM MAX98090     ACKNOWLEDGE FROM MAX98090       ACKNOWLEDGE FROM MAX98090
     S       SLAVE ADDRESS    O   A      REGISTER ADDRESS       A Sr      SLAVE ADDRESS       1    A                 DATA BYTE         A
                         R/W                       REPEATED START                        R/W                          1 BYTE
                                                                                             AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 52. Reading n-Bytes of Data from the MAX98090
www.maximintegrated.com                                                                                                Maxim Integrated │ 161


MAX98090                                                                                             Ultra-Low Power Stereo Audio Codec
Applications Information
Typical Application Circuits
Figures 53 and 54 are two example application circuits for the device. The external components shown are the minimum
required for the device to operate. Additional application specific components might be required.
                                                                     1.8V                            1.2V                 3.7V
                                                 1µF        0.1µF            10µF       1µF 1µF           1µF        10µF                  1µF
                                                         AVDD      HPVDD       DVDDIO               DVDD       SPKLVDD*         SPKLVDD*
                                            1.8V                                                                                                 2.2µF
                                                                                                                                           REF
                                      10kΩ
                                                                                                                                                 1µF
                  CONTROLLER                        IRQ                                                                                   VBIAS
                      INTERUPT
                                                    SDA
                I2C INTERFACE
                                                    SCL
                                                                                                                                                                   RECEIVER/
               MASTER CLOCK                         MCLK                                                                           RCVP/LOUTL                      LINE OUTPUT
                                                                                                                                                             16Ω/
             (10MHz TO 60MHz)
                                                                                                                                  RCVN/LOUTR                 32Ω   (RECEIVER
                                                                                                                                                                   BTL MODE)
                                                    BCLK
                DIGITAL AUDIO                       LRCLK                                                                                                          LEFT
                                                                                                                                        SPKLP                 4Ω/
                    INTERFACE                                                                                                                                      SPEAKER
                                                    SDIN                                                                                SPKLN                 8Ω
                     PORT (DAI)                                                                                                                                    OUTPUT
                                                    SDOUT
                                                                                                                                        SPKRP                      RIGHT
                                                                                                                                                              4Ω/
                                MICBIAS                                                                                                                            SPEAKER
                                                                                                                                        SPKRN                 8Ω
                                                                                                                                                                   OUTPUT
                           2.2kΩ                                                            MAX98090
                                            1µF
           ANALOG                                   IN1/DMD
     SINGLE-ENDED                           1µF
      MICROPHONE                                                                                                                           HPL
                                                    IN2/DMC
                                                                                                                                                                HEADPHONE
                                                                                                                                           HPR
                                                                                                                                                                OUTPUT JACK
                                MICBIAS
                                                                                                                                        HPSNS
                             1kΩ
                                            1µF
                                                    IN3
           ANALOG
      DIFFERENTIAL                          1µF
      MICROPHONE
                                                    IN4
                                                                                                                                      JACKSNS
                             1kΩ
                                                                                                                                                           2.2kΩ
                                                                                                                                       MICBIAS
                                           1µ F
                                                                                                                                                            1µF
                   LINE INPUT/                      IN5*
                     EXTERNAL                                                                                                                   MICBIAS
                                           1µF
                 MICROPHONE
                                                    IN6*
                                                      AGND     HPGND     DGND     SPKLGND SPKRGND CPVDD         CPVSS       C1N         C1P
                                                                                                                                  1µF
                                                                                                           1µF        1µF
                                    *IN5 AND IN6 ARE WLP PACKAGE ONLY. SPKLVDD/SPKRVDD ARE TITLED SPKVDD ON THE WLP PACKAGE (BYPASS EACH SPKVDD AS SHOWN).
Figure 53. Typical Application Circuit with Analog Microphone Inputs and Receiver Output
www.maximintegrated.com                                                                                                                                 Maxim Integrated │ 162


MAX98090                                                                                   Ultra-Low Power Stereo Audio Codec
                                                        1.8V                              1.2V                3.7V
                                    1µF         0.1µF           10µF        1µF   1µF          1µF       10µF                   1µF
                                             AVDD      HPVDD       DVDDIO                DVDD      SPKLVDD*         SPKRVDD*        2.2µF
                               1.8V
                                                                                                                              REF
                         10kΩ                                                                                                       1µF
                                                                                                                             VBIAS
       CONTROLLER                       IRQ
           INTERUPT
                                        SDA
                                                                                                                                    1µF
     I2C INTERFACE
                                        SCL                                                                           RCVP/LOUTL                     RECEIVER/
                                                                                                                                                     LINE OUTPUT
                                                                                                                                    1µF
    MASTER CLOCK                        MCLK                                                                                                         (SINGLE-ENDED
  (10MHz TO 60MHz)                                                                                                   RCVN/LOUTR                      LINE OUT MODE)
                                        BCLK
                                                                                                                           SPKLP                     LEFT
                                        LRCLK                                                                                                  4Ω/   SPEAKER
      DIGITAL AUDIO                                                                                                        SPKLN               8Ω    OUTPUT
         INTERFACE                      SDIN
          PORT (DAI)
                                        SDOUT
                                                                              MAX98090                                     SPKRP                     RIGHT
                                                                                                                                               4Ω/   SPEAKER
                                                                                                                           SPKRN               8Ω    OUTPUT
                      DATA              IN1/DMD
             DIGITAL
     MICROPHONE 1
                     CLOCK
                                                                                                                              HPL
                                                                                                                                                   HEADPHONE
                                                                                                                              HPR
                                                                                                                                                   OUTPUT JACK
                      DATA
             DIGITAL                                                                                                       HPSNS
     MICROPHONE 2
                     CLOCK              IN2/DMC
                              1µF
                                        IN3
      DIFFERENTIAL                                                                                                       JACKSNS
         LINE INPUT           1µF
                                        IN4                                                                                                   2.2kΩ
                              1µF                                                                                         MICBIAS
                                        IN5*                                                                                                   1µF
      DIFFERENTIAL
         LINE INPUT           1µF
                                        IN6*
                                          AGND     HPGND     DGND    SPKLGND SPKRGND    CPVDD       CPVSS      C1N          C1P
                                                                                                                     1µF
                                                                                               1µF        1µF
                       *IN5 AND IN6 ARE WLP PACKAGE ONLY. SPKLVDD/SPKRVDD ARE TITLED SPKVDD ON THE WLP PACKAGE (BYPASS EACH SPKVDD AS SHOWN).
Figure 54. Typical Application Circuit with Digital Microphone Input and Stereo Line Outputs
www.maximintegrated.com                                                                                                                   Maxim Integrated │ 163


MAX98090                                                                  Ultra-Low Power Stereo Audio Codec
Startup/Shutdown Register Sequencing                                   5) If volume smoothing is disabled (Table 75), ramp the
To ensure proper device initialization and minimal click-                  volume up, one register step at a time, from the mini-
and-pop, program the devices control registers in the                      mum setting until the desired volume (gain) is reached
correct order. To shut down the device, simply set                         (this sequence is part of the example in Table 89). If
SHDN = 0. Table 89 details an example startup sequence                     volume smoothing is enabled, this sequence is auto-
for the device. To minimize click and pop on the analog                    matically implemented and the desired volume (gain)
output drivers (headphones, speakers, receiver, and line                   can be programmed in a single step.
outputs), the output drivers should be powered using the               While many configuration options and settings can be
following sequence:                                                    changed while the device is operating (SHDN = 1),
1) Prior to powering the device (SHDN = 0) and before                  some settings should only be adjusted with the device
    enabling the outputs, the output driver mute(s) should             in shutdown (SHDN = 0). Table 90 lists the registers and
    be enabled and the PGA gain(s) should be set to their              bits that should not be changed during active operation.
    lowest setting.                                                    Changing these settings during normal operation (SHDN
                                                                       = 1) can compromise device stability and performance
2) After all configuration settings are complete, power up             specifications. All external clocks (MCLK in master mode
    the device (SHDN = 1).                                             and MCLK, LRCLK, and BCLK in slave mode) must
3) Enable any analog outputs that are part of the desired              be running and stable before the device is taken out of
    configuration.                                                     shutdown. If the clocks are enabled or changed while
4) Disable the mute on each respective analog output.                  the device is active (not in shutdown) phase errors and
                                                                       audible glitches may be introduced.
Table 89. Detailed Device Startup Sequence
  SEQUENCE                                  DESCRIPTION                                                REGISTERS
        1         Set SHDN = 0                                                                   0x45 (Default POR State)
        2         Configure Clocks (also enable all external clocks)                                   0x1B to 0x21
        3         Configure Digital Audio Interface (DAI)                                              0x22 to 0x25
        4         Configure Digital Signal processing (DSP)                           0x17 to 0x1A, 0x26 to 0x28, 0x33 to 0x36, 0x41
        5         Load Coefficients                                                                    0x46 to 0xBD
        6         Configure Power and Bias Mode                                                        0x42 to 0x44
                                                                                        0x0D, 0x15, 0x16, 0x29, 0x2A, 0x2B, 0x2E,
        7         Configure Analog Mixers
                                                                                                     0x2F, 0x37, 0x3A
                  Configure Analog Gain and Volume Controls. To Minimize Click
                                                                                        0x0E to 0x11, 0x2B to 0x2D, 0x30 to 0x32,
        8         and Pop for Analog Outputs, Enable Mute and Set the Output
                                                                                                 0x38, 0x39, 0x3B to 0x3F
                  PGAs to the minimum gain setting, Enable DAC/ADC.
        9         Configure Miscellaneous Functions                                            0x03, 0x12, 0x13, 0x14, 0x40
       10         Set SHDN = 1 (Power Up)                                                                  0x45
        11        Disable Mute on Analog Output Drivers                                    0x2C, 0x2D, 0x31, 0x32, 0x39, 0x3C
                  For all Analog Output Drivers, if Gain Smoothing is Disabled
                  Ramp the Gain up One Volume Step per Write until the Desired                      0x30 to 0x32, 0x38,
       12
                  Gain is Reached. If it is Enabled, Program the Desired Gain in a                   0x39, 0x3B, 0x3C
                  Single Step.
Table 90. Register Changes that Require SHDN = 0
                            DESCRIPTION                                                         REGISTER
  Clock Control and Quick Configuration Registers                                       0x04 to 0x0B, 0x1B to 0x26
  DAC/ADC Enables (only these bits)                                                             0x3E, 0x3F
  Bias/DAC/ADC Control                                                                         0x42 to 0x44
  Digital Signal Processing Enables and Coefficients                                 0x33 to 0x35, 0x41, 0x46 to 0xBD
  Digital Microphone Configuration                                                              0x13, 0x14
www.maximintegrated.com                                                                                         Maxim Integrated │ 164


MAX98090                                                        Ultra-Low Power Stereo Audio Codec
External Supply Sequencing                                  The value of the flying capacitor (connected between
When powering-up the device, there is no requirement        C1N and C1P) affects the output resistance of the charge
for the sequence with which each supply is applied. All     pump. A value that is too small degrades the device’s
supplies must be brought to their nominal voltage before    ability to provide sufficient current drive, which leads to a
the part can be configured for proper operation. The part   loss of output voltage. Increasing the value of the flying
should be placed into software shutdown before any          capacitor reduces the charge-pump output resistance to
supplies are removed to avoid audible artifacts. Register   an extent. Above 1µF, the on-resistance of the internal
settings are retained as long as supply voltages are kept   switches and the ESR of external charge pump capaci-
above the power-on-reset voltages listed in Table 91.       tors dominate.
                                                            The holding capacitor (bypassing HPVSS) value and ESR
Table 91. Power-On Reset Voltage                            directly affect the ripple at HPVSS. Increasing the capaci-
             SUPPLY                     POR VOLTAGE         tor’s value reduces output ripple. Likewise, decreasing
              AVDD                           1.0V           the ESR reduces both ripple and output resistance. Lower
                                                            capacitance values can be used in systems with low maxi-
             HPVDD                          NO POR
                                                            mum output power levels. See the Output Power vs. Load
              DVDD                           1.0V           Resistance graph in the Typical Operating Characteristics
             DVDDIO                         NO POR          section for more information.
             SPKVDD                          1.2V           Filterless Class D Speaker Operation
                                                            Traditional Class D amplifiers require an output filter to
Component Selection                                         recover the audio signal from the amplifier’s output. The
AC-Coupling Capacitors                                      filters add cost, increase the solution size of the amplifier,
An input capacitor, CIN, in conjunction with the input      and can decrease efficiency and THD+N performance.
impedance of the device line inputs forms a highpass        The traditional PWM scheme uses large differential output
filter that removes the DC bias from an incoming analog     swings (2 x SPK_VDD peak to peak) and causes large
signal. The AC-coupling capacitor allows the amplifier      ripple currents. Any parasitic resistance in the filter com-
to automatically bias the signal to an optimum DC level.    ponents results in a loss of power, lowering the efficiency.
Assuming very low source impedance (comparatively),         For typical applications (such as handsets, tablets, etc.)
the -3dB point of the highpass filter is given by:          where the trace length from driver the speaker is short
                                    1                       and low impedance, the device does not require an output
                   f −3dB =                                 filter. The device relies on the inherent inductance of the
                            2π × R IN × C IN
                                                            speaker coil and the natural filtering of both the speaker
Choose CIN such that f-3dB is well below the lowest fre-    and the human ear to recover the audio component of the
quency of interest. For best audio quality, use capacitors  square-wave output. Eliminating the Class D output filter
whose dielectrics have low-voltage coefficients, such       results in a smaller, less costly, and more efficient solution.
as tantalum or aluminum electrolytic. Capacitors with       In cases where the trace/wire length is long, and/or series
high-voltage coefficients, such as ceramics, can result     resistance/inductance is high, an output LC filter might be
in increased distortion at low frequencies. If needed, line required. In such a case, if the nominal impedance of the
output AC-coupling capacitor values can be calculated in    load is not constant over the entire audio band, a Zobel
similar fashion by using the input resistance of the next   (impedance matching) circuit might be required.
stage connected to the line output drivers.                 Because the frequency of the IC’s output is well beyond
                                                            the bandwidth of most speakers, voice coil movement due
Charge-Pump Capacitor Selection
                                                            to the square-wave frequency is very small. Although this
Use capacitors with an ESR less than 100mΩ for optimum      movement is small, a speaker not designed to handle the
performance. Low-ESR ceramic capacitors minimize            additional power can be damaged. For optimum results,
the output resistance of the charge pump. Most surface      use a speaker with a series inductance > 10µH. Typical
mount ceramic capacitors satisfy the ESR requirement.       8Ω speakers exhibit series inductances in the 20µH to
For best performance over the extended temperature          100µH range.
range, select capacitors with an X7R dielectric.
                                                            EMI Considerations and Optional
www.maximintegrated.com                                                                             Maxim Integrated │ 165


MAX98090                                                       Ultra-Low Power Stereo Audio Codec
Ferrite Bead Filter
Reducing trace length minimizes radiated EMI. On the
PCB, route SPKLP/SPKLN and SPKRP/SPKRN as differ-                                SPK_P
                                                                     MAX98090
ential pairs with the shortest trace lengths possible. This                      SPK_N
minimizes trace loop area, and thereby, the inductance of
the circuit. If filter components are used on the speaker
outputs, minimize the trace length from any ground tied
passive components to SPK_GND to further minimize
                                                            Figure 55. Optional Class D Ferrite Bead EMI Filter
radiated EMI.
In applications where speaker leads/wires are long
(exceeding approximately 12in), additional EMI suppres-
sion can be achieved by using a filter constructed from a                           HPL
ferrite bead and a capacitor to ground (Figure 55). Use
                                                                                   HPR
a ferrite bead with low DC resistance, high frequency (>
600MHz) impedance between 100Ω and 600Ω, and rated                               HPSNS
for at least 1A. The capacitor value varies based on the                 MAX98090
ferrite bead chosen and the actual speaker lead length.
                                                                               JACKSNS
Select a capacitor less than 1nF with the value based
upon optimizing EMI performance.
RF Susceptibility
GSM radios transmit using time-division multiple access     Figure 56. Optional Class H Output RFI Filter
(TDMA) with 217Hz intervals. The result is an RF signal
with strong amplitude modulation at 217Hz and its har-
monics that is easily demodulated by audio amplifiers.      Additional RF immunity can also be obtained by rely-
The device is designed specifically to reject RF signals;   ing on the self-resonant frequency of capacitors, as it
however, PCB layout has a large impact on the suscepti-     exhibits a frequency response similar to a notch filter.
bility of the end product.                                  Depending on the manufacturer, 10pF to 20pF capacitors
                                                            typically exhibit self-resonance at RF (high) frequencies.
In RF applications, improvements to both layout and
                                                            These capacitors, when placed at the input pins, can
component selection decreases the susceptibility to RF
                                                            effectively shunt the RF noise at the inputs of the device.
noise and prevent RF signals from being demodulated
                                                            For these capacitors to be effective, they must have a
into audible noise. Trace lengths should be kept below
                                                            low-impedance, low-inductance path to the ground plane.
1/4 of the wavelength of the RF frequency of interest.
                                                            Avoid using micro vias to connect to the ground plane as
Minimizing the trace lengths prevents them from function-
                                                            these vias do not conduct well at RF frequencies. At the
ing as antennas and coupling RF signals into the device.
                                                            Headphone outputs, additional RFI can be achieved by
The wavelength (λ) in meters is given by: λ = c/f, where c
                                                            using series ferrite beads with the parallel capacitors to
= 3 x 108 m/s, and f = the RF frequency of interest.
                                                            ground (Figure 56).
Route audio signals on inner layers of the PCB to allow
ground planes above and below to shield them from RF
interference. Ideally the top and bottom layers of the PCB
should primarily be ground planes to create effective
shielding.
www.maximintegrated.com                                                                             Maxim Integrated │ 166


MAX98090                                                             Ultra-Low Power Stereo Audio Codec
                  LAYER 1                                  LAYER 2                                     LAYER 3
Figure 57. PCB Breakout Routing Example for WLP Package
Supply Bypassing, Layout, and Grounding                            HPSNS senses ground noise on the headphone jack and
Proper layout and grounding are essential for optimum              adds the same noise to the output audio signal, thereby
performance. When designing a PCB layout, partition                making the output (headphone output, ground) noise free.
the circuitry so that the analog sections of the device are        Connect HPSNS to the headphone jack shield to ensure
separated from the digital sections. This ensures that the         accurate pickup of headphone ground noise.
analog audio traces are not routed near digital traces.            Bypass SPK_VDD to SPK_GND with the shortest trace
Use a large continuous ground plane on a dedicated                 length possible and connect SPKLP, SPKLN, SPKRP, and
layer of the PCB to minimize loop areas. Connect AGND,             SPKRN to the stereo speakers using the shortest traces
DGND, and HPGND directly to the ground plane using the             possible. If filter components are used on the speaker
shortest trace length possible. Proper grounding improves          outputs, be sure to locate them as close as possible to the
audio performance, minimizes crosstalk between chan-               device to ensure maximum effectiveness.
nels, and prevents any digital noise from coupling into the        Route microphone signals from the microphone to the
analog audio signals.                                              device as a differential pair, ensuring that the positive
Ground the bypass capacitors on MICBIAS, BIAS and                  and negative signals follow the same path as closely
REF directly to the ground plane with minimum trace                as possible with equal trace length. When using single-
length. Also be sure to minimize the path length to AGND,          ended microphones or other single-ended audio sources,
and bypass AVDD directly to AGND. Connect all digital              ground the negative microphone input as near to the
I/O termination to the ground plane with minimum path              audio source as possible and then treat the positive and
length to DGND, and bypass DVDD and DVDDIO directly                negative traces as differential pairs.
to DGND.                                                           An evaluation kit (EV Kit) is available to provide an exam-
Place the capacitor between C1P and C1N as close as                ple layout. The EV Kit allows quick setup of the device
possible to the device to minimize trace length from C1P           and includes easy-to-use software allowing all internal
to C1N. Inductance and resistance added between C1P                registers to be controlled.
and C1N reduce the output power of the headphone                   Recommended PCB Routing
amplifier. Bypass HPVDD, CPVDD and CPVSS with                      The IC uses a 49-bump WLP package. Figure 57 pro-
capacitors located close to the pin with short trace lengths       vides an example of how to connect to all active bumps
to HPGND. Close decoupling of CPVDD and CPVSS                      using 3 layers of the PCB. To ensure uninter­          rupted
minimizes supply ripple and maximizes output power from            ground returns, use layer 2 as a connecting or dog-bone
the headphone amplifier.                                           layer between layer 1 and layer 3, and flood the remaining
                                                                   area with a copper ground plane.
www.maximintegrated.com                                                                                   Maxim Integrated │ 167


MAX98090                                                   Ultra-Low Power Stereo Audio Codec
Unused Pins                                              inputs might be enabled, then alternatively unused analog
Table 92 shows how to connect the devices unused         audio inputs can be AC coupled to AGND (if component
pins when circuit blocks are disabled. If the system is  cost and area allow it).
extremely noisy or there is a concern that unused analog
Table 92. Unused Pin Connections
         PIN NAME                     CONNECTION                 PIN NAME                    CONNECTION
                      SUPPLY PLANES                                      ANALOG AUDIO OUTPUTS
            AVDD                      Always connect                 HPL                      Unconnected
            AGND                      Always connect                HPR                       Unconnected
           HPVDD                      Always connect              HPSNS                          AGND
           HPGND                      Always connect               SPKLP                      Unconnected
            DVDD                      Always connect              SPKLN                       Unconnected
           DVDDIO                     Always connect              SPKRP                       Unconnected
            DGND                      Always connect              SPKRN                       Unconnected
          SPKVDD                      Always connect           RCVP / LOUTL                   Unconnected
          SPKLVDD                     Always connect          RCVN / LOUTR                    Unconnected
         SPKRVDD                      Always connect                    DIGITAL AUDIO INTERFACE
         SPKLGND                      Always connect                SDIN                         DGND
         SPKRGND                      Always connect              SDOUT                       Unconnected
                       CHARGE PUMP                                 MCLK                      Always connect
           CPVDD                       Unconnected                 LRCLK                         DGND
           CPVSS                       Unconnected                  BCLK                         DGND
             C1P                       Unconnected                           I2C INTERFACE
             C1N                       Unconnected                   SCL                     Always connect
                   ANALOG AUDIO INPUTS                              SDA                      Always connect
          IN1/DMD                      Unconnected                   IRQ                      Unconnected
          IN2/DMC                      Unconnected                                OTHER
             IN3                       Unconnected                MICBIAS                     Unconnected
             IN4                       Unconnected               JACKSNS                      Unconnected
             IN5                       Unconnected                  BIAS                     Always connect
             IN6                       Unconnected                  REF                      Always connect
www.maximintegrated.com                                                                       Maxim Integrated │ 168


MAX98090                                            Ultra-Low Power Stereo Audio Codec
Ordering Information
        PART                     ADDRESS           TEMP RANGE                            PIN-PACKAGE
 MAX98090AEWJ+T                     0x20          -40°C to +85°C                             49 WLP
 MAX98090AETL+T                     0x20           -40°C to +85°C                           40 TQFN
 MAX98090BEWJ+T                     0x22           -40°C to +85°C                            49 WLP
 MAX98090BETL+T                     0x22           -40°C to +85°C                           40 TQFN
+Denotes a lead(Pb)-free/RoHS-compliant package.
T = Tape and reel.
Chip Information                                 Package Information
PROCESS: CMOS                                    For the latest package outline information and land patterns
                                                 (footprints), go to www.maximintegrated.com/packages. Note
                                                 that a “+”, “#”, or “-” in the package code indicates RoHS status
                                                 only. Package drawings may show a different suffix character, but
                                                 the drawing pertains to the package regardless of RoHS status.
                                                    PACKAGE         PACKAGE         OUTLINE      LAND PATTERN
                                                      TYPE             CODE            NO.              NO.
                                                                                                      Refer to
                                                     49 WLP         W493B3+2         21-0443     Application Note
                                                                                                       1891
                                                     40 TQFN         T4055+1         21-0140          90-0121
www.maximintegrated.com                                                                     Maxim Integrated │ 169


MAX98090                                                                                    Ultra-Low Power Stereo Audio Codec
Revision History
   REVISION          REVISION                                                                                                                          PAGES
                                                                                  DESCRIPTION
    NUMBER              DATE                                                                                                                         CHANGED
         0               1/13        Initial release                                                                                                       —
                                                                                                                                                  1, 9, 11, 15–17,
                                                                                                                                                     20–26, 30,
                                                                                                                                                   37–48, 50–54,
                                                                                                                                                   56–63, 66–68,
                                                                                                                                                   72, 78, 79, 82,
                                                                                                                                                   84–88, 91, 92,
         1               8/13        Corrected various errors                                                                                        94–96, 98,
                                                                                                                                                   103–105, 110,
                                                                                                                                                   113, 120, 121,
                                                                                                                                                   129, 141, 142,
                                                                                                                                                   146, 149, 150,
                                                                                                                                                   151, 158–162,
                                                                                                                                                          164
                                                                                                                                                   10, 11, 15, 16,
                                                                                                                                                   28, 38–66, 70,
                                                                                                                                                    89–92, 100,
         2               8/14        Corrected various errors and made various updates                                                             111–113, 118,
                                                                                                                                                   124, 146, 147,
                                                                                                                                                   149, 151, 152,
                                                                                                                                                      165, 168
                                                                                                                                                   37, 71, 83, 84,
                                     Replaced TOC2, updated Bump/Pin Descriptions table, updated Table 7, Table 8, and
         3               8/18                                                                                                                      124, 130, 135,
                                     Table 89, updated various sections
                                                                                                                                                          164
                                     Added speaker short circuit protection description to the Analog Class D Speaker
         4              11/18                                                                                                                             135
                                     Output section
For pricing, delivery, and ordering information, please visit Maxim Integrated’s online storefront at https://www.maximintegrated.com/en/storefront/storefront.html.
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are implied. Maxim
reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits) shown in the Electrical Character-
istics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
The Maxim logo and Maxim Integrated are trademarks of Maxim Integrated Products, Inc.                                          © 2018 Maxim Integrated │ 170


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX98090AEWJ+T MAX98090AETL+ MAX98090EVKIT#WLP MAX98090EVKIT#TQFN MAX98090AETL+T
MAX98090BETL+ MAX98090BEWJ+T MAX98090BETL+T
