                                                                                                                                              2 ADC/8 DAC with PLL,
                                                                                                                                              192 kHz, 24-Bit Codec
Data Sheet                                                                                                                                               ADAU1328
FEATURES                                                                                                                GENERAL DESCRIPTION
PLL generated or direct master clock                                                                                    The ADAU1328 is a high performance, single-chip codec that
Low EMI design                                                                                                          provides two analog-to-digital converters (ADCs) with differential
108 dB DAC/107 dB ADC dynamic range and SNR                                                                             input and eight digital-to-analog converters (DACs) with
−94 dB THD + N                                                                                                          single-ended output using the Analog Devices, Inc. patented
Single 3.3 V supply                                                                                                     multibit sigma-delta (Σ-Δ) architecture. An SPI port is included,
Tolerance for 5 V logic inputs                                                                                          allowing a microcontroller to adjust volume and many other
Supports 24 bits and 8 kHz to 192 kHz sample rates                                                                      parameters. The ADAU1328 operates from 3.3 V digital and
Differential ADC input                                                                                                  analog supplies. The ADAU1328 is available in a 48-lead
Single-ended DAC output                                                                                                 (single-ended output) LQFP. Other members of this family
Log volume control with autoramp function                                                                               include a differential DAC output version.
SPI® controllable for flexibility
Software controllable clickless mute                                                                                    The ADAU1328 is designed for low EMI. This consideration is
Software power-down                                                                                                     apparent in both the system and circuit design architectures.
Right justified, left justified, I2S and TDM modes                                                                      By using the on-board PLL to derive the master clock from the
Master and slave modes up to 16-channel in/out                                                                          LR clock or from an external crystal, the ADAU1328 eliminates
48-lead LQFP                                                                                                            the need for a separate high frequency master clock and can
                                                                                                                        also be used with a suppressed bit clock. The digital-to-analog
APPLICATIONS                                                                                                            and analog-to-digital converters are designed using the latest
                                                                                                                        ADI continuous time architectures to further minimize EMI. By
Home theater systems
                                                                                                                        using 3.3 V supplies, power consumption is minimized, further
Set-top boxes
                                                                                                                        reducing emissions.
Digital audio effects processors
                                                                               FUNCTIONAL BLOCK DIAGRAM
                                                                                                    DIGITAL AUDIO
                                                                                                    INPUT/OUTPUT
                                                           ADAU1328
                                                                                                 SERIAL DATA PORT
                                                                                                                                                 DAC
                                                                                                                                                 DAC
                                                                                            SDATA                       SDATA
                                                                                             OUT                          IN                     DAC
                                                                                                                                   DIGITAL
                                                            ADC                                                 CLOCKS             FILTER        DAC
                                                                                DEC                                                  AND
                                                                              FILTER                                              VOLUME
                                                                               48/96/                                                            DAC
                                                            ADC                                 TIMING MANAGEMENT                 CONTROL
                                                                              192kHz
                                                                                                    AND CONTROL                                  DAC
                                                                                                  (CLOCK AND PLL)
                                                                                                                                                 DAC
                                                                                                                                                 DAC
                                                                                                       CONTROL
                                                            PRECISION                                   PORT
                                                             VOLTAGE                                     SPI
                                                            REFERENCE              12.488MHz                                       6.144MHz
                                                                                                                                                        06102-001
                                                                                                    CONTROL DATA
                                                                                                    INPUT/OUTPUT
                                                                                                            Figure 1.
Rev. B                                                                     Document Feedback
Information furnished by Analog Devices is believed to be accurate and reliable. However, no
responsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other
rights of third parties that may result from its use. Specifications subject to change without notice. No               One Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.
license is granted by implication or otherwise under any patent or patent rights of Analog Devices.                     Tel: 781.329.4700 ©2006-2013 Analog Devices, Inc. All rights reserved.
Trademarks and registered trademarks are the property of their respective owners.                                       Technical Support                                  www.analog.com


ADAU1328                                                                                                                                                                                     Data Sheet
TABLE OF CONTENTS
Features .............................................................................................. 1               Analog-to-Digital Converters (ADCs) .................................... 13
Applications ....................................................................................... 1                  Digital-to-Analog Converters (DACs) .................................... 13
General Description ......................................................................... 1                         Clock Signals ............................................................................... 13
Functional Block Diagram .............................................................. 1                               Reset and Power-Down ............................................................. 14
Revision History ............................................................................... 2                      Serial Control Port ..................................................................... 14
Specifications..................................................................................... 3                   Power Supply and Voltage Reference....................................... 15
  Test Conditions ............................................................................. 3                       Serial Data Ports—Data Format ............................................... 15
  Analog Performance Specifications ........................................... 3                                       Time-Division Multiplexed (TDM) Modes ............................ 15
  Crystal Oscillator Specifications................................................. 4                                  Daisy-Chain Mode ..................................................................... 19
  Digital Input/Output Specifications........................................... 4                                   Control Registers ............................................................................ 24
  Power Supply Specifications........................................................ 5                                 Definitions ................................................................................... 24
  Digital Filters ................................................................................. 6                   PLL and Clock Control Registers ............................................. 24
  Timing Specifications .................................................................. 6                            DAC Control Registers .............................................................. 25
Absolute Maximum Ratings ............................................................ 8                                 ADC Control Registers.............................................................. 27
  Thermal Resistance ...................................................................... 8                           Additional Modes ....................................................................... 29
  ESD Caution .................................................................................. 8                   Application Circuits ....................................................................... 30
Pin Configuration and Function Descriptions ............................. 9                                          Outline Dimensions ....................................................................... 31
Typical Performance Characteristics ........................................... 11                                      Ordering Guide .......................................................................... 31
Theory of Operation ...................................................................... 13
REVISION HISTORY
2/13—Rev. A to Rev. B
Changes to tCLH Parameter, Comments Column, Table 6............ 7
Changes to Serial Control Port Section ....................................... 14
7/11—Rev. 0 to Rev. A
Deleted References to I2C ............................................. Throughout
Changes to Table 9, DSDATAx/ASDATAx Pin Descriptions ..... 9
Updated Outline Dimensions ....................................................... 31
6/06—Revision 0: Initial Version
                                                                                                    Rev. B | Page 2 of 32


Data Sheet                                                                                                                ADAU1328
SPECIFICATIONS
TEST CONDITIONS
Performance of all channels is identical, exclusive of the interchannel gain mismatch and interchannel phase deviation specifications.
Supply Voltages (AVDD, DVDD)                 3.3 V
Temperature Range 1                          As specified in Table 1
Master Clock                                 12.288 MHz (48 kHz fS, 256 × fS mode)
Input Sample Rate                            48 kHz
Measurement Bandwidth                        20 Hz to 20 kHz
Word Width                                   24 bits
Load Capacitance (Digital Output)            20 pF
Load Current (Digital Output)                ±1 mA or 1.5 kΩ to ½ DVDD supply
Input Voltage HI                             2.0 V
Input Voltage LO                             0.8 V
1
  Functionally guaranteed at −40°C to +85°C case temperature.
ANALOG PERFORMANCE SPECIFICATIONS
Specifications guaranteed at 25°C (ambient).
Table 1.
Parameter                                               Conditions                         Min   Typ            Max       Unit
ANALOG-TO-DIGITAL CONVERTERS
   ADC Resolution                                       All ADCs                                 24                       Bits
   Dynamic Range                                        20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                                      98    102                      dB
      With A-Weighted Filter (RMS)                                                         100   105                      dB
   Total Harmonic Distortion + Noise                    −1 dBFS                                  −96            −87       dB
   Gain Error                                                                              −10                  +10       %
   Interchannel Gain Mismatch                                                              −0.25                +0.25     dB
   Offset Error                                                                            −10   0              +10       mV
   Gain Drift                                                                                    100                      ppm/°C
   Interchannel Isolation                                                                        −110                     dB
   CMRR                                                 100 mV rms, 1 kHz                        55                       dB
                                                        100 mV rms, 20 kHz                       55                       dB
   Input Resistance                                                                              14                       kΩ
   Input Capacitance                                                                             10                       pF
   Input Common-Mode Bias Voltage                                                                1.5                      V
DIGITAL-TO-ANALOG CONVERTERS
   Dynamic Range                                        20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                                      98    104                      dB
      With A-Weighted Filter (RMS)                                                         100   106                      dB
      With A-Weighted Filter (Avg)                                                               108                      dB
   Total Harmonic Distortion + Noise                    0 dBFS
      Single-Ended Version                              Two channels running                     −92                      dB
                                                        Eight channels running                   −86            −75       dB
   Full-Scale Output Voltage                                                                     0.88 (2.48)              V rms (V p-p)
   Gain Error                                                                              −10                  +10       %
   Interchannel Gain Mismatch                                                              −0.2                 +0.2      dB
   Offset Error                                                                            −16   −4             16        mV
   Gain Drift                                                                              −30                  30        ppm/°C
   Interchannel Isolation                                                                        100                      dB
                                                                     Rev. B | Page 3 of 32


ADAU1328                                                                                                Data Sheet
Parameter                               Conditions                              Min      Typ     Max      Unit
   Interchannel Phase Deviation                                                          0                Degrees
   Volume Control Step                                                                   0.375            dB
   Volume Control Range                                                                  95               dB
   De-emphasis Gain Error                                                                        ±0.6     dB
   Output Resistance at Each Pin                                                         100              Ω
REFERENCE
   Internal Reference Voltage           FILTR pin                                        1.50             V
   External Reference Voltage           FILTR pin                               1.32     1.50    1.68     V
   Common-Mode Reference Output         CM pin                                           1.50             V
CRYSTAL OSCILLATOR SPECIFICATIONS
Table 2.
Parameter                                           Min                     Typ       Max         Unit
Transconductance                                                            3.5                   Mmhos
DIGITAL INPUT/OUTPUT SPECIFICATIONS
−40°C < TA < +85°C, DVDD = 3.3 V ± 10%.
Table 3.
Parameter                                 Conditions/Comments                     Min          Typ     Max       Unit
Input Voltage HI (VIH)                                                            2.0                            V
Input Voltage HI (VIH)                    MCLKI pin                               2.2                            V
Input Voltage LO (VIL)                                                                                 0.8       V
Input Leakage                             IIH @ VIH = 2.4 V                                            10        µA
                                          IIL @ VIL = 0.8 V                                            10        µA
High Level Output Voltage (VOH)           IOH = 1 mA                              DVDD − 0.60                    V
Low Level Output Voltage (VOL)            IOL = 1 mA                                                   0.4       V
Input Capacitance                                                                                      5         pF
                                                         Rev. B | Page 4 of 32


Data Sheet                                                             ADAU1328
POWER SUPPLY SPECIFICATIONS
Table 4.
Parameter                      Conditions/Comments         Min Typ Max     Unit
SUPPLIES
  Voltage
                               DVDD                        3.0 3.3 3.6     V
                               AVDD                        3.0 3.3 3.6     V
  Digital Current              MCLK = 256 fS
    Normal Operation           fS = 48 kHz                     56          mA
                               fS = 96 kHz                     65          mA
                               fS = 192 kHz                    95          mA
    Power-Down                 fS = 48 kHz to 192 kHz          2.0         mA
  Analog Current
    Normal Operation                                           74          mA
    Power-Down                                                 23          mA
DISSIPATION
  Operation                    MCLK = 256 fS, 48 kHz
    All Supplies                                               429         mW
    Digital Supply                                             185         mW
     Analog Supply                                             244         mW
  Power-Down, All Supplies                                     83          mW
POWER SUPPLY REJECTION RATIO
  Signal at Analog Supply Pins 1 kHz, 200 mV p-p               50          dB
                               20 kHz, 200 mV p-p              50          dB
                                     Rev. B | Page 5 of 32


ADAU1328                                                                                                                 Data Sheet
DIGITAL FILTERS
Table 5.
Parameter                                Mode                                        Factor                Min  Typ      Max        Unit
ADC DECIMATION FILTER                    All modes, typ @ 48 kHz
  Pass Band                                                                          0.4375 fS                  21                  kHz
  Pass-Band Ripple                                                                                              ±0.015              dB
  Transition Band                                                                    0.5 fS                     24                  kHz
  Stop Band                                                                          0.5625 fS                  27                  kHz
  Stop-Band Attenuation                                                                                    79                       dB
  Group Delay                                                                        22.9844/fS                 479                 µs
DAC INTERPOLATION FILTER
  Pass Band                              48 kHz mode, typ @ 48 kHz                   0.4535 fS                  22                  kHz
                                         96 kHz mode, typ @ 96 kHz                   0.3646 fS             35                       kHz
                                         192 kHz mode, typ @ 192 kHz                 0.3646 fS                  70                  kHz
  Pass-Band Ripple                       48 kHz mode, typ @ 48 kHz                                                       ±0.01      dB
                                         96 kHz mode, typ @ 96 kHz                                                       ±0.05      dB
                                         192 kHz mode, typ @ 192 kHz                                                     ±0.1       dB
  Transition Band                        48 kHz mode, typ @ 48 kHz                   0.5 fS                     24                  kHz
                                         96 kHz mode, typ @ 96 kHz                   0.5 fS                     48                  kHz
                                         192 kHz mode, typ @ 192 kHz                 0.5 fS                     96                  kHz
  Stop Band                              48 kHz mode, typ @ 48 kHz                   0.5465 fS                  26                  kHz
                                         96 kHz mode, typ @ 96 kHz                   0.6354 fS                  61                  kHz
                                         192 kHz mode, typ @ 192 kHz                 0.6354 fS                  122                 kHz
  Stop-Band Attenuation                  48 kHz mode, typ @ 48 kHz                                         70                       dB
                                         96 kHz mode, typ @ 96 kHz                                         70                       dB
                                         192 kHz mode, typ @ 192 kHz                                       70                       dB
  Group Delay                            48 kHz mode, typ @ 48 kHz                   25/fS                      521                 µs
                                         96 kHz mode, typ @ 96 kHz                   11/fS                      115                 µs
                                         192 kHz mode, typ @ 192 kHz                 8/fS                       42                  µs
TIMING SPECIFICATIONS
−40°C < TA < +85°C, DVDD = 3.3 V ± 10%.
Table 6.
Parameter                                         Condition                     Comments                               Min     Max     Unit
INPUT MASTER CLOCK (MCLK) AND RESET
  tMH                                             MCLK duty cycle                DAC/ADC clock source = PLL clock @    40      60      %
                                                                                 256 fS, 384 fS, 512 fS, 768 fS
  tMH                                                                            DAC/ADC clock source = direct MCLK @  40      60      %
                                                                                 512 fS (bypass on-chip PLL)
  fMCLK                                           MCLK frequency                PLL mode, 256 fS reference             6.9     13.8    MHz
  fMCLK                                                                          Direct 512 fS mode                            27.6    MHz
  tPDR                                            RST low                                                              15              ns
  tPDRR                                           RST recovery                  Reset to active output                 4096            tMCLK
PLL
  Lock Time                                       MCLK and LRCLK input                                                         10      ms
  256 fS VCO Clock, Output Duty Cycle MCLKO pin                                                                        40      60      %
                                                             Rev. B | Page 6 of 32


Data Sheet                                                                                        ADAU1328
Parameter           Condition                     Comments                                     Min  Max Unit
SPI PORT                                           See Figure 11
  tCCH              CCLK high                                                                  35       ns
  tCCL              CCLK low                                                                   35       ns
  fCCLK             CCLK frequency                fCCLK = 1/tCCP, only tCCP shown in Figure 11      10  MHz
  tCDS              CDATA setup                   To CCLK rising                               10       ns
  tCDH              CDATA hold                    From CCLK rising                             10       ns
  tCLS              CLATCH setup                  To CCLK rising                               10       ns
  tCLH              CLATCH hold                   From CCLK rising                             10       ns
  tCLHIGH           CLATCH high                   Not shown in Figure 11                       10       ns
  tCOE              COUT enable                   From CCLK falling                                 30  ns
  tCOD              COUT delay                     From CCLK falling                                30  ns
  tCOH              COUT hold                     From CCLK falling, not shown in Figure 11    30       ns
  tCOTS             COUT tri-state                 From CCLK falling                                30  ns
DAC SERIAL PORT                                   See Figure 24
  tDBH              DBCLK high                     Slave mode                                  10       ns
  tDBL              DBCLK low                      Slave mode                                  10       ns
  tDLS              DLRCLK setup                  To DBCLK rising, slave mode                  10       ns
  tDLH              DLRCLK hold                    From DBCLK rising, slave mode               5        ns
  tDLS              DLRCLK skew                   From DBCLK falling, master mode              −8   +8  ns
  tDDS              DSDATA setup                   To DBCLK rising                             10       ns
  tDDH              DSDATA hold                   From DBCLK rising                            5        ns
ADC SERIAL PORT                                    See Figure 25
  tABH              ABCLK high                     Slave mode                                  10       ns
  tABL              ABCLK low                      Slave mode                                  10       ns
  tALS              ALRCLK setup                  To ABCLK rising, slave mode                  10       ns
  tALH              ALRCLK hold                   From ABCLK rising, slave mode                5        ns
  tALS              ALRCLK skew                   From ABCLK falling, master mode              −8   +8  ns
  tABDD             ASDATA delay                  From ABCLK falling                                18  ns
AUXILIARY INTERFACE
  tAXDS             AAUXDATA setup                To AUXBCLK rising                            10       ns
  tAXDH             AAUXDATA hold                 From AUXBCLK rising                          5        ns
  tDXDD             DAUXDATA delay                From AUXBCLK falling                              18  ns
  tXBH              AUXBCLK high                                                               10       ns
  tXBL              AUXBCLK low                                                                10       ns
  tDLS              AUXLRCLK setup                To AUXBCLK rising                            10       ns
  tDLH              AUXLRCLK hold                  From AUXBCLK rising                         5        ns
                               Rev. B | Page 7 of 32


ADAU1328                                                                                                                         Data Sheet
ABSOLUTE MAXIMUM RATINGS
Table 7.                                                                         THERMAL RESISTANCE
Parameter                                  Rating
                                                                                 θJA represents thermal resistance, junction-to-ambient; θJC
Analog (AVDD)                              −0.3 V to +3.6 V
                                                                                 represents the thermal resistance, junction-to-case. All
Digital (DVDD)                             −0.3 V to +3.6 V
                                                                                 characteristics are for a 4-layer board.
Input Current (Except Supply Pins)         ±20 mA
Analog Input Voltage (Signal Pins)         –0.3 V to AVDD + 0.3 V
Digital Input Voltage (Signal Pins)        −0.3 V to DVDD + 0.3 V                Table 8. Thermal Resistance
Operating Temperature Range (Case)         −40°C to +85°C                        Package Type                       θJA      θJC       Unit
Storage Temperature Range                  −65°C to +150°C                       48-Lead LQFP                       50.1     17        °C/W
Stresses above those listed under Absolute Maximum Ratings
may cause permanent damage to the device. This is a stress                       ESD CAUTION
rating only; functional operation of the device at these or any
other conditions above those indicated in the operational
section of this specification is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect
device reliability.
                                                                Rev. B | Page 8 of 32


Data Sheet                                                                                                                                                                                       ADAU1328
PIN CONFIGURATION AND FUNCTION DESCRIPTIONS
                                               AVDD             ADC2RN    ADC2RP    ADC2LN   ADC2LP   ADC1RN    ADC1RP    ADC1LN   ADC1LP              AVDD
                                                      LF                                                                                    CM
                                               48     47        46        45        44       43       42        41        40       39       38         37
                                    AGND   1                                                                                                                      36   AGND
                               MCLKI/XI    2                                                                                                                      35   FILTR
                              MCLKO/XO     3                                                                                                                      34   AGND
                                    AGND   4                                                                                                                      33   AVDD
                                    AVDD   5
                                                                                    ADAU1328                                                                      32   AGND
                                     OL3   6                                           TOP VIEW                                                                   31   OR2
                                                                                     (Not to Scale)
                                     OR3   7                                                                                                                      30   OL2
                                                                                    SINGLE-ENDED
                                     OL4   8                                           OUTPUT                                                                     29   OR1
                                     OR4   9                                                                                                                      28   OL1
                                PD/RST 10                                                                                                                         27   CLATCH/ADR1
                               DSDATA4 11                                                                                                                         26   CCLK/SCL
                                    DGND 12                                                                                                                       25   DGND
                                               13     14        15        16        17       18       19        20        21       22       23         24
                                                                                                                                                       COUT/SDA
                                                                                             DLRCLK                                ALRCLK
                                               DVDD
                                                                                    DBCLK                                 ABCLK
                                                      DSDATA3   DSDATA2   DSDATA1                     ASDATA2   ASDATA1                     CIN/ADR0
                                                                                                                                                                                     06102-020
                                                                          Figure 2. Pin Configuration
Table 9. Pin Function Description
Pin No.   In/Out    Mnemonic           Description
1         I         AGND               Analog Ground.
2         I         MCLKI/XI           Master Clock Input/Crystal Oscillator Input.
3         O         MCLKO/XO           Master Clock Output/Crystal Oscillator Output.
4         I         AGND               Analog Ground.
5         I         AVDD               Analog Power Supply. Connect to analog 3.3 V supply.
6         O         OL3                DAC 3 Left Output.
7         O         OR3                DAC 3 Right Output.
8         O         OL4                DAC 4 Left Output.
9         O         OR4                DAC 4 Right Output.
10        I         PD/RST             Power-Down Reset (Active Low).
11        I/O       DSDATA4            DAC Serial Data Input 4. Data input to DAC4 data in/TDM DAC2 data out (dual-line mode)/AUX
                                       DAC2 data out (to external DAC2).
12        I         DGND               Digital Ground.
13        I         DVDD               Digital Power Supply. Connect to digital 3.3 V supply.
14        I/O       DSDATA3            DAC Serial Data Input 3. Data input to DAC3 data in/TDM DAC2 data in (dual-line mode)/AUX ADC2
                                       data in (from external ADC2).
15        I/O       DSDATA2            DAC Serial Data Input 2. Data input to DAC2 data in/TDM DAC data out/AUX ADC1 data in (from
                                       external ADC1).
16        I         DSDATA1            DAC Serial Data Input 1. Data input to DAC1 data in/TDM DAC data in/TDM data in.
17        I/O       DBCLK              Bit Clock for DACs.
18        I/O       DLRCLK             LR Clock for DACs.
19        I/O       ASDATA2            ADC Serial Data Output 2. Data output from ADC2/TDM ADC data in/AUX DAC1 data out (to
                                       external DAC1).
20        O         ASDATA1            ADC Serial Data Output 1. Data output from ADC1/TDM ADC data out/TDM data out.
21        I/O       ABCLK              Bit Clock for ADCs.
22        I/O       ALRCLK             LR Clock for ADCs.
                                                                                    Rev. B | Page 9 of 32


ADAU1328                                                                                                  Data Sheet
Pin No. In/Out Mnemonic    Description
23      I      CIN/ADR0    Control Data Input (SPI).
24      I/O    COUT/SDA    Control Data Output (SPI).
25      I      DGND        Digital Ground.
26      I      CCLK/SCL    Control Clock Input (SPI).
27      I      CLATCH/ADR1 Latch Input for Control Data (SPI).
28      O      OL1         DAC 1 Left Output.
29      O      OR1         DAC 1 Right Output.
30      O      OL2         DAC 2 Left Output.
31      O      OR2         DAC 2 Right Output.
32      I      AGND        Analog Ground.
33      I      AVDD        Analog Power Supply. Connect to analog 3.3 V supply.
34      I      AGND        Analog Ground.
35      O      FILTR       Voltage Reference Filter Capacitor Connection. Bypass with 10 µF||100 nF to AGND.
36      I      AGND        Analog Ground.
37      I      AVDD        Analog Power Supply. Connect to analog 3.3 V supply.
38      O      CM          Common-Mode Reference Filter Capacitor Connection. Bypass with 47 µF||100 nF to AGND.
39      I      ADC1LP      ADC1 Left Positive Input.
40      I      ADC1LN      ADC1 Left Negative Input.
41      I      ADC1RP      ADC1 Right Positive Input.
42      I      ADC1RN      ADC1 Right Negative Input.
43      I      ADC2LP      ADC2 Left Positive Input.
44      I      ADC2LN      ADC2 Left Negative Input.
45      I      ADC2RP      ADC2 Right Positive Input.
46      I      ADC2RN      ADC2 Right Negative Input.
47      O      LF          PLL Loop Filter. Return to AVDD.
48      I      AVDD        Analog Power Supply. Connect to analog 3.3 V supply.
                                                Rev. B | Page 10 of 32


Data Sheet                                                                                                                                                                                              ADAU1328
TYPICAL PERFORMANCE CHARACTERISTICS
                         0.10
                                                                                                                                                     0
                         0.08
                         0.06
                         0.04
                                                                                                                                MAGNITUDE (dB)
       MAGNITUDE (dB)
                                                                                                                                                  –50
                         0.02
                            0
                        –0.02
                                                                                                                                                 –100
                        –0.04
                        –0.06
                        –0.08
                                                                                                                                                 –150
                                                                                                                                                                                                                    06102-005
                        –0.10                                                                                                                            0             12            24            36          48
                                                                                               06102-002
                                0     2000 4000 6000 8000 10000 12000 14000 16000 18000
                                                                                                                                                                              FREQUENCY (kHz)
                                                        FREQUENCY (Hz)
                                    Figure 3. ADC Pass-Band Filter Response, 48 kHz                                                                          Figure 6. DAC Stop-Band Filter Response, 48 kHz
                            0                                                                                                                     0.10
                          –10
                          –20
                                                                                                                                                  0.05
                          –30
       MAGNITUDE (dB)                                                                                                           MAGNITUDE (dB)
                          –40
                          –50                                                                                                                       0
                          –60
                          –70
                                                                                                                                                 –0.05
                          –80
                          –90
                         –100                                                                                                                    –0.10
                                                                                               06102-003                                                                                                            06102-006
                                0     5000 10000 15000 20000 25000 30000 35000 40000                                                                     0             24            48            72          96
                                                        FREQUENCY (Hz)                                                                                                        FREQUENCY (kHz)
                                    Figure 4. ADC Stop-Band Filter Response, 48 kHz                                                                          Figure 7. DAC Pass-Band Filter Response, 96 kHz
                         0.06
                                                                                                                                                     0
                         0.04
                                                                                                                                MAGNITUDE (dB)
                         0.02
 MAGNITUDE (dB)
                                                                                                                                                  –50
                           0
                        –0.02                                                                                                                    –100
                        –0.04
                                                                                                                                                 –150
                                                                                                                                                                                                                    06102-007
                        –0.06
                                                                                                     06102-004
                                                                                                                                                         0             24            48            72          96
                                0                  8                  16                  24
                                                                                                                                                                              FREQUENCY (kHz)
                                                       FREQUENCY (kHz)
                                    Figure 5. DAC Pass-Band Filter Response, 48 kHz                                                                          Figure 8. DAC Stop-Band Filter Response, 96 kHz
                                                                                                           Rev. B | Page 11 of 32


ADAU1328                                                                                                                                                                          Data Sheet
                   0.5
                                                                                                                                     0
                   0.4
                   0.3
                                                                                                                                    –2
                   0.2
                                                                                                                  MAGNITUDE (dB)
 MAGNITUDE (dB)
                   0.1
                                                                                                                                    –4
                    0
                  –0.1                                                                                                              –6
                  –0.2
                  –0.3                                                                                                              –8
                  –0.4
                                                                                                                                   –10
                  –0.5
                                                                                                                                                                                                  06102-009
                                                                                 06102-008
                         0              8          16           32          64                                                        48                 64                80                96
                                                                                                                                                           FREQUENCY (kHz)
                                               FREQUENCY (kHz)
                             Figure 9. DAC Pass-Band Filter Response, 192 kHz                                                            Figure 10. DAC Stop-Band Filter Response, 192 kHz
                                                                                             Rev. B | Page 12 of 32


Data Sheet                                                                                                                           ADAU1328
THEORY OF OPERATION
ANALOG-TO-DIGITAL CONVERTERS (ADCs)                                              Each output pin has a nominal common-mode dc level of 1.5 V
There are two ADC channels in the ADAU1328 configured as                         and swings ±1.27 V for a 0 dBFS digital input signal. A single op
two stereo pairs with differential inputs. The ADCs can operate                  amp, third-order, external, low-pass filter is recommended to
at a nominal sample rate of 48 kHz, 96 kHz, or 192 kHz. The                      remove high frequency noise present on the output pins. The
ADCs include on-board digital antialiasing filters with 79 dB                    use of op amps with low slew rate or low bandwidth can cause
stop-band attenuation and linear phase response, operating at                    high frequency noise and tones to fold down into the audio
an oversampling ratio of 128 (48 kHz, 96 kHz, and 192 kHz                        band; therefore, exercise care in selecting these components.
modes). Digital outputs are supplied through two serial data                     The voltage at CM, the common-mode reference pin, can be
output pins (one for each stereo pair) and a common frame                        used to bias the external op amps that buffer the output signals
(ALRCLK) and bit (ABCLK) clock. Alternatively, one of the                        (see the Power Supply and Voltage Reference section).
TDM modes can be used to access up to 16 channels on a single
TDM data line.                                                                   CLOCK SIGNALS
The ADCs must be driven from a differential signal source for                    The on-chip phase locked loop (PLL) can be selected to
best performance. The input pins of the ADCs connect to                          reference the input sample rate from either of the LRCLK pins
internal switched capacitors. To isolate the external driving op                 or 256, 384, 512, or 768 times the sample rate, referenced to the
amp from the glitches caused by the internal switched capacitors,                48 kHz mode from the MCLKI pin. The default at power-up is
each input pin should be isolated by using a series connected,                   256 × fS from MCLKI. In 96 kHz mode, the master clock fre-
external, 100 Ω resistor together with a 1 nF capacitor connected                quency stays at the same absolute frequency; therefore, the
from each input to ground. This capacitor must be of high quality,               actual multiplication rate is divided by 2. In 192 kHz mode,
for example, ceramic NPO or polypropylene film.                                  the actual multiplication rate is divided by 4. For example, if a
                                                                                 device in the ADAU1328 family is programmed in 256 × fS mode,
The differential inputs have a nominal common-mode voltage                       the frequency of the master clock input is 256 × 48 kHz =
of 1.5 V. The voltage at the common-mode reference pin (CM)                      12.288 MHz. If the ADAU1328 is then switched to 96 kHz
can be used to bias external op amps to buffer the input signals                 operation (by writing to the SPI port), the frequency of the
(see the Power Supply and Voltage Reference section). The                        master clock should remain at 12.288 MHz, which is now 128 ×
inputs can also be ac-coupled and do not need an external dc                     fS. In 192 kHz mode, this becomes 64 × fS.
bias to CM.
                                                                                 The internal clock for the ADCs is 256 × fS for all clock modes.
A digital high-pass filter can be switched in line with the ADCs                 The internal clock for the DACs varies by mode: 512 × fS (48 kHz
under serial control to remove residual dc offsets. It has a                     mode), 256 × fS (96 kHz mode), or 128 × fS (192 kHz mode). By
1.4 Hz, 6 dB per octave cutoff at a 48 kHz sample rate. The                      default, the on-board PLL generates this internal master clock
cutoff frequency scales directly with sample frequency.                          from an external clock. A direct 512 × fS (referenced to 48 kHz
                                                                                 mode) master clock can be used for either the ADCs or DACs if
DIGITAL-TO-ANALOG CONVERTERS (DACs)                                              selected in PLL and Clock Control 1 Register.
The ADAU1328 DAC channels are arranged as single-ended,
four stereo pairs giving eight analog outputs for minimum                        Note that it is not possible to use a direct clock for the ADCs set
external components. The DACs include on-board digital                           to the 192 kHz mode. It is required that the on-chip PLL be
reconstruction filters with 70 dB stop-band attenuation and linear               used in this mode.
phase response, operating at an oversampling ratio of 4 (48 kHz or               The PLL can be powered down in PLL and Clock Control 0
96 kHz modes) or 2 (192 kHz mode). Each channel has its own                      Register. To ensure reliable locking when changing PLL modes,
independently programmable attenuator, adjustable in 255 steps                   or if the reference clock is unstable at power-on, power down
in increments of 0.375 dB. Digital inputs are supplied through                   the PLL and then power it back up when the reference clock has
four serial data input pins (one for each stereo pair) and a                     stabilized.
common frame (DLRCLK) and bit (DBCLK) clock. Alternatively,
one of the TDM modes can be used to access up to 16 channels                     The internal MCLK can be disabled in PLL and Clock Control 0
on a single TDM data line.                                                       Register to reduce power dissipation when the ADAU1328 is
                                                                                 idle. The clock should be stable before it is enabled. Unless a
                                                                                 standalone mode is selected (see the Serial Control Port
                                                                                 section), the clock is disabled by reset and must be enabled by
                                                                                 writing to the SPI port for normal operation.
                                                                Rev. B | Page 13 of 32


ADAU1328                                                                                                                              Data Sheet
To maintain the highest performance possible, it is recommended                     SERIAL CONTROL PORT
that the clock jitter of the internal master clock signal be limited                The ADAU1328 has an SPI control port that permits programming
to less than 300 ps rms time interval error (TIE). Even at these                    and reading back of the internal control registers for the ADCs,
levels, extra noise or tones can appear in the DAC outputs if the                   DACs, and clock system. A standalone mode is available for
jitter spectrum contains large spectral peaks. If the internal PLL                  operation without serial control, standalone is configured at
is not being used, it is highly recommended that an independent
                                                                                    reset by connecting CIN, CCLK and CLATCH to ground. In
crystal oscillator generate the master clock. In addition, it is
                                                                                    standalone mode, all registers are set to default, except the internal
especially important that the clock signal not be passed through
                                                                                    MCLK enable which is set to 1. The ADC ABCLK and ALRCLK
an FPGA, CPLD, or other large digital chip (such as a DSP)
                                                                                    clock ports are set to master/slave by the connecting the COUT
before being applied to the ADAU1328. In most cases, this
                                                                                    pin to either DVDD or ground. Standalone mode only supports
induces clock jitter due to the sharing of common power and
                                                                                    stereo mode with an I2S data format and 256 fS MCLK rate. Refer
ground connections with other unrelated digital output signals.
                                                                                    to Table 10 for details. If CIN, CCLK, and CLATCH are not
When the PLL is used, jitter in the reference clock is attenuated
                                                                                    grounded, the ADAU1328 SPI port is active. It is recommended
above a certain frequency depending on the loop filter.
                                                                                    to use a weak pull-up resistor on CLATCH in applications that
RESET AND POWER-DOWN                                                                have a microcontroller. This pull-up resistor ensures that the
Reset sets all the control registers to their default settings. To                  ADAU1328 recognizes the presence of a microcontroller.
avoid pops, reset does not power down the analog outputs.                           The SPI control port of the ADAU1328 is a 4-wire serial control
After reset is deasserted, and the PLL acquires lock condition,                     port. The format is similar to the Motorola SPI format except
an initialization routine runs inside the ADAU1328. This                            the input data-word is 24 bits wide. The serial bit clock and
initialization lasts for approximately 256 MCLKs.                                   latch can be completely asynchronous to the sample rate of the
The power-down bits in the PLL and Clock Control 0, DAC                             ADCs and DACs. Figure 11 shows the format of the SPI signal.
Control 1, and ADC Control 1 registers power down the                               The first byte is a global address with a read/write bit. For the
respective sections. All other register settings are retained.                      ADAU1328, the address is 0x04, shifted left 1 bit due to the
The reset pin should be pulled low by an external resistor to                       R/W bit. The second byte is the ADAU1328 register address
guarantee proper startup.                                                           and the third byte is the data.
Table 10. Standalone Mode Selection
ADC Clocks                        CIN/ADR0                    COUT/SDA                       CCLK/SCL                  CLATCH/ADR1
Slave                             0                           0                              0                         0
Master                            0                           1                              0                         0
                           tCLS
                                                                                                                     tCLH
                                                          tCCH tCCL
                                   tCCP
          CLATCH
                                                                                                                                      tCOTS
             CCLK
                                                               tCDS tCDH
              CIN            D23          D22            D9        D8                                                       D0
             COUT
                    tCOE                                 D9        D8                                                       D0
                                                  tCOD                                                                                        06102-010
                                                               Figure 11. Format of SPI Signal
                                                                   Rev. B | Page 14 of 32


Data Sheet                                                                                                                                            ADAU1328
POWER SUPPLY AND VOLTAGE REFERENCE                                                 TIME-DIVISION MULTIPLEXED (TDM) MODES
The ADAU1328 is designed for 3.3 V supplies. Separate power                        The ADAU1328 serial ports also have several different TDM
supply pins are provided for the analog and digital sections.                      serial data modes. The first and most commonly used
These pins should be bypassed with 100 nF ceramic chip                             configurations are shown in Figure 12 and Figure 13. In Figure 12,
capacitors, as close to the pins as possible, to minimize noise                    the ADC serial port outputs one data stream consisting of four
pickup. A bulk aluminum electrolytic capacitor of at least 22 μF                   on-chip ADCs followed by four unused slots. In Figure 13, the
should also be provided on the same PC board as the codec. For                     eight on-chip DAC data slots are packed into one TDM stream.
critical applications, improved performance is obtained with                       In this mode, both DBCLK and ABCLK are 256 fS.
separate supplies for the analog and digital sections. If this is
                                                                                   The I/O pins of the serial ports are defined according to the
not possible, it is recommended that the analog and digital
                                                                                   serial mode selected. For a detailed description of the function
supplies be isolated by means of a ferrite bead in series with each
                                                                                   of each pin in TDM and AUX modes, see Table 11.
supply. It is important that the analog supply be as clean as possible.
                                                                                   The ADAU1328 allows systems with more than eight DAC
All digital inputs are compatible with TTL and CMOS levels.
                                                                                   channels to be easily configured by the use of an auxiliary serial
All outputs are driven from the 3.3 V DVDD supply and are
                                                                                   data port. The DAC TDM-AUX mode is shown in Figure 14. In
compatible with TTL and 3.3 V CMOS levels.
                                                                                   this mode, the AUX channels are the last four slots of the TDM
The ADC and DAC internal voltage reference (VREF) is brought                       data stream. These slots are extracted and output to the AUX serial
out on FILTR and should be bypassed as close as possible to the                    port. It should be noted that due to the high DBCLK frequency, this
chip, with a parallel combination of 10 μF and 100 nF. Any                         mode is available only in the 48 kHz/44.1 kHz/32 kHz sample rate.
external current drawn should be limited to less than 50 μA.
                                                                                   The ADAU1328 also allows system configurations with more
The internal reference can be disabled in PLL and Clock                            than four ADC channels, as shown in Figure 15 and Figure 16,
Control 1 Register, and FILTR can be driven from an external                       which show using 8 ADCs and 16 ADCs, respectively. Again,
source. This can be used to scale the DAC output to the clipping                   due to the high ABCLK frequency, this mode is available only
level of a power amplifier based on its power supply voltage.                      in the 48 kHz/44.1 kHz/32 kHz sample rate.
The ADC input gain varies by the inverse ratio. The total gain
                                                                                   Combining the AUX DAC and ADC modes results in a system
from ADC input to DAC output remains constant.
                                                                                   configuration of 8 ADCs and 12 DACs. The system, then, con-
The CM pin is the internal common-mode reference. It should                        sists of two external stereo ADCs, two external stereo DACs,
be bypassed as close as possible to the chip, with a parallel                      and one ADAU1328. This mode is shown in Figure 17
combination of 47 μF and 100 nF. This voltage can be used to                       (combined AUX DAC and ADC modes).
bias external op amps to the common-mode voltage of the input                     LRCLK
and output signal pins. The output current should be limited to                                                             256 BCLKs
less than 0.5 mA source and 2 mA sink.                                              BCLK
                                                                                           32 BCLKs
SERIAL DATA PORTS—DATA FORMAT                                                       DATA
                                                                                           SLOT 1
                                                                                           LEFT 1
                                                                                                      SLOT 2
                                                                                                      RIGHT 1
                                                                                                                SLOT 3
                                                                                                                LEFT 2
                                                                                                                         SLOT 4
                                                                                                                         RIGHT 2   SLOT 5   SLOT 6    SLOT 7   SLOT 8
The eight DAC channels use a common serial bit clock (DBCLK)
and a common left-right framing clock (DLRCLK) in the serial                                                                            LRCLK
data port. The four ADC channels use a common serial bit clock                                                                          BCLK
(ABCLK) and left-right framing clock (ALRCLK) in the serial                                                                                                              06102-016
                                                                                                         MSB      MSB–1      MSB–2      DATA
data port. The clock signals are all synchronous with the sample                                       Figure 12. ADC TDM (8-Channel I2S Mode)
rate. The normal stereo serial modes are shown in Figure 23.
                                                                                  LRCLK
The ADC and DAC serial data modes default to I2S. The ports                                                                 256 BCLKs
can also be programmed for left justified, right justified, and                     BCLK
                                                                                           32 BCLK
TDM modes. The word width is 24 bits by default and can be
                                                                                           SLOT 1     SLOT 2    SLOT 3   SLOT 4    SLOT 5   SLOT 6    SLOT 7   SLOT 8
programmed for 16 or 20 bits. The DAC serial formats are                            DATA   LEFT 1     RIGHT 1   LEFT 2   RIGHT 2   LEFT 3   RIGHT 3   LEFT 4   RIGHT 4
programmable according to DAC Control 0 Register. The
polarity of the DBCLK and DLRCLK is programmable according                                                                              LRCLK
to DAC Control 1 Register. The ADC serial formats and serial                                                                            BCLK
clock polarity are programmable according to ADC Control 1                                                                                                               06102-017
                                                                                                         MSB      MSB–1      MSB–2      DATA
Register. Both DAC and ADC serial ports are programmable to                                            Figure 13. DAC TDM (8-Channel I2S Mode)
become the bus masters according to DAC Control 1 Register
and Control 2 Register. By default, both ADC and DAC serial
ports are in the slave mode.
                                                                  Rev. B | Page 15 of 32


ADAU1328                                                                                                                                                         Data Sheet
Table 11. Pin Function Changes in TDM and AUX Modes
Mnemonic            Stereo Modes                                       TDM Modes                                                       AUX Modes
ASDATA1             ADC1 Data Out                                      ADC TDM Data Out                                                TDM Data Out
ASDATA2             ADC2 Data Out                                      ADC TDM Data In                                                 AUX Data Out 1 (to External DAC 1)
DSDATA1             DAC1 Data In                                       DAC TDM Data In                                                 TDM Data In
DSDATA2             DAC2 Data In                                       DAC TDM Data Out                                                AUX Data In 1 (from External ADC 1)
DSDATA3             DAC3 Data In                                       DAC TDM Data In 2 (Dual-Line Mode)                              AUX Data In 2 (from External ADC 2)
DSDATA4             DAC4 Data In                                       DAC TDM Data Out 2 (Dual-Line Mode)                             AUX Data Out 2 (to External DAC 2)
ALRCLK              ADC LRCLK In/Out                                   ADC TDM Frame Sync In/Out                                       TDM Frame Sync In/Out
ABCLK               ADC BCLK In/Out                                    ADC TDM BCLK In/Out                                             TDM BCLK In/Out
DLRCLK              DAC LRCLK In/Out                                   DAC TDM Frame Sync In/Out                                       AUX LRCLK In/Out
DBCLK               DAC BCLK In/Out                                    DAC TDM BCLK In/Out                                             AUX BCLK In/Out
           ALRCLK
           ABCLK
                                                                                                                             AUXILIARY DAC CHANNELS
                                                                                                                                 WILL APPEAR AT
                            UNUSED SLOTS                                8-ON-CHIP DAC CHANNELS                                    AUX DAC PORTS
         DSDATA1
                    EMPTY    EMPTY   EMPTY   EMPTY   DAC L1   DAC R1   DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   AUX L1   AUX R1   AUX L2   AUX R2
         (TDM_IN)
                                         32 BITS
                              MSB
          DLRCLK                             LEFT                                                                       RIGHT
       (AUX PORT)
           DBCLK
       (AUX PORT)
         ASDATA2
       (AUX1_OUT)                        MSB                                                                    MSB
                                                                                                                                                                     06102-051
         DSDATA4
       (AUX2_OUT)                        MSB                                                                    MSB
                                                              Figure 14. 16-Channel DAC TDM-AUX Mode
                                                                          Rev. B | Page 16 of 32


Data Sheet                                                                                                                                      ADAU1328
       ALRCLK
        ABCLK
                                                                       8-ON-CHIP DAC CHANNELS
      DSDATA1      DAC L1             DAC R1           DAC L2           DAC R2          DAC L3        DAC R3           DAC L4      DAC R4
      (TDM_IN)
                                   4-ON-CHIP ADC CHANNELS                                               4-AUX ADC CHANNELS
       ASDATA1     ADC L1             ADC R1           ADC L2           ADC R2          AUX L1        AUX R1           AUX L2      AUX R2
     (TDM_OUT)
                                         32 BITS
                           MSB
       DLRCLK
    (AUX PORT)                               LEFT                                                              RIGHT
        DBCLK
    (AUX PORT)
      DSDATA2
     (AUX1_IN)                          MSB                                                             MSB
                                                                                                                                                   06102-050
      DSDATA3
     (AUX2_IN)                          MSB                                                             MSB
                                                               Figure 15. 8-Channel AUX ADC Mode
       ALRCLK
        ABCLK
                  4 ON-CHIP ADC CHANNELS             AUXILIARY ADC CHANNELS                               UNUSED SLOTS
       ASDATA1
                 ADC L1   ADC R1    ADC L2   ADC R2 AUX L1   AUX R1   AUX L2   AUX R2 UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED
     (TDM_OUT)
                                         32 BITS
                           MSB
       DLRCLK                                LEFT                                                              RIGHT
    (AUX PORT)
        DBCLK
    (AUX PORT)
      DSDATA2
     (AUX1_IN)                          MSB                                                             MSB
                                                                                                                                                   06102-052
      DSDATA3
     (AUX2_IN)                          MSB                                                             MSB
                                                              Figure 16. 16-Channel AUX ADC Mode
                                                                         Rev. B | Page 17 of 32


ADAU1328                                                                                                                                                          Data Sheet
       ALRCLK
        ABCLK
                                                                                                                              AUXILIARY DAC CHANNELS
                                                                                                                                     APPEAR AT
                          UNUSED SLOTS                                   8 ON-CHIP DAC CHANNELS                                    AUX DAC PORTS
      DSDATA1
                 EMPTY     EMPTY    EMPTY    EMPTY    DAC L1   DAC R1   DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   AUX L1   AUX R1   AUX L2   AUX R2
      (TDM_IN)
                  4 ON-CHIP ADC CHANNELS               AUXILIARY ADC CHANNELS                                        UNUSED SLOTS
      ASDATA1
                 ADC L1    ADC R1   ADC L2   ADC R2   AUX L1   AUX R1   AUX L2   AUX R2 UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED
    (TDM_OUT)
       DLRCLK                                LEFT                                                                        RIGHT
    (AUX PORT)
        DBCLK
    (AUX PORT)
      DSDATA2
     (AUX1_IN)                           MSB                                                                     MSB
      DSDATA3
     (AUX2_IN)                           MSB                                                                     MSB
      ASDATA2
    (AUX1_OUT)                           MSB                                                                     MSB
                                                                                                                                                                      06102-053
      DSDATA4
    (AUX2_OUT)                           MSB                                                                     MSB
                                                           Figure 17. Combined AUX DAC and ADC Mode
                                                                           Rev. B | Page 18 of 32


Data Sheet                                                                                                                                                                ADAU1328
DAISY-CHAIN MODE
The ADAU1328 also allows a daisy-chain configuration to                                           The dual-line TDM mode can also be used to send data at a
expand the system to 8 ADCs and 16 DACs (see Figure 18). In                                       192 kHz sample rate into the ADAU1328, as shown in Figure 20.
this mode, the DBCLK frequency is 512 fS. The first eight slots                                   There are two configurations for the ADC port to work in
of the DAC TDM data stream belong to the first ADAU1328 in                                        daisy-chain mode. The first one is with an ABCLK at 256 fS
the chain and the last eight slots belong to the second ADAU1328.                                 shown in Figure 21. The second configuration is shown in
The second ADAU1328 is the device attached to the DSP                                             Figure 22. Note that in the 512 fS ABCLK mode, the ADC
TDM port.                                                                                         channels occupy the first eight slots; the second eight slots are
                                                                                                  empty. The TDM_IN of the first ADAU1328 must be grounded
To accommodate 16 channels at a 96 kHz sample rate, the                                           in all modes of operation.
ADAU1328 can be configured into a dual-line, DAC TDM
mode, as shown in Figure 19. This mode allows a slower                                            The I/O pins of the serial ports are defined according to the
DBCLK than normally required by the one-line TDM mode.                                            serial mode selected. See Table 12 for a detailed description of
                                                                                                  the function of each pin. See Figure 26 for a typical ADAU1328
Again, the first four channels of each TDM input belong to the                                    configuration with two external stereo DACs and two external
first ADAU1328 in the chain and the last four channels belong                                     stereo ADCs.
to the second ADAU1328.
                                                                                                  Figure 23 through Figure 25 show the serial mode formats. For
                                                                                                  maximum flexibility, the polarity of LRCLK and BCLK are
                                                                                                  programmable. In these figures, all of the clocks are shown with
                                                                                                  their normal polarity. The default mode is I2S.
                  DLRCLK
                   DBCLK
                                      8 DAC CHANNELS OF THE FIRST IC IN THE CHAIN                          8 DAC CHANNELS OF THE SECOND IC IN THE CHAIN
         DSDATA1 (TDM_IN)
  OF THE SECOND ADAU1328     DAC L1    DAC R1   DAC L2    DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   DAC L1   DAC R1    DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4
       DSDATA2 (TDM_OUT)
  OF THE SECOND ADAU1328
                                                                                                       DAC L1   DAC R1    DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4
           THIS IS THE TDM
    TO THE FIRST ADAU1328
                                                         8 UNUSED SLOTS
                                                                                                                32 BITS
                                                                                                                                                                                06102-054
                          FIRST           SECOND             DSP
                        ADAU1328         ADAU1328                                                          MSB
                Figure 18. Single-Line DAC TDM Daisy-Chain Mode (Applicable to 48 kHz Sample Rate, 16-Channel, Two ADAU1328 Daisy Chain)
                                                                               Rev. B | Page 19 of 32


ADAU1328                                                                                                                                                 Data Sheet
         DLRCLK
           DBCLK
                            8 DAC CHANNELS OF THE FIRST IC IN THE CHAIN                     8 DAC CHANNELS OF THE SECOND IC IN THE CHAIN
        DSDATA1
            (IN)       DAC L1            DAC R1         DAC L2            DAC R2         DAC L1            DAC R1        DAC L2            DAC R2
        DSDATA2
           (OUT)                                                                         DAC L1            DAC R1        DAC L2            DAC R2
        DSDATA3
            (IN)       DAC L3            DAC R3         DAC L4            DAC R4         DAC L3            DAC R3        DAC L4            DAC R4
        DSDATA4
           (OUT)                                                                         DAC L3            DAC R3        DAC L4            DAC R4
                                           32 BITS
                               MSB
                                                                                                                                                             06102-055
                 FIRST          SECOND            DSP
               ADAU1328        ADAU1328
 Figure 19. Dual-Line DAC TDM Mode (Applicable to 96 kHz Sample Rate, 16-Channel, Two ADAU1328 Daisy Chain); DSDATA3 and DSDATA4 Are the Daisy Chain
         DLRCLK
           DBCLK
        DSDATA1                 DAC L1                           DAC R1                           DAC L2                          DAC R2
        DSDATA2                 DAC L3                           DAC R3                           DAC L4                          DAC R4
                                           32 BITS
                               MSB                                                                                                                           06102-058
                                  Figure 20. Dual-Line DAC TDM Mode (Applicable to 192 kHz Sample Rate, 8-Channel Mode)
                   ALRCLK
                   ABCLK
                                     4 ADC CHANNELS OF SECOND IC IN THE CHAIN                           4 ADC CHANNELS OF FIRST IC IN THE CHAIN
       ASDATA1 (TDM_OUT
 OF THE SECOND ADAU1328          ADC L1           ADC R1          ADC L2           ADC R2           ADC L1          ADC R1        ADC L2            ADC R2
            IN THE CHAIN)
         ASDATA2 (TDM_IN
 OF THE SECOND ADAU1328          ADC L1           ADC R1          ADC L2           ADC R2
            IN THE CHAIN)
                                                                                                        32 BITS
                     FIRST         SECOND
                   ADAU1328       ADAU1328           DSP
                                                                                                     MSB                                                                 06102-056
                                 Figure 21. Dual-Line ADC TDM Daisy-Chain Mode (256 fS ABCLK, Two ADAU1328 Daisy Chain)
                                                                           Rev. B | Page 20 of 32


Data Sheet                                                                                                                                          ADAU1328
                  ALRCLK
                   ABCLK
                                 4 ADC CHANNELS OF                    4 ADC CHANNELS OF
                               SECOND IC IN THE CHAIN                FIRST IC IN THE CHAIN
       ASDATA1 (TDM_OUT
 OF THE SECOND ADAU1328       ADC L1   ADC R1   ADC L2   ADC R2   ADC L1    ADC R1   ADC L2    ADC R2
            IN THE CHAIN)
         ASDATA2 (TDM_IN
 OF THE SECOND ADAU1328       ADC L1   ADC R1   ADC L2   ADC R2
            IN THE CHAIN)
                                                                                                            32 BITS
                    FIRST           SECOND
                                                     DSP
                  ADAU1328         ADAU1328
                                                                                                          MSB                                                       06102-057
                                   Figure 22. Dual-Line ADC TDM Daisy-Chain Mode (512 fS ABCLK, Two ADAU1328 Daisy Chain)
      LRCLK                                LEFT CHANNEL                                                               RIGHT CHANNEL
       BCLK
     SDATA         MSB                                       LSB                                 MSB                              LSB
                                                          LEFT-JUSTIFIED MODE—16 BITS TO 24 BITS PER CHANNEL
      LRCLK                                LEFT CHANNEL                                                               RIGHT CHANNEL
       BCLK
     SDATA                   MSB                                           LSB                            MSB                           LSB
                                                                  I2S MODE—16 BITS TO 24 BITS PER CHANNEL
      LRCLK                                LEFT CHANNEL                                                               RIGHT CHANNEL
       BCLK
     SDATA                             MSB                                           LSB                        MSB                           LSB
                                                     RIGHT-JUSTIFIED MODE—SELECT NUMBER OF BITS PER CHANNEL
      LRCLK
       BCLK
     SDATA                   MSB                                           LSB                            MSB                           LSB
                                                                  DSP MODE—16 BITS TO 24 BITS PER CHANNEL
                                                                                        1/fS
              NOTES
              1. DSP MODE DOES NOT IDENTIFY CHANNEL.
                                                                                                                                                        06102-013
              2. LRCLK NORMALLY OPERATES AT fS EXCEPT FOR DSP MODE, WHICH IS 2 × fS.
              3. BCLK FREQUENCY IS NORMALLY 64 × LRCLK BUT MAY BE OPERATED IN BURST MODE.
                                                                           Figure 23. Stereo Serial Modes
                                                                                 Rev. B | Page 21 of 32


ADAU1328                                                                                                                       Data Sheet
                   tDBH
         DBCLK
                           tDBL
                           tDLS                                                                                         tDLH
        DLRCLK
                            tDDS
         DSDATA
  LEFT-JUSTIFIED                  MSB              MSB–1
           MODE
                                        tDDH
                                                tDDS
         DSDATA
   I2S-JUSTIFIED                                       MSB
           MODE
                                                             tDDH
                                                                                            tDDS               tDDS
         DSDATA
 RIGHT-JUSTIFIED                                                                                  MSB             LSB
                                                                                                                                      06102-014
           MODE
                                                                                                        tDDH          tDDH
                                                                     Figure 24. DAC Serial Timing
                   tABH
         ABCLK
                           tABL
                           tALS                                                                                         tALH
        ALRCLK
                          tABDD
         ASDATA
  LEFT-JUSTIFIED
           MODE                         MSB                  MSB–1
                                               tABDD
         ASDATA
   I2S-JUSTIFIED                                             MSB
           MODE
                                                                                          tABDD
         ASDATA
                                                                                                                                      06102-015
 RIGHT-JUSTIFIED                                                                                        MSB             LSB
           MODE
                                                                     Figure 25. ADC Serial Timing
                                                                        Rev. B | Page 22 of 32


Data Sheet                                                                                                                                                   ADAU1328
Table 12. Pin Function Changes in TDM and AUX Modes (Replication of Table 11)
Mnemonic           Stereo Modes                                          TDM Modes                                                       AUX Modes
ASDATA1            ADC1 Data Out                                         ADC TDM Data Out                                                TDM Data Out
ASDATA2            ADC2 Data Out                                         ADC TDM Data In                                                 AUX Data Out 1 (to External DAC 1)
DSDATA1            DAC1 Data In                                          DAC TDM Data In                                                 TDM Data In
DSDATA2            DAC2 Data In                                          DAC TDM Data Out                                                AUX Data In 1 (from External ADC 1)
DSDATA3            DAC3 Data In                                          DAC TDM Data In 2 (Dual-Line Mode)                              AUX Data In 2 (from External ADC 2)
DSDATA4            DAC4 Data In                                          DAC TDM Data Out 2 (Dual-Line Mode)                             AUX Data Out 2 (to External DAC 2)
ALRCLK             ADC LRCLK In/Out                                      ADC TDM Frame Sync In/Out                                       TDM Frame Sync In/Out
ABCLK              ADC BCLK In/Out                                       ADC TDM BCLK In/Out                                             TDM BCLK In/Out
DLRCLK             DAC LRCLK In/Out                                      DAC TDM Frame Sync In/Out                                       AUX LRCLK In/Out
DBCLK              DAC BCLK In/Out                                       DAC TDM BCLK In/Out                                             AUX BCLK In/Out
                                         30MHz                                                                              SHARC IS RUNNING IN SLAVE MODE
                                                                                                                            (INTERRUPT-DRIVEN)
                                                       FSYNC-TDM (RFS)
                                                                                          SHARC
                                                                                 RxDATA      TFS (NC)
                                       12.288MHz
                                                                         RxCLK                          TxCLK      TxDATA
                        LRCLK                                                                                                                  LRCLK
                        BCLK                                                                                                                   BCLK
                 AUX                                                                                                                                 AUX
                ADC 1   DATA                                                                                                                   DATA DAC 1
                                                                         ASDATA1 ALRCLK ABCLK DSDATA1
                        MCLK                                                                                                                   MCLK
                                                     DBCLK
                                                     DLRCLK                               ADAU1328
                        LRCLK                                                                                                                  LRCLK
                        BCLK                         DSDATA2                                                    ASDATA2                        BCLK
                 AUX                                                                      TDM MASTER                                                 AUX
                ADC 2   DATA                         DSDATA3                              AUX MASTER            DSDATA4                        DATA DAC 2
                                                                                                                                                               06102-019
                        MCLK                         MCLK                                                                                      MCLK
                         Figure 26. Example of AUX Mode Connection to SHARC® (ADAU1328 as TDM Master/AUX Master Shown)
                                                                                 Rev. B | Page 23 of 32


ADAU1328                                                                                                                      Data Sheet
CONTROL REGISTERS
DEFINITIONS
The global address for the ADAU1328 is 0x04, shifted left 1 bit due to the R/W bit. All registers are reset to 0, except for the DAC volume
registers that are set to full volume.
Note that the first setting in each control register parameter is the default setting.
Table 13. Register Format
          Global Address                       R/W                                              Register Address                    Data
Bit       23:17                                16                                               15:8                                7:0
Table 14. Register Addresses and Functions
Address                    Function
0                          PLL and Clock Control 0
1                          PLL and Clock Control 1
2                          DAC Control 0
3                          DAC Control 1
4                          DAC Control 2
5                          DAC individual channel mutes
6                          DAC 1L volume control
7                          DAC 1R volume control
8                          DAC 2L volume control
9                          DAC 2R volume control
10                         DAC 3L volume control
11                         DAC 3R volume control
12                         DAC 4L volume control
13                         DAC 4R volume control
14                         ADC Control 0
15                         ADC Control 1
16                         ADC Control 2
PLL AND CLOCK CONTROL REGISTERS
Table 15. PLL and Clock Control 0
Bit          Value            Function                                Description
0            0                Normal operation                        PLL power-down
             1                Power-down
2:1          00               INPUT 256 (×44.1 kHz or 48 kHz)         MCLK pin functionality (PLL active)
             01               INPUT 384 (×44.1 kHz or 48 kHz)
             10               INPUT 512 (×44.1 kHz or 48 kHz)
             11               INPUT 768 (×44.1 kHz or 48 kHz)
4:3          00               XTAL oscillator enabled                 MCLKO pin
             01               256 × fS VCO output
             10               512 × fS VCO output
             11               Off
6:5          00               MCLK                                    PLL input
             01               DLRCLK
             10               ALRCLK
             11               Reserved
7            0                Disable: ADC and DAC idle               Internal MCLK enable
             1                Enable: ADC and DAC active
                                                               Rev. B | Page 24 of 32


Data Sheet                                                                                 ADAU1328
Table 16. PLL and Clock Control 1
Bit        Value         Function                           Description
0          0             PLL clock                          DAC clock source select
           1             MCLK
1          0             PLL clock                          ADC clock source select
           1             MCLK
2          0             Enabled                            On-chip voltage reference
           1             Disabled
3          0             Not locked                         PLL lock indicator (read-only)
           1             Locked
7:4        0000          Reserved
DAC CONTROL REGISTERS
Table 17. DAC Control 0
Bit    Value     Function                                   Description
0      0         Normal                                     Power-down
       1         Power-down
2:1    00        32 kHz/44.1 kHz/48 kHz                     Sample rate
       01        64 kHz/88.2 kHz/96 kHz
       10        128 kHz/176.4 kHz/192 kHz
       11        Reserved
5:3    000       1                                          SDATA delay (BCLK periods)
       001       0
       010       8
       011       12
       100       16
       101       Reserved
       110       Reserved
       111       Reserved
7:6    00        Stereo (normal)                            Serial format
       01        TDM (daisy chain)
       10        DAC AUX mode (ADC-, DAC-, TDM-coupled)
       11        Dual-line TDM
Table 18. DAC Control 1
Bit    Value     Function                                   Description
0      0         Latch in midcycle (normal)                 BCLK active edge (TDM in)
       1         Latch in at end of cycle (pipeline)
2:1    00        64 (2 channels)                            BCLKs per frame
       01        128 (4 channels)
       10        256 (8 channels)
       11        512 (16 channels)
3      0         Left low                                   LRCLK polarity
       1         Left high
4      0         Slave                                      LRCLK master/slave
       1         Master
5      0         Slave                                      BCLK master/slave
       1         Master
6      0         DBCLK pin                                  BCLK source
       1         Internally generated
7      0         Normal                                     BCLK polarity
       1         Inverted
                                                     Rev. B | Page 25 of 32


ADAU1328                                                                                     Data Sheet
Table 19. DAC Control 2
Bit         Value    Function                 Description
0           0        Unmute                   Master mute
            1        Mute
2:1         00       Flat                     De-emphasis (32 kHz/44.1 kHz/48 kHz mode only)
            01       48 kHz curve
            10       44.1 kHz curve
            11       32 kHz curve
4:3         00       24                       Word width
            01       20
            10       Reserved
            11       16
5           0        Noninverted              DAC output polarity
            1        Inverted
7:6         00       Reserved
Table 20. DAC Individual Channel Mutes
Bit         Value    Function                 Description
0           0        Unmute                   DAC 1 left mute
            1        Mute
1           0        Unmute                   DAC 1 right mute
            1        Mute
2           0        Unmute                   DAC 2 left mute
            1        Mute
3           0        Unmute                   DAC 2 right mute
            1        Mute
4           0        Unmute                   DAC 3 left mute
            1        Mute
5           0        Unmute                   DAC 3 right mute
            1        Mute
6           0        Unmute                   DAC 4 left mute
            1        Mute
7           0        Unmute                   DAC 4 right mute
            1        Mute
Table 21. DAC Volume Controls
Bit         Value    Function                 Description
7:0         0        No attenuation           DAC volume control
            1 to 254 −3/8 dB per step
            255      Full attenuation
                                       Rev. B | Page 26 of 32


Data Sheet                                                                                                  ADAU1328
ADC CONTROL REGISTERS
Table 22. ADC Control 0
Bit         Value       Function                                                 Description
0           0           Normal                                                   Power-down
            1           Power-down
1           0           Off                                                      High-pass filter
            1           On
2           0           Unmute                                                   ADC 1L mute
            1           Mute
3           0           Unmute                                                   ADC 1R mute
            1           Mute
4           0           Unmute                                                   ADC 2L mute
            1           Mute
5           0           Unmute                                                   ADC 2R mute
            1           Mute
7:6         00          32 kHz/44.1 kHz/48 kHz                                   Output sample rate
            01          64 kHz/88.2 kHz/96 kHz
            10          128 kHz/176.4 kHz/192 kHz
            11          Reserved
Table 23. ADC Control 1
Bit         Value       Function                                                 Description
1:0         00          24                                                       Word width
            01          20
            10          Reserved
            11          16
4:2         000         1                                                        SDATA delay (BCLK periods)
            001         0
            010         8
            011         12
            100         16
            101         Reserved
            110         Reserved
            111         Reserved
6:5         00          Stereo                                                   Serial format
            01          TDM (daisy chain)
            10          ADC AUX mode (ADC-, DAC-, TDM-coupled)
            11          Reserved
7           0           Latch in midcycle (normal)                               BCLK active edge (TDM in)
            1           Latch in at end of cycle (pipeline)
                                                          Rev. B | Page 27 of 32


ADAU1328                                                                                      Data Sheet
Table 24. ADC Control 2
Bit             Value   Function                                           Description
0               0       50/50 (allows 32-/24-/20-/16-BCLK/channel)         LRCLK format
                1       Pulse (32-BCLK/channel)
1               0       Drive out on falling edge (DEF)                    BCLK polarity
                1       Drive out on rising edge
2               0       Left low                                           LRCLK polarity
                1       Left high
3               0       Slave                                              LRCLK master/slave
                1       Master
5:4             00      64                                                 BCLKs per frame
                01      128
                10      256
                11      512
6               0       Slave                                              BCLK master/slave
                1       Master
7               0       ABCLK pin                                          BCLK source
                1       Internally generated
                                                    Rev. B | Page 28 of 32


Data Sheet                                                                                                                       ADAU1328
ADDITIONAL MODES
The ADAU1328 offers several additional modes for board level                      To relax the requirement for the setup time of the ADAU1328
design enhancements. To reduce the EMI in board level design,                     in cases of high speed TDM data transmission, the ADAU1328
serial data can be transmitted without an explicit BCLK. See                      can latch in the data using the falling edge of DBCLK. This
Figure 27 for an example of a DAC TDM data transmission                           effectively dedicates the entire BCLK period to the setup time.
mode that does not require high speed DBCLK. This configuration                   This mode is useful in cases where the source has a large delay
is applicable when the ADAU1328 master clock is generated by                      time in the serial data driver. Figure 28 shows this pipeline
the PLL with the DLRCLK as the PLL reference frequency.                           mode of data transmission.
                                                                                  Both the BLCK-less and pipeline modes are available on the
                                                                                  ADC serial data port.
           DLRCLK
                                         32 BITS
          INTERNAL
             DBCLK
           DSDATA
           DLRCLK
          INTERNAL
             DBCLK
       TDM-DSDATA                                                                                                                                  06102-059
                                        Figure 27. Serial DAC Data Transmission in TDM Format Without DBCLK
                            (Applicable Only If PLL Locks to DLRCLK. This Mode Is Also Available in the ADC Serial Data Port)
         DLRCLK
          DBCLK
                                                   DATA MUST BE VALID
                                                   AT THIS BCLK EDGE
         DSDATA                   MSB                                                                                                  06102-060
                                             Figure 28. I2S Pipeline Mode in DAC Serial Data Transmission
                                     (Applicable in Stereo and TDM Useful for High Frequency TDM Transmission.
                                               This Model Is Also Available in the ADC Serial Data Port.)
                                                                 Rev. B | Page 29 of 32


ADAU1328                                                                                                                                                                 Data Sheet
APPLICATION CIRCUITS
                                                                                                                        LRCLK                                   MCLK
Typical applications circuits are shown in Figure 29 through                                                 LF                                          LF
Figure 32. Figure 29 shows a typical ADC input filter circuit.                                                      +
                                                                                                                          39nF                                   5.6nF
                                                                                                                                         2.2nF                             390nF
Recommended loop filters for LR clock and master clock as the
                                                                                                                        3.32kΩ                                   562Ω
                                                                                                                                                                                   06102-027
PLL reference are shown in Figure 30. Output filters for the
                                                                                                       AVDD2                                     AVDD2
DAC outputs are shown in Figure 31 and Figure 32 for the
                                                                                               Figure 30. Recommended Loop Filters for LRCLK or MCLK PLL Reference
noninverting and inverting cases, respectively.
                                                                                                                                             240pF
                                     120pF                                                                                                    NPO
         600Z       5.76kΩ           5.76kΩ                                                                                      3
AUDIO                                                                                       DAC OUT                                      +
                                                                                                                                                     1        604Ω 4.7µF
INPUT
                             2                                                                         4.75kΩ 4.75kΩ                 OP275                                                     AUDIO
                                 –                                                                                               2                                  +                          OUTPUT
          100pF                               1                                                                                          –
                                 OP275                                                                                                       4.99kΩ                3.3nF       49.9kΩ
                             3                                                                                                                                      NPO
                                 +                                                                                270pF
                                                                                                                   NPO           4.99kΩ
                                                                                                                                                                                                                06102-024
                                     5.76kΩ       4.7µF 237Ω
                                                                    ADCxN
                                     120pF
                                                     +
                                                            1nF                               Figure 31. Typical DAC Output Filter Circuit (Single-Ended, Noninverting)
                                                           NPO
                                                                   100pF                                            68pF
                                     5.76kΩ                  1nF                                      11kΩ          NPO
                             6                              NPO
                                 –                4.7µF 237Ω                                  DAC                            2
                                                                                                                                     –
                                              7                                               OUT                                                 1       604Ω 4.7µF
                                 OP275
                                                     +              ADCxP                             11kΩ        3.01kΩ             OP275                                           AUDIO
                             5
                                                                              06102-023
                                 +                                                                                           3                                   +                   OUTPUT
                                                                                                                  CM                 +                          2.2nF        49.9kΩ
                                                                                                    270pF                                                        NPO
                                                                                                                                                                                                    06102-025
                                                                                                                   0.1µF
                                                                                                     NPO
                  Figure 29. Typical ADC Input Filter Circuit
                                                                                                Figure 32. Typical DAC Output Filter Circuit (Single-Ended, Inverting)
                                                                           Rev. B | Page 30 of 32


Data Sheet                                                                                                                                                ADAU1328
OUTLINE DIMENSIONS
                                                                                                             9.20
                                                                      0.75                                   9.00 SQ
                                                                                     1.60
                                                                      0.60           MAX                     8.80
                                                                      0.45                            48                 37
                                                                                                 1                            36
                                                                                                           PIN 1
                                                                                                                                   7.20
                                    1.45                                                                   TOP VIEW                7.00 SQ
                                                                0.20                                       (PINS DOWN)             6.80
                                    1.40
                                                                0.09
                                    1.35
                                                                  7°
                                                                 3.5°                            12                           25
                                       0.15                       0°                                  13                 24
                                       0.05     SEATING     0.08
                                                PLANE                                  VIEW A                             0.27
                                                            COPLANARITY                          0.50
                                                                                                 BSC                      0.22
                                                                                              LEAD PITCH                  0.17
                                              VIEW A
                                                                                                                                             051706-A
                                      ROTATED 90° CCW
                                                            COMPLIANT TO JEDEC STANDARDS MS-026-BBC
                                                          Figure 33. 48-Lead Low Profile Quad Flat Package [LQFP]
                                                                                  (ST-48)
                                                                      Dimensions shown in millimeters
ORDERING GUIDE
Model 1, 2                                 Temperature Range                                Package Description                                  Package Option
ADAU1328BSTZ                               −40°C to +85°C                                   48-Lead LQFP                                         ST-48
ADAU1328BSTZ-RL                            −40°C to +85°C                                   48-Lead LQFP, 13” Tape and Reel                      ST-48
EVAL-AD1938AZ                                                                               Evaluation Board
1
    Z = RoHS Compliant Part.
2
    Use the EVAL-AD1938AZ as the evaluation board for the ADAU1328. The AD1938 is an automotive grade functional equivalent to the ADAU1328, featuring two
    additional ADC channels.
                                                                             Rev. B | Page 31 of 32


ADAU1328                                                                                   Data Sheet
NOTES
©2006-2013 Analog Devices, Inc. All rights reserved. Trademarks and
registered trademarks are the property of their respective owners.
                                                   D06102-0-2/13(B)
                                                                    Rev. B | Page 32 of 32


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 ADAU1328BSTZ ADAU1328BSTZ-RL
