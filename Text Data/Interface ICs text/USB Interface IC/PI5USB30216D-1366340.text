                                                                                                                                                                                                                                                                    PI5USB30216D
    |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                                                                                                                                    Plug-in Detector for Type-C Connector
    Features                                                                                                                                                                  Description
         Compatible to USB Type-C™ Specification 1.1                                                                                                                         Pericom Semiconductor’s PI5USB30216D provides a cost-
         Backward compatible to USB Type-C Specification 1.0                                                                                                                 effective solution for USB 3.0 Type-C conne ctor applications.
         Supports Host mode/Device mode/Dual-role mode                                                                                                                       PI5U SB30216D detects the plug-in orientation of the cable at a
         Supports Dual-role modes with/without Try.SNK/Try.SRC                                                                                                               Type-C connector. It supports host mode, device mode and
          supported                                                                                                                                                           dual role mode ports with automatic configuration based on
         Auto-configure ports orientation through CC detection                                                                                                               the voltage levels detected on CC pins. It is a fully- integrated
         Supports both pin control and I2C interface for control and                                                                                                         solution with ultra-low power dissipatio n. PI5USB30216D
          communication                                                                                                                                                       enters power-saving mode when EN pin is pulled down to
         Integrated high-precision resistors and current sources for                                                                                                         GND through an internal resistor.
          CC pins
         Provides support for Default current, 1.5A and 3A modes                                                                                                             PI5U SB30216D supports both pin and I2C control base on
          with I2C control                                                                                                                                                    ADDR pin setting. It allows the system choose between pin
         Power saving mode                                                                                                                                                   control and I2C control mode. In pin control mode, the PORT
         Output indicator for plug-in detection                                                                                                                              input pin determines the port setting in which host, device or
         Wide power supply range : 2.7V – 5.5V                                                                                                                               dual-role port can be selected. In host mode, the system can
         Industrial Temperature Range: -40o C to 85o C                                                                                                                       monitor ID pin to know the connector status while default
                                                                                                                                                                              current mode is set. Systems running in device mode can
         Packaging (Pb-free & Green):
                                                                                                                                                                              monitor system VBUS for connector status as well as OUT1
          – 12- contact, STQFN(1.6mm x1.6mm)
                                                                                                                                                                              and OUT2 pins for host’s charging profile capability. Enabling
                                                                                                                                                                              I2C control mode allows higher flexibility for port control and
                                                                                                                                                                              communications        through      registers   read/write     in
    Applications
                                                                                                                                                                              PI5U SB30216D. There is also flexibility to support Default,
                    Notebooks                                                                                                                                                1.5A and 3A current modes. An interrupt signal for indicating
                    Mobile Phones                                                                                                                                            changes with the I2C registers is sent to the master to notify
                    Tablets                                                                                                                                                  the system any change in the Type-C connector while in
                                                                                                                                                                              parallel the system can still monitor ID pin.
                    Docking Station
                                                                                                                                                                              Block Diagram
    Pin Configuration
                                                 VDD          EN             GND           ID
                                                  12            11            10             9
                                                  1                                             8          SCL / OUT2
                                CC1
                                CC2               2                                             7          SDA / OUT1
                                                    3              4           5              6
                                                              VBUSDET
                                                                              ADDR
                                                                                             INTB / OUT3
                                                 PORT
                            Figure 1. Pin Assignment (Top)
                            Vi )
                                                                                                                                                                                              Figure 2. PI5USB30216D Block diagram
    16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                     1


                                                                                                                                                                                                                                                               PI5USB30216D
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                                                                                                                               Plug-in Detector for Type-C Connector
Pin Descriptions
   Pin Number                                    Pin Name                                       I/O                            Description
                     1                                          CC1                                     I/O                    Type-C Configuration channel signal
                     2                                          CC2                                     I/O                    Type-C Configuration channel signal
                                                                                                                               Tri-level input pin to indicate port mode in pin control mode (see
                                                                                                                               functional description):
                                                                                                                               PORT is floating – Dual role (DRP with Try.SNK in Pin Control
                     3                                       PORT                                           I
                                                                                                                               Mode);
                                                                                                                               PORT=VDD – Host (SRC);
                                                                                                                               PORT=GND – Device (SNK)
                                                                                                                               4V to 28V VBUS input voltage. VBUS detection determines Device
                     4                                 VBUSDET                                              I                  attachment. One 910kΩ external resistor required between system
                                                                                                                               VBUS and VBUSDET pin
                                                                                                                               Tri-level input pin to indicate I2 C address or pin control mode:
                                                                                                                               ADDR is floating – Pin control mode;
                     5                                       ADDR                                           I
                                                                                                                               ADDR=VDD                                        – I2 C enabled with ADDR bit 6 equal to 1;
                                                                                                                               ADDR=GND                                       – I2 C enabled with ADDR bit 6 equal to 0
                                                                                                                               Open drain output. In I2 C control mode, this is an active LOW interrupt
                                                                                                                               signal for indicating changes in I2 C registers.
                     6                             INTB / OUT3                                            O                    Dual function as audio adapter accessory detection in pin control mode:
                                                                                                                               OUT3=Hi-Z – Not detected
                                                                                                                               OUT3=Low – Audio adapter accessory detected
                                                                                                                               I2 C communication data signal.
                                                                                                                               Dual function as open drain Type-C Current Mode Detect 1 in pin
                                                                                                                               control mode when port is a device:
                     7                              SDA / OUT1                                          I/O                    OUT2 OUT1 Current Mode
                                                                                                                                   Hi-Z Hi-Z Default
                                                                                                                                   Hi-Z Low Medium
                                                                                                                                   Low Low High
                                                                                                                                 2
                                                                                                                               I C communication clock signal.
                                                                                                                               Dual function as open drain Type-C Current Mode Detect 2 in pin
                                                                                                                               control mode when port is a device:
                     8                               SCL / OUT2                                         I/O                    OUT2 OUT1 Current Mode
                                                                                                                                   Hi-Z Hi-Z Default
                                                                                                                                   Hi-Z Low Medium
                                                                                                                                   Low Low High
                                                                                                                               Open drain output. Asserted low when CC pin detected device
                     9                                            ID                                      O                    attachment when port is a Host (or dual-role acting as Host), otherwise
                                                                                                                               ID is hi-z.
                   10                                          GND                                  Ground                     Ground
                                                                                                                               Active-high enable input pin (with internal weak pull down)
                   11                                            EN                                         I                  EN=GND – Disabled/Low Power State
                                                                                                                               EN=VDD – Enabled/Active State
                   12                                          VDD                                   Power                     Positive supply voltage from VBAT
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 2


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Application Circuit
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 3


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Maximum Ratings
                                                                                                                                                                                               Note:
  Storage Temperature.................................................................... -65oC to +150oC                                                                                      Stresses great er than those listed under MAXIMUM
  Supply Voltage from Battery/Baseband ........................................... -0.5V to +6.0V                                                                                              RATINGS may cause permanent damage to the
  ID Pin Sink current ...................................................................................... 10mA                                                                              devi ce. This is a stress rating only and functional
  ESD: HBM all pins.................................................................................... 2000V                                                                                  operation of the devi ce at these or any ot her
                                                                                                                                                                                               conditions above those indi cated in the operational
                                                                                                                                                                                               sections of this speci fi cation is not implied.
                                                                                                                                                                                               Exposure t o absolut e maximum rating conditions
                                                                                                                                                                                               for extended periods may affect reliability.
Recommended operation conditions
            Symbol                                                                                                     Parameter                                                                                                             Min.                                  Max.                         Units
  VDD                                          Battery Supply Voltage                                                                                                                                                                          2.7                                    5.5                            V
  VBUS                                         System VBUS Voltage                                                                                                                                                                                4                                    28                            V
  VBAT TH                                      Battery Supply Under-Voltage Lockout Threshold                                                                                                                                                  2.2                                    2.6                            V
  VIH                                          High level input voltage (EN, SCL, SDA)                                                                                                                                                        1.05                                      -                            V
  VIL                                          Low level input voltage (EN, SCL, SDA)                                                                                                                                                             -                                   0.4                            V
  V3IH                                         High level input voltage (ADDR, PORT)                                                                                                                                                    VDD-0.4                                         -                            V
  V3IL                                         Low level input voltage (ADDR, PORT)                                                                                                                                                               -                                   0.4                            V
  VVBUSDET                                     VBUSDET input voltage(1)                                                                                                                                                                           -                                4.5V                              V
  VTYP EC_CC                                   CC1, CC2 input voltage(2)                                                                                                                                                                          -                          VDD+0.5                                 V
  VTYP EC_VCONN                                CC1, CC2 input voltage when it is used for VCONN                                                                                                                                                                                       5.5                            V
  TA                                           Operating Temperature                                                                                                                                                                           -40                                     85                          °C
(1) VBUSDET pin is internally clamp to ~5.5V.
(2) CC1, CC2 pins are internally clamp to ~VDD+1.0V except when the pin is used for VCONN during attached.SRC state
DC Electrical Characteristics
Min and Max apply for T A between -40°C to 85°C and T J up to +125°C (unless otherwise noted).
Typical values are referenced to VDD =3.6V, T A =+25°C
   Symbol                                                          Parameter                                                                                      Test Conditions                                                         Min.                    Typ.                     Max.                  Units
CC1/CC2 Configuration(Device mode, SNK)
Rd                       Device mode pull-down resistor                                                                                                                                                                                     4.6                     5.1                      5.6                     kΩ
VTH3_SNK High current mode entry threshold                                                                                                                                                                                                1.16                     1.23                     1.31                      V
VTH2_SNK Medium current mode entry threshold                                                                                                                                                                                              0.61                     0.66                     0.70                      V
VTH1_SNK Default current mode entry threshold                                                                                                                                                                                             0.15                      0.2                     0.25                      V
CC1/CC2 Configuration(Host mode, SRC)
                                                                                                                                        Default current mode                                                                                 64                      80                       96
Ip                       Host mode pull up current source                                                                               Medium current mode (1.5A)                                                                         166                      180                      194                    µA
                                                                                                                                        High current mode (3A)                                                                             304                      330                      356
VBUS Detection
VVBUS                    VBUS detection threshold                                                                                       RVBUS=910kohm                                                                                     2.51                     3.01                     4.01                      V
                         External resistor between VBUS and
RVBUS                                                                                                                                                                                                                                      865                      910                      955                     kΩ
                         VBUSDET pin
Host Interface Pins (INTB, ID, OUT1, OUT2, OUT3)
                         Output Low Voltage at
VOL                                                                                                                                                                                                                                           0                        -                     0.4                      V
                         1.6 mA Sink current(Open-Drain)
IOFF                     Off-state leakage current                                                                                      VINTB.ID/ID/OUT1/OUT2/OUT3                                                                             -                       -                       1                    µA
Input Control Pins (EN, ADDR, PORT, SCL, SDA)
IIH                      High-level input current                                                                                                                                                                                            -5                        -                       5                    µA
IIL                      Low-level input current                                                                                                                                                                                             -5                        -                       5                    µA
RIEN                     Internal pull-down resistance for EN                                                                                                                                                                                 2                        5                      10                   MΩ
Current Consumption
                         Operating current, Device mode                                                                                 SNK connects to SRC                                                                                    -                     35                       65                    µA
IDD                                                                                                                                     SRC connects to SNK
                         Operating current, Host mode                                                                                                                                                                                          -                    135                      190                    µA
                                                                                                                                        Default current mode
IDISABLE Chip is disabled                                                                                                               EN=GND                                                                                                 -                       -                       5                    µA
IDEV STBY Device mode standby current                                                                                                   VDD =3.6V, Floating CC1 and CC2                                                                        -                     35                       65                    µA
IDUAL STBY Dual-Role mode standby current                                                                                               VDD =3.6V, Floating CC1 and CC2                                                                        -                     45                       75                    µA
IHOST_STBY Host mode standby current                                                                                                    VDD =3.6V, Floating CC1 and CC2                                                                        -                     55                       85                    µA
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 4


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Detailed Description using I2C Control
ADDR
       ADDR is a tri-level input pi n to indi cat e I2C or pi n cont rol (or GPIO) mode. When ADDR pin is fl oati ng, the part is set to pin
control mode. When ADDR is set to VDD or GND, I2C mode is enabl ed, and bit 6 of I2C address is equal to 1 or 0 according to
ADDR set to VDD or GND (see Table 2: I2C Slave Address).
Configuration
       The PI5USB30216D requires minimal configuration for proper detection and reporting. Write register 0x02 (Control Register)
to configure different charging profiles and port settings.
Processor Communication
       Typical communication steps between the processor and the PI5USB30216D during plug detection are:
1. INTB asserted LOW, indicating changes in register 0x03 (Interrupt Register) or register 0x04 (CC Status Register).
2. Processor reads Int errupt regist ers to determi ne whi ch event occurred. Int errupt Regist er (0x03) indicat es i f an attach or det ach
        event was detect ed. All interrupt flags in Int errupt Register (0x03) will be cleared aft er the I2 C read action. INTB will become
       hi-z again after the clearance of interrupt flags.
3. Processor reads CC Status Regist er (0x04) to determi ne plugin det ails and charging profil e. Processor can confi gure the power
       and USB channels according to information in CC Status Register (0x04).
Interrupts
       The baseband processor recognizes interrupt signals by observing the INTB signal, which is active LOW. Interrupts are
masked upon bit 0 of Control Register 0x02 (Interrupt Mask Bit). Aft er the Interrupt Mask Bit is cleared by the baseband
processor, the INTB pin is hi-z in preparation for a future interrupt. When an interruptibl e event occurs, INTB pin transits to LOW
and ret urns hi-z when the processor reads the Int errupt Regist er (0x03). Subsequent to the initial power up or reset; i f the
processor writ es a “ 1” to Interrupt Mask Bit (bit 0 of Control Regist er 0x02) when the syst em is already powered up, INTB pin
stays hi-z and ignores all interrupts until the interrupt mask bit is cleared.
       Besides monitori ng the I2 C regist ers, the syst em can also monitor ID pin and VB US for connector st atus. If the port is
confi gured as a devi ce (or dual-rol e acting as device), VBUS will go to 5V when host attachment is detect ed. If the port is
confi gured as a host (or dual-rol e acting as host), ID pin will pull low when devi ce attachment is det ected, and syst em should
assert VBUS.
Port Setting (Host/Device/Dual-Role)
        When power is applied to VDD, an internal Power-On Reset (POR) holds the PI5USB30216D in a reset condition until VDD
has reached 2.6V. At that point, the reset condition is released and the PI5USB30216D registers and I2 C-bus state machine will
initialize to their default states. After power up, the port setting can be changed by I2C writes to [2:1] of Control Register (0x02).
Thereafter, VDD must be lowered below 1.0V to reset the device (both registers and I2 C-bus state machine).
       PI5USB30216D connects current sources to CC1 and CC2 when operating in host mode. It will also set the current level
according to the charging current setting. In device mode, PI5USB30216D will connect two integrat ed resistor R d1 and Rd2 to
CC1 and CC2 respectivel y.
        Dual-R ol e & Dual-R ole 2 modes enabl es CC1 and CC2 toggl e between host mode and device mode alt ernatively. The toggling
will stop aft er connection is made and role negotiat ed. Dual-R ol e mode has similar chances to connect as SRC or SNK. Dual-Role
2 with Try.SNK support ed has higher chance to connect as SNK and has a longer duty cycl e ~65% in devi ce mode. Dual-Role 2
with Try.SRC supported has higher chance to connect as SRC and has a longer duty cycle ~65% in host mode.
Current Mode Setting and Detection
        PI5USB30216D can be confi gured as di fferent current modes per CC1/CC2 setting. Host mode (or dual rol e acting as Host)
allows the syst em to configure bet ween Hi gh Current Mode (3A), Medium Current Mode (1.5A) and Default Current Mode.
Di fferent current modes can be set by writing Control Regist er (0x02). When in Device mode (or dual role acting as devi ce),
CC1/CC2 pins allow the system to det ect the host charging capability. The charging capability is report ed in CC Status Register
(0x04) which can help the system to configure the charging current accordingly.
ID
       When PI5USB30216D is configured as host mode (or dual role acting as host), ID pin will be pulled low when a device is
attached to the type-C connector. The ID pin will work as an interrupt signal to acknowledge system when there is device
attachment. It should be noted the ID pin will not be driven low when an audio or debug accessory is detected, and ID pin will
always stay Hi-Z when port is in device mode.
Audio Adapter Accessory and Debug Accessory Mode
        PI5USB30216D can detect audio adapter accessory or debug accessory attachment as per CC1/CC2 setting. This is reported in
CC Status Register (0x04) to help system to configure Audio Adapter Accessory Mode or Debug Accessory Mode accordingly.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 5


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
VBUS Detection
       PI5USB30216D detects VBUS to determine the attached state when port is a device. A 910kohm +/- 5% is required to
connect VBUS of the connector to VBUSDET input pin to protect the IC from the possible high voltage of VBUS during
alternative mode.
EN
       EN is an active high enabl e input pin. When EN pin is low, part is in disabl e and low power state. All outputs, with the
exception of CC1, CC2, SCL, SDA & INTB are in High-Z stat e. CC1 and CC2 pins are pulled low with resistors Rd in disable
state. I2 C port will also be reset duri ng disabl e state. SCL & SDA are still functional when the part is disable and ADDR is not
fl oating. I2C port will also reset duri ng every transition (rising or falling edge) of EN. Connection State will also be reset and
forced to be Unatt ached.SNK stat e. Int errupt will be set low and Register 03H/ 04H (Int errupt/CC status) will be updat ed to
indicate the change of state. However, disable has no effect on the value of Register 02H (Control).
When EN pin is high, part is enabled. The connection state will activate and detection will restart.
Dead Battery Startup
       PI5USB30216D ensures dead battery charging when VDD=0V. Both CC1 and CC2 will be pulled down when VDD=0V. Such
configuration helps other host port detect the dead battery port as a device mode port and enable charging through VBUS.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 6


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Pin Control Functional Description
Type-C Connector Port Setting (PORT)
PI5USB30216D can be configured as different ports by changing PORT pin voltage level.
                                                                                                                                   Table 1A. Port Setting
                                                                                                                Port setting                                                                                     PORT
                                                                            Device (SNK)                                                                                                                           GND
                                                                            Dual-role port (DRP) with Try.SNK                                                                                         No Connection
                                                                            Host (SRC)                                                                                                                             VDD
Type-C Connector Current Mode Detection (OUT1, OUT2)
PI5USB30216D can detect different host current modes and other accessori es per CC1/CC2 setting. When PI5USB30216D
operates in device mode (or dual role mode acting as device), it detects CC1/CC2 status to determine host charging current modes
and reports to the system using OUT1 and OUT2 pins. OUT1 and OUT2 will always stay hi-z unless medium or high current
mode is detected.
                                                                                                                   Table 1B. Current Mode Detection
                                                                                                                                                                                        OUT2                                                OUT1
                                                        Default current mode                                                                                                              Hi-Z                                                Hi-Z
                                                        Medium current mode (1.5A)                                                                                                        Hi-Z                                                 Low
                                                        High current mode (3A)                                                                                                             Low                                                 Low
Type-C Connector Current Mode Setting in Host Mode
When PI5USB30216D is configured as a host, it can only be set to Default Current Mode (current source Ip=80uA). I2C control
is required to set current mode to 1.5A or 3A.
Audio Adapter Accessory Detection (OUT3)
PI5USB30216D detects audio adapter accessory attachment as per CC1/CC2 setting. This is reported by the OUT3 pin. OUT3
will be pulled low when an audio adapter accessory attachment is detected. Otherwise, OUT3 is hi-z.
                                                                                                    Table 1C. Audio Adapter Accessory Detection
                                                                                              Audio Adapter Accessory                                                                                             OUT3
                                                                            Detected                                                                                                                                 Low
                                                                            Not Detected                                                                                                                            Hi-Z
ADDR, ID, EN, and Dead Battery Startup
Functionality of the ADDR, ID, and EN pins are the same for pin control or I2C control modes. Dead battery startup operation is
also the same for pin control and I2C control modes. Please refer to previous section for detail description.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 7


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
I2C AC Electrical Characteristics
                                                                                                                                                                                                                                         Fast Mode (400kHz)
Symbol                                                                                                         Parameter                                                                                                                                                                                         Units
                                                                                                                                                                                                                                              Min.                                    Max.
fSCL                             SCL Clock Frequency                                                                                                                                                                                               0                                    400                         kHz
tHDSTA                           Hold Time (Repeated) START Condition                                                                                                                                                                            0.6                                       -                         µs
tLOW                             LOW Period of SCL Clock                                                                                                                                                                                         1.3                                       -                         µs
tHIGH                            HIGH Period of SCL Clock                                                                                                                                                                                        0.6                                       -                         µs
tSETSTA                          Set-up Time for Repeated START Condition                                                                                                                                                                        0.6                                       -                         µs
tHDDAT                           Data Hold Time                                                                                                                                                                                                    0                                    0.9                          µs
tSETDAT                          Data Set-up Time                                                                                                                                                                                               250                                        -                         ns
tr                               Rise Time of SDA and SCL Signals                                                                                                                                                                                  -                                    300
                                                                                                                                                                                                                                                                                                                     ns
tf                               Fall Time of SDA and SCL Signals                                                                                                                                                                                  -                                    300
tSETSTO                          Set-up Time for STOP Condition                                                                                                                                                                                  0.6                                       -                         µs
tBUF                             Bus-Free Time between STOP and START Conditions                                                                                                                                                                 1.3                                       -                         µs
tSP                              Pulse Width of Spikes that Must Be Suppressed by the Input Filter                                                                                                                                                 0                                     50                          ns
                                                               Figure 3. Definition of Timing for Full-Speed Mode Devices on the I2 C Bus
                                                                                                                               Table 2. I2 C Slave Address
                          Name                                            Size (Bits)                             Bit 7                        Bit 6                       Bit 5                      Bit 4                     Bit 3                     Bit 2                      Bit 1                        Bit 0
   Slave Address(ADDR=1)                                                                                               0                           1                            1                          1                         1                          0                        1                        R/W
                                                                                      8
   Slave Address(ADDR=0)                                                                                               0                           0                            1                          1                         1                          0                        1                        R/W
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 8


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
I2C Data Transfer
Note:
1. PI5USB30216D does not have offset byte. All registers must be read or written sequentially from 0x00. For example, in order to read
          address 0x04, PI5USB30216D I2C registers must be read sequentially from 0x01, 0x02, 0x03 to 0x04. In order to write address 0x02, it
          must be written sequentially from 0x01 to 0x02.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                                 9


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Table 3. I2C Register
Address                  Name                               Description                                                                                                                                                                           Default Value                                    Type
0x01                     Device ID                          Bits [7:5] = Chip ID                                                                                                                                                                  20h                                              R
                                                                   01h = PI5USB30216D
                                                            Bits [4:3] = Version ID
                                                                   00h = Product version
                                                            Bits [2:0] = Vendor ID(Pericom)
                                                                   00h = Pericom
0x02                     Control                            Bit 7 = Powersaving                                                                                                                                                                   00h                                              R/W
                                                                   0 = Enable/Active state
                                                                   1 = Disable and low power state
                                                                   In Disable and low power state, all outputs of PI5USB30216D, with the
                                                                     exception of CC1 and CC2 pins, are in High-Z State. CC1 and CC2 pins
                                                                     are pulled low with resistor Rd.
                                                            Bits [6] = Dual role 2 Try.SRC or Try.SNK setting
                                                                   0 = Enable Try.SRC supported
                                                                   1 = Enable Try.SNK supported
                                                            Bits [5] = Accessory Detection in Device M ode
                                                                   0 = Disable
                                                                   1 = Enable
                                                            Bits [4:3] = Charging current mode
                                                            System can set the charging current mode when port is a host or dual role
                                                            acting as host. These bits are ignored when port is a device or dual role
                                                            acting as device.
                                                                   00 = Default current mode
                                                                   01 = M edium current mode (1.5A)
                                                                   10 = High current mode (3A)
                                                            Bits [2:1] = 00h (POR value)
                                                            System can set the role of the port.
                                                                   00 = Device (SNK)
                                                                   01 = Host (SRC)
                                                                   10 = Dual Role (DRP)
                                                                   11 = Dual Role 2 (DRP) where Try.SRC or Try.SNK is supported
                                                            Bit 0 = Interrupt M ask
                                                            INTB pin is used to acknowledge system if there is any interrupt events
                                                            triggered. When this bit is set to 0, INTB pin is pulled low when an interrupt
                                                            event occur. When this bit is set to 1, INTB pin ignores all interrupt and
                                                            remain High-Z.
                                                                   0 = Do not mask interrupt
                                                                   1 = M ask interrupt
0x03                     Interrupt                          Bits [7:2] = Reserved. Read all 0’s.                                                                                                                                                  00h                                              Clearable
                                                                                                                                                                                                                                                                                                   read               only.
                                                            Bit 1 = Detach event                                                                                                                                                                                                                   Bits[1:0] are
                                                            When this bit is set to 1, it indicates the unplug action. The port changes                                                                                                                                                            cleared when
                                                            from attached state (Attached.SNK, Attached.SRC, AudioAccessory or                                                                                                                                                                     Byte 3 is
                                                            DebugAccessory state) to unattached state.                                                                                                                                                                                             read.
                                                            Bit 0 = Attach event
                                                            When this bit is set to 1, it indicates the plug action. The port changes from
                                                            unattached state to attached state.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               10


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Address                  Name                               Description                                                                                                                                                                           Default Value                                    Type
0x04                     CC status                          Bit 7 = VBUS detection                                                                                                                                                                00h                                              R
                                                            This bit reports VBUS status when PI5USB30216D is in device mode, dual
                                                            role mode acting as device or accessory mode.
                                                                   0 = VBUS not detected
                                                                   1 = VBUS detected
                                                            Bits [6:5] = Charging current detection
                                                            These bits report the detected host charging current status when port is a
                                                            device or dual role acting as device.
                                                                   00 = Standby
                                                                   01 = Default current mode
                                                                   10 = M edium current mode (1.5A)
                                                                   11 = High current mode (3A)
                                                            Bits [4:2] = Attached port status
                                                                   000 = Standby
                                                                   001 = Device
                                                                   010 = Host
                                                                   011 = Audio Adapter Accessory
                                                                   100 = Debug Accessory
                                                                   101 = Device with Active Cable
                                                            Bits [1:0] = Plug polarity
                                                                   00 = Standby
                                                                   01 = CC1 makes connection
                                                                   10 = CC2 makes connection
                                                                   11 = Undetermined (e.g. AudioAccessory, DebugAccessory or other
                                                            undetermined connections)
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               11


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Table 3. I2C Register Table
                                                        Reset
Address Register Type                                                                 Bit 7                        Bit 6                          Bit 5                            Bit 4                             Bit 3                           Bit 2                        Bit 1                          Bit 0
                                                        Value
                  Device
  01H                                  Read 00100000                                  Chip ID (PI5USB30216D): 001                                                                        Version ID : 00                                                    Vendor ID (Pericom): 000
                       ID
                                                                                                                                           Accessory
                                                                                                             Dual Role                                                          Charging Current mode                                                      Port setting
                                                                             Powersaving                                                  Detection in                                                                                                                                                Interrupt M ask
                                                                                                                       2                                                                 (Port is a Host)                                                  (see below)
                                                                                                                                        Device M ode
                                       Read
                                                                                                            0:   Try.SRC                                                                                                                                                                                  0: Does not
  02H            Control                   / 00000000                                0: No                                                                                                                                                                  00: Device
                                                                                                             supported                                                                       00: Default                                                                                                        M ask
                                      Write                                  Powersaving                                                    0: Disable                                                                                                      01: Host
                                                                                                                      1:                                                                     01: M edium                                                                                                   Interrupts
                                                                                         1:                                                  1: Enable                                                                                                      10: Dual Role
                                                                                                              Try.SNK                                                                        10: High                                                                                                        1: M ask
                                                                             Powersaving                                                                                                                                                                    11: Dual Role 2
                                                                                                             supported                                                                                                                                                                                     Interrupts
                                                                                                                                                                                                                                                                                Detach
                                                                                                                                                                                                                                                                                                        Attach Event
                                                                                                                                                                                                                                                                                 Event
                                       Read                                                                                                                                                                                                                                             0: No Interrupt
  03H Interrupt                            / 00000000                                                                                                            reserved                                                                                                    1: Change
                                      Clear                                                                                                                                                                                                                                                                 1: Change
                                                                                                                                                                                                                                                                                  from
                                                                                                                                                                                                                                                                                                       from detached
                                                                                                                                                                                                                                                                           attached to
                                                                                                                                                                                                                                                                                                          to attached
                                                                                                                                                                                                                                                                              detached
                                                                                    VBUS
                                                                                 detection
                                                                                 (Port is a Charging current detection
                                                                                                                                                                                                  Attached Port Status                                                                    Plug polarity
                                                                             Device or in                             (Port is a Device)
                                                                                accessory
                                                                                    mode)
  04H CC status Read 00000000
                                                                                                                                                                                          000: Standby
                                                                              0: Vbus not                                      00: Standby                                                001: Device                                                                                       00: Standby
                                                                                  detected                                     01: Default                                                010: Host                                                                                 01: CC1 connected
                                                                                  1: Vbus                                      10: M edium                                                011: Audio                                                                                10: CC2 connected
                                                                                  detected                                     11: High                                                   100: Debug Accessory                                                                        11: undetermined
                                                                                                                                                                                          101: Device with Active cable
In I2C mode,PI5USB30216D will initialize to device mode when powered up, Bit 1and Bit 2 of the register 02H is 00 whenever
the Port is GND,VDD or floating.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               12


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: SRC
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               13


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: SNK (Accessory Detection is disable)
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               14


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: SNK (Accessory Detection is enable)
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               15


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: DRP
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               16


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: DRP with Try.SRC Supported
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               17


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Connection State Diagram: DRP with Try.SNK Supported
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               18


                                                                                                                                                                                                                                                                        PI5USB30216D
                                                                                                                                                            Plug-in Detector for Type-C connector
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                                                                                    Mechanical Information
STQFN 1.6 X 1.6 -12 Contact (To Be Provided)
Ordering Information
Ordering Number                                                                                         Package Code                                                               Package Description
PI5USB30216DXUAEX                                                                                       XUA                                                                        12-Contact, Super Thin (QFN), Tape & Reel
Note:
          1. Thermal characteristics can be found on the company web site at www.pericom.com/packaging/
          2. E = Pb-free and Green
          3. X suffix = Tape/Reel
                                                        Pericom Semiconductor Corporation  1-800-435-2336  www.pericom.com
Pericom reserves the right to make changes to its products or specifications at any time, without notice, in order to improve design or performance and to supply
the best possible product. Pericom does not assume any responsibility for use of any circuitry described other than the circuitry embodied in Pericom product. The
company makes no representations that circuitry described herein is free from patent infringement or other rights of Pericom.
16-0043                                                                                                                                                                                                                                                                                                  03/07/16
                                                                                                                                                               19


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Diodes Incorporated:
 PI5USB30216DXUAEX
