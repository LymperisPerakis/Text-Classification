                                                                                                                                                                                                                                                                CY7C65642
                                                                                                                                                        HX2VL - Very Low-Power USB 2.0
                                                                                                                                                                   TetraHub™ Controller
HX2VL - Very Low-Power USB 2.0 TetraHub™ Controller
Features                                                                                                                                                                            ❐ Integrated upstream/downstream termination resistors
                                                                                                                                                                                    ❐ Integrated port status indicator control
■      High-performance, low-power USB 2.0 hub, optimized for                                                                                                                       ❐ 12-MHz +/-500 ppm external crystal with drive level 600 W
       low-cost designs with minimum bill-of-material (BOM).                                                                                                                          (integrated PLL) clock input with optional 27/48-MHz
                                                                                                                                                                                      oscillator clock input.
■      USB 2.0 hub controller                                                                                                                                                       ❐ Internal power failure detection for ESD recovery
       ❐ Compliant with USB2.0 specification, TID# 30000059
       ❐ Up to four downstream ports support
                                                                                                                                                                              ■     Downstream port management
       ❐ Downstream ports are backward compatible with FS, LS                                                                                                                       ❐ Support individual and ganged mode power management
       ❐ Multiple translator (TT), one per downstream port for                                                                                                                      ❐ Overcurrent detection
         maximum performance.                                                                                                                                                       ❐ Two status indicators per downstream port
■      Very low-power consumption                                                                                                                                             ■     Maximum configurability
       ❐ Supports bus-powered and self-powered modes                                                                                                                                ❐ VID and PID are configurable through external EEPROM
       ❐ Auto switching between bus-powered and self-powered                                                                                                                        ❐ Number of ports, removable/non-removable ports are
       ❐ Single MCU with 2 K ROM and 64 byte RAM                                                                                                                                      configurable through EEPROM and I/O pin configuration
       ❐ Lowest power consumption.                                                                                                                                                  ❐ I/O pins can configure gang/individual mode power
                                                                                                                                                                                      switching, reference clock source and polarity of power
■      Highly integrated solution for reduced BOM cost                                                                                                                                switch enable pin
       ❐ Internal regulator – single power supply 5 V required.                                                                                                                     ❐ Configuration options also available through mask ROM
       ❐ Provision of connecting 3.3 V with external regulator.                                                                                                               ■     Available in space saving 48-pin TQFP (7 × 7 mm) and 28-pin
       ❐ Integrated upstream pull-up resistor                                                                                                                                       QFN (5 × 5 mm) packages
       ❐ Integrated pull-down resistors for all downstream ports
                                                                                                                                                                              ■     Supports 0 C to +70 C temperature range
 Block Diagram
                                                                                                                                                                                                                                                             I2C /
                                                                              D+              D-                                                                                                                   MCU
                                                                                                                                                                                                                                                              SPI
            12/27/48                                                                                                                                                                                           RAM             ROM
                                                                        USB 2.0 PHY
              MHz                                                                                                              Serial
                                                                                                                                                                                HS USB
             OSC-in                                                                                                          Interface
                                                                 PLL                                                                                                          Control Logic
             OR 12                                                                                                            Engine
              MHz
             Crystal                                        USB Upstream Port
                                                                                                                                                                                                                                                        5 V i/p (for internal
                                                                                                                                                                                                                                                        regulator)
                                                                                                                                       Transaction Translator x 4                                                                                       NC (for external regulator)
                                                                                                                                                                                                       1.8 V         Regulator
                                                            Hub Repeater
                                                                                                                                                                                                       3.3 V                                           3.3 V i/p (with ext. reg. & 28-QFN
                                                                                                                                                                                                                                                       NC (with ext. reg. & 48-TQFP)
                                                                                                                                                                                                                                                       3.3 V o/p (for int. reg.)
                                                                                                                                            Routing Logic
                                                      USB Downstream Port 1                        USB Downstream Port 2                               USB Downstream Port 3                            USB Downstream Port 4
                                                      USB 2.0                            Port      USB 2.0                              Port           USB 2.0                               Port       USB 2.0                               Port
                                                       PHY                              Control     PHY                                Control          PHY                                 Control      PHY                                 Control
                                                       D+ D-    P W R # [1]    O V R # [1]   LED   D+ D-   P W R # [2]   O V R # [2]
                                                                                                                                          LED           D+ D-   P W R # [3]   O V R # [3]
                                                                                                                                                                                               LED       D+ D-   P W R # [4]   O V R # [4]
                                                                                                                                                                                                                                                LED
Cypress Semiconductor Corporation                                                                              •                       198 Champion Court                                       •     San Jose, CA 95134-1709                                 •     408-943-2600
Document Number: 001-65659 Rev. *K                                                                                                                                                                                                                          Revised April 13, 2018


                                                                                                                    CY7C65642
More Information
Cypress provides a wealth of data at www.cypress.com to help you to select the right HX2VL device for your design, and to help you
to quickly and effectively integrate the device into your design. For a comprehensive list of resources, see the knowledge base article
http://www.cypress.com/?id=2411.
■ Overview: USB Portfolio, USB Roadmap                                  ■ Reference Designs:
■ USB 2.0 Hub Controller Selectors: HX2LP, HX2VL                          ❐ CY4608 HX2VL Very Low-Power USB 2.0 Compliant 4-Port
                                                                            Hub Development Kit
■ Application notes: Cypress offers a large number of USB appli-
                                                                          ❐ CY4607 HX2VL Very Low-Power USB 2.0 Compliant 4-Port
  cation notes covering a broad range of topics, from basic to
                                                                            Hub Development Kit
  advanced level. Recommended application notes for getting
  started with HX2VL are:                                               ■ Models: HX2VL (CY7C65632/34/42) - IBIS
  ❐ AN72332 - Guidelines on System Design using Cypress's
     USB 2.0 Hub (HX2VL)
  ❐ AN69235 - Migrating from HX2/HX2LP to HX2VL
HX2VL Development Kit
HX2VL Development Kit board is a tool to demonstrate the features of HX2VL devices (CY7C65632, CY7C65634). In the initial phase
of the design, this board helps developers to understand the chip features and limitations before proceeding with a complete design.
The Development kit includes support documents related to board hardware, PC application software, and EEPROM configuration
data (.iic) files.
Document Number: 001-65659 Rev. *K                                                                                       Page 2 of 26


                                                                                                                                                        CY7C65642
Contents
Introduction ....................................................................... 4       Port Number Configuration ........................................ 15
HX2VL Architecture .......................................................... 4              Non Removable Ports Configuration.......................... 15
     USB Serial Interface Engine ........................................ 4                  Reference Clock Configuration ................................. 15
     HS USB Control Logic ................................................. 4           Absolute Maximum Ratings .......................................... 16
     Hub Repeater .............................................................. 4      Operating Conditions..................................................... 16
     MCU ............................................................................ 4 Electrical Characteristics ............................................... 17
     Transaction Translator ................................................ 4               DC Electrical Characteristics ..................................... 17
     Port Control ................................................................. 4        AC Electrical Characteristics ..................................... 18
Applications ...................................................................... 4   Thermal Resistance ........................................................ 18
Functional Overview ........................................................ 5          Ordering Information...................................................... 19
     System Initialization ..................................................... 5           Ordering Code Definitions ......................................... 19
     Enumeration ................................................................ 5     Package Diagrams .......................................................... 20
     Multiple Transaction Translator Support ..................... 5                    Acronyms ........................................................................ 22
     Upstream Port ............................................................. 5      Document Conventions ................................................. 22
     Downstream Ports ....................................................... 5              Units of Measure ....................................................... 22
     Power Switching .......................................................... 5       Silicon Errata for the HX2VL, CY7C65642 Product
     Overcurrent Detection ................................................. 5          Family ............................................................................. 23
     Port Indicators ............................................................. 5         Part Numbers Affected .............................................. 23
     Power Regulator .......................................................... 6            HX2VL Qualification Status ....................................... 23
     External Regulation Scheme ....................................... 6                    HX2VL Errata Summary ............................................ 23
     Internal Regulation Scheme ........................................ 6              Document History Page ................................................. 24
Pin Configurations ........................................................... 7        Sales, Solutions, and Legal Information ...................... 26
Pin Definitions .................................................................. 9         Worldwide Sales and Design Support ....................... 26
Pin Definitions ................................................................ 12          Products .................................................................... 26
EEPROM Configuration Options ................................... 14                          PSoC® Solutions ...................................................... 26
Pin Configuration Options ............................................. 15                   Cypress Developer Community ................................. 26
     Power ON Reset ....................................................... 15               Technical Support ..................................................... 26
     Gang/Individual Power Switching Mode .................... 15
     Power Switch Enable Pin Polarity ............................. 15
Document Number: 001-65659 Rev. *K                                                                                                                                Page 3 of 26


                                                                                                                   CY7C65642
Introduction                                                        MCU
                                                                    The HX2VL has MCU with 2 K ROM and 64 byte RAM. The MCU
HX2VL is Cypress’s next generation family of high- performance,     operates with a 12 MHz clock to decode USB commands from
very low-power USB 2.0 hub controllers. HX2VL has integrated        host and respond to the host. It can also handle GPIO settings
upstream and downstream transceivers; a USB serial interface        to provide higher flexibility to the customers and control the read
engine (SIE); USB hub control and repeater logic; and               interface to the EEPROM which has extended configuration
transaction translator (TT) logic. Cypress has also integrated      options.
external components such as voltage regulator and
pull-up/pull-down resistors, reducing the overall BOM required to   Transaction Translator
implement a USB hub system.
                                                                    The TT translates data from one speed to another. A TT takes
The CY7C65642 is a part of the HX2VL portfolio with four            high-speed split transactions and translates them to full or
downstream ports and an independent TT dedicated for each           low-speed transactions when the hub is operating at high-speed
downstream port. This device option is for low-power but            (the upstream port is connected to a high speed host controller)
high-performance applications that require up to four               and has full or low- speed devices attached. The operating speed
downstream ports. The CY7C65642 is available in 48-pin TQFP         of a device attached on a downstream port determines whether
and 28-pin QFN package options.                                     the routing logic connects a port to the TT or to hub repeater.
All device options are supported by Cypress’s world class           When the upstream host and downstream device are functioning
reference design kits, which include board schematics, BOM,         at different speeds, the data is routed through the TT. In all other
Gerber files, Orcad files, and thorough design documentation.       cases, the data is routed through the repeater. For example, If a
                                                                    full or low-speed device is connected to the high-speed host
HX2VL Architecture                                                  upstream through the hub, then the data transfer route includes
                                                                    TT. If a high-speed device is connected to the high-speed host
The Block Diagram on page 1 shows the HX2VL TetraHub™               upstream through the hub, the transfer route includes the
architecture.                                                       repeater. When the hub is connected to a full-speed host
                                                                    controller upstream, then high-speed peripheral does not
USB Serial Interface Engine                                         operate at its full capability. These devices only work at full
The SIE allows HX2VL to communicate with the USB host. The          speed. Full and low-speed devices connected to this hub operate
SIE handles the following USB activities independently of the       at their normal speed.
Hub Control Block.                                                  Port Control
■  Bit stuffing and unstuffing                                      The downstream ‘Port Control’ block handles the
■  Checksum generation and checking                                 connect/disconnect and over current detection as well as the
■  TOKEN type identification                                        power enable and LED control. It also generates the control
                                                                    signals for the downstream transceivers.
■  Address checking.
                                                                    Applications
HS USB Control Logic
‘Hub Control’ block co-ordinates enumeration, suspend and           Typical applications for the HX2VL device family are:
resume. It generates status and control signals for host access     ■  Docking stations
to the hub. It also includes the frame timer that synchronizes the  ■  Standalone hubs
hub to the host. It has status/control registers which function as
the interface to the firmware in the MCU.                           ■  Monitor hubs
                                                                    ■  Multi-function printers
Hub Repeater
                                                                    ■  Digital televisions
The hub repeater manages the connectivity between upstream
and downstream facing ports that are operating at the same          ■  Advanced port replicators
speed. It supports full and high-speed connectivity. According to   ■  Keyboard hubs
the USB 2.0 specification, the hub repeater provides the
following functions:                                                ■  Gaming consoles
■  Sets up and tears down connectivity on packet boundaries
■  Ensures orderly entry into and out of ‘Suspend’ state, including
   proper handling of remote wakeups.
Document Number: 001-65659 Rev. *K                                                                                       Page 4 of 26


                                                                                                                   CY7C65642
Functional Overview                                                  Downstream D+ and D– pull-down resistors are incorporated in
                                                                     CY7C65642 for each port. Before the hubs are configured, the
The Cypress CY7C65642 USB 2.0 Hubs are low-power hub                 ports are driven Single Ended Zero, ((SE0) where both D+ and
solutions for USB which provide maximum transfer efficiency          D– are driven low) and are set to the unpowered state. When the
with no TT multiplexing between downstream ports. The                hub is configured, the ports are not driven and the host may
CY7C65642 USB 2.0 Hubs integrate 1.5 k upstream pull-up             power the ports by sending a SetPortPower command for each
resistors for full speed operation and all downstream 15 k          port. After a port is powered, any connect or disconnect event is
pull-down resistors and series termination resistors on all          detected by the hub. Any change in the port state is reported by
upstream and downstream D+ and D– pins. This results in              the hubs back to the host through the Status Change Endpoint
optimization of system costs by providing built-in support for the   (endpoint 1). On receipt of SetPortReset request for a port with
USB 2.0 specification.                                               a device connected, the hub does as follows:
System Initialization                                                ■ Performs a USB Reset on the corresponding port
On power up, CY7C65642 has an option to enumerate from the           ■ Puts the port in an enabled state
default settings in the mask ROM or from reading an external
EEPROM for configuration information. At the most basic level,       ■ Enables babble detection after the port is enabled.
this EEPROM has the Vendor ID (VID) and the Product ID (PID),        Babble consists of a non idle condition on the port after EOF2. If
for the customer's application. For more specialized                 babble is detected on an enabled port, that port is disabled. A
applications, other configuration options can be specified. See      ClearPortEnable request from the host also disables the
EEPROM Configuration Options on page 14 for more details.            specified port.
CY7C65642 verifies the checksum before loading the EEPROM
contents as the descriptors.                                         Downstream ports can be individually suspended by the host
                                                                     with the SetPortSuspend request. If the hub is not suspended, a
Enumeration                                                          remote wakeup event on that port is reflected to the host through
                                                                     a port change indication in the Hub Status Change Endpoint. If
CY7C65642 enables the pull-up resistor on D+ to indicate its
                                                                     the hub is suspended, a remote wakeup event on this port is
presence to the upstream hub, after which a USB Bus Reset is
                                                                     forwarded to the host. The host may resume the port by sending
expected. After a USB Bus Reset, CY7C65642 is in an
                                                                     a ClearPortSuspend command.
unaddressed, unconfigured state (configuration value set to ‘0’).
During the enumeration process, the host sets the hub's address      Power Switching
and configuration. After the hub is configured, the full hub
functionality is available.                                          The CY7C65642 includes interface signals for external port
                                                                     power switches. Both ganged and individual (per-port)
Multiple Transaction Translator Support                              configurations are supported by pin strapping, see Pin
                                                                     Configuration Options on page 15.
After TetraHub is configured in a high speed system, it is in single
TT mode. The host may then set the hub into multiple TT mode         After enumerating, the host may power each port by sending a
by sending a SetInterface command. In multiple TT mode, each         SetPortPower request for that port. Power switching and
full speed port is handled independently and thus has a full         overcurrent detection are managed using respective control
12 Mbps bandwidth available. In Single TT mode, all traffic from     signals (PWR#[n] and OVR#[n]) which are connected to an
the host destined for full or low-speed ports are forwarded to all   external power switch device. Both High/Low enabled power
of those ports. This means that the 12 Mbps bandwidth is shared      switches are supported and the polarity is configured through
by all full and low-speed ports.                                     GPIO setting, see Pin Configuration Options on page 15.
Upstream Port                                                        Overcurrent Detection
The upstream port includes the transmitter and the receiver state
                                                                     The OVR#[n] pins of the CY7C65642 series are connected to the
machine. The transmitter and receiver operate in high speed and
                                                                     respective external power switch’s port overcurrent indication
full speed depending on the current hub configuration. The
                                                                     (output) signals. After detecting an overcurrent condition, hub
transmitter state machine monitors the upstream facing port
                                                                     reports overcurrent condition to the host and disables the
while the Hub Repeater has connectivity in the upstream
                                                                     PWR#[n] output to the external power device. OVR#[n] has a
direction. This machine prevents babble and disconnect events
                                                                     setup time of 20 ns. It takes 3 to 4 ms from overcurrent detection
on the downstream facing ports of this hub from propagating and
                                                                     to deassertion of PWR#[n]
causing the hub to be disabled or disconnected by the hub to
which it is attached.                                                Port Indicators
Downstream Ports                                                     The USB 2.0 port indicators are also supported directly by
The CY7C65642 supports a maximum of four downstream ports,           CY7C65642. According to the specification, each downstream
each of which may be marked as usable or removable in the            port of the hub optionally supports a status indicator. The
EEPROM configuration, see EEPROM Configuration Options on            presence of indicators for downstream facing ports is specified
page 14. Additionally, it can also be configured by pin strapping,   by bit 7 of the wHubCharacteristics field of the hub class
see Pin Configuration Options on page 15.                            descriptor. The default CY7C65642 descriptor specifies that the
                                                                     port indicators are supported. The CY7C65642 port indicators
                                                                     has two modes of operation: automatic and manual.
Document Number: 001-65659 Rev. *K                                                                                        Page 5 of 26


                                                                                                                                   CY7C65642
On power up the CY7C65642 defaults to automatic mode, where
the color of the Port Indicator (green, amber, off) indicates the
functional status of the CY7C65642 port. The LEDs are turned                       5 V to 3.3 V                               5 V to 3.3 V
                                                                                     Regulator                                  Regulator
off when the device is suspended.
                                                                                NC                NC                                        NC
           Port Status                                                                             VCC
                                                                                VREG                                    VREG                 VCC
           Indicator                      LED
                                                                                     CY7C65642                                 CY7C65642
                                                                                         48 Pin                                   28 Pin
                                                                                VCC_A           VCC_D                    VCC_A             VCC_D
Power Regulator                                                                                   External Regulation Scheme
CY7C65642 requires 3.3 V source power for normal operation of
internal core logic and USB physical layer (PHY). The integrated
low-drop power regulator converts 5 V power input from USB        Internal Regulation Scheme
cable (Vbus) to 3.3 V source power. The 3.3 V power output is     When the built-in internal regulator is chosen, then the VCC pin
guaranteed by an internal voltage reference circuit when the      has to be connected to a 5 V, in both 48-pin and 28-pin packages.
input voltage is within the 4 V–5.5 V range. The regulator’s      Internally, the built-in regulator generates a 3.3 V and 1.8 V for
maximum current loading is 150 mA, which provides tolerance       the chip’s internal usage. Also a 3.3 V output is available at
margin over CY7C65642’s normal power consumption of below         VREG pin, that has to be connected externally to VCC_A and
100 mA. The on chip regulator has a quiescent current of 28 µA.   VCC_D.
External Regulation Scheme
CY7C65642 supports both external regulation and internal
regulation schemes. When an external regulation is chosen,                        3.3 V           5V                       3.3 V            5V
then for the 48-pin package, VCC and VREG are to be left open
with no connection. The external regulator output 3.3 V has to be
connected to VCC_A and VCC_D pins. This connection has to                       VREG              VCC                   VREG                VCC
be done externally, on board. For the 28-Pin package, the 3.3 V
output from the external regulator has to be connected to VREG,                     CY7C65642                                CY7C65642
                                                                                        48 Pin                                   28 Pin
VCC_A and VCC_D. The VCC pin has to be left open with no
connection. From the external input 3.3 V, 1.8 V is internally                 VCC_A            VCC_D                   VCC_A             VCC_D
generated for the chip’s internal usage.
                                                                                                  Internal Regulation Scheme
Document Number: 001-65659 Rev. *K                                                                                                            Page 6 of 26


                                                                                                                                                                                 CY7C65642
Pin Configurations
                                        Figure 1. 48-pin TQFP (7 × 7 × 1.4 mm) pinout
                                              FIXED_PORT
                                                                    SEL27
                                                                                                                                                  SELFPWR
                                                        1                       PWR#[1]
                                                                                            OVR#[1]   PWR#[2]   OVR#[2]
                                               AMBER[1] /       GREEN[1] /
                                                                                                                                     VCC_D
                                                                                       /
                                 VREG   VCC        SPI_CS         SPI_SK /      I2C_SDA                                   GANG
                                 48     47      46          45         44          43        42        41        40       39          38           37
                                                                                                                                                                36   AMBER[2] / SPI_MOSI /
                   VCC_A     1
                                                                                                                                                                     PWR_PIN_POL
                                                                                                                                                                     GREEN[2] /
                     GND     2                                                                                                                                  35   SPI_MISO /
                                                                                                                                                                     FIXED_PORT2
                       D-    3                                                                                                                                  34   VCC_D
                                                                                                                                                                33   AMBER[3] /
                      D+     4
                                                                                                                                                                     SET_PORT_NUM2
                             5
                                                                    CY7C65642                                                                                   32   GREEN[3] /
                   DD-[1]
                                                                    48-pin TQFP
                                                                                                                                                                     FIXED_PORT3
                   DD+[1]    5                                                                                                                                  31   PWR#[3]
                   VCC_A     7                                                                                                                                  30   OVR#[3]
                     GND     8                                                                                                                                  29   PWR#[4]
                   DD-[2]    9                                                                                                                                  28   OVR#[4]
                   DD+[2]   10                                                                                                                                  27   TEST / I2C_SCL
                    RREF    11                                                                                                                                  26   RESET#
                   VCC_A    12                                                                                                                                  25   SEL48
                                  13     14     15          16          17         18         19        20        21       22         23            24
                                 GND    XIN
                                                XOUT
                                                            VCC_A      DD-[3]      DD+[3]    VCC_A
                                                                                                       GND
                                                                                                                 DD-[4]   DD+[4]
                                                                                                                                   GREEN[4] /
                                                                                                                                                AMBER[4] /
                                                                                                                                   FIXED_PORT
                                                                                                                                   4
                                                                                                                                                SET_PORT_NUM1
Document Number: 001-65659 Rev. *K                                                                                                                                                           Page 7 of 26


                                                                                                                                                      CY7C65642
Pin Configurations (continued)
                                          Figure 2. 28-pin QFN (5 × 5 × 0.8 mm) pinout
                                                                                  OVR # [1]   O VR # [2]                SELFPWR
                                                                     PWR#/
                                                  VREG   VCC        I2C_SDA                                GANG
                                                  28     27          26           25          24           23          22
                                   D -        1                                                                                   21   VC C_ D
                                   D+         2                                                                                   20   O V R # [3]
                             D D - [1]        3
                                                              CY7C65642                                                           19   O V R # [4]
                             D D + [1]        4                                                                                   18   TEST/I2C_SCL
                                                                      28-pin QFN
                                                                              -
                             V C C_ A         5                                                                                   17    RESET#
                             DD   - [2]       6                                                                                   16   D D + [4]
                             DD   + [2]       7                                                                                   15   DD    - [4]
                                                  8      9          10            11          12           13          14
                                                                                                                       V C C_ A
                                                                     XIN
                                                                                  XOUT
                                                                                              DD
                                                         V C C_ A                                          D D + [3]
                                                  RREF
                                                                                              - [3]
Document Number: 001-65659 Rev. *K                                                                                                                       Page 8 of 26


                                                                                                                                           CY7C65642
Pin Definitions
48-pin TQFP Package
      Pin Name                Pin No.         Type [1]                                                Description
 Power and Clock
        VCC_A                     1                P      VCC_A. 3.3 V analog power to the chip.
        VCC_A                     7                P      VCC_A. 3.3 V analog power to the chip.
        VCC_A                    12                P      VCC_A. 3.3 V analog power to the chip.
        VCC_A                    16                P      VCC_A. 3.3 V analog power to the chip.
        VCC_A                    19                P      VCC_A. 3.3 V analog power to the chip.
        VCC_D                    34                P      VCC_D. 3.3 V digital power to the chip.
        VCC_D                    38                P      VCC_D. 3.3 V digital power to the chip.
          VCC                    47                P      VCC. 5 V input to the internal regulator; NC if using external regulator
         VREG                    48                P      VREG. 5–3.3 V regulator o/p during internal regulation; NC if using external regulator.
         GND                      2                P      GND. Connect to ground with as short a path as possible.
         GND                      8                P      GND. Connect to ground with as short a path as possible.
         GND                     13                P      GND. Connect to ground with as short a path as possible.
         GND                     20                P      GND. Connect to ground with as short a path as possible.
          XIN                    14                 I     12-MHz crystal clock input, or 12/27/48MHz clock input
         XOUT                    15                O      12-MHz Crystal OUT. (NC if external clock is used).
   SEL48 / SEL27               25 / 44              I     Clock source selection inputs.
                                                          00: Reserved
                                                          01: 48-MHz OSC-in
                                                          10: 27-MHz OSC-in
                                                          11: 12-MHz Crystal or OSC-in
       RESET#                    26                 I     Active LOW Reset. External reset input, default pull high 10 k; When RESET =
                                                          low, whole chip is reset to the initial state
     SELFPWR                     37                 I     Self Power. Input for selecting self/bus power. 0 is bus powered, 1 is self powered.
         GANG                    39               I/O     GANG. Default is input mode after power-on-reset.
                                                          Gang Mode: Input:1 -> Output is 0 for normal operation and 1 for suspend
                                                          Individual Mode: Input:0 -> Output is 1 for normal operation and 0 for suspend
                                                          Refer to gang / individual power switching modes in Pin Configuration Options on
                                                          page 15 for details.
         RREF                    11               I/O     649  resistor must be connected between RREF and Ground.
 System Interface
          Test                   27            I(RDN)     Test. 0: Normal Operation and 1: Chip will be put in test mode.
       I2C_SCL                               I/O(RDN)     I2C_SCL. Can be used as I2C clock pin to access I2C EEPROM.
 Upstream Port
           D–                     3             I/O/Z     Upstream D– Signal.
           D+                     4             I/O/Z     Upstream D+ Signal.
Note
 1. Pin Types: I = Input, O = Output, P = Power/Ground, Z = High Impedance, RDN = Pad internal Pull Down Resistor, RUP = Pad internal Pull Up Resistor.
Document Number: 001-65659 Rev. *K                                                                                                                 Page 9 of 26


                                                                                                                                             CY7C65642
Pin Definitions (continued)
48-pin TQFP Package
      Pin Name               Pin No.     Type [1]                                                      Description
 Downstream Port 1
        DD–[1]                   5         I/O/Z       Downstream D– Signal.
        DD+[1]                   6         I/O/Z       Downstream D+ Signal.
     AMBER[1]                   46       O(RDN)        LED. Driver output for amber LED. port indicator support.
       SPI_CS                            O(RDN)        SPI_CS. Can be used as chip select to access external SPI EEPROM.
    GREEN[1] [2]                45       O(RDN)        LED. Driver output for green LED. Port indicator support.
       SPI_SK                            O(RDN)        SPI_SK. Can be used as SPI Clock to access external SPI EEPROM.
   FIXED_PORT1                            I(RDN)       FIXED_PORT1. At POR used to set Port1 as non removable port. Refer Pin
                                                       Configuration Options on page 15.
       OVR#[1]                  42        I(RUP)       Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
                                                       Detection Input.
       PWR#[1]                  43          O/Z        Power Switch Driver Output. Default is Active LOW.
      I2C_SDA                                I/O       I2C_SDA. Can be used as I2C Data pin, connected with I2C EEPROM.
 Downstream Port 2
        DD–[2]                   9         I/O/Z       Downstream D– Signal.
        DD+[2]                  10         I/O/Z       Downstream D+ Signal.
     AMBER[2]                   36       O(RDN)        LED. Driver output for Amber LED. Port Indicator Support.
     SPI_MOSI                            O(RDN)        SPI_MOSI. Can be used as Data Out to access external SPI EEPROM.
   PWR_PIN_POL                            I(RDN)       PWR_PIN_POL. Used for power switch enable pin polarity setting. Refer Pin
                                                       Configuration Options on page 15.
    GREEN[2] [2]                35       O(RDN)        LED. Driver output for Green LED. Port Indicator Support.
     SPI_MISO                             I(RDN)       SPI_MISO. Can be used as Data In to access external SPI EEPROM.
   FIXED_PORT2                            I(RDN)       FIXED_PORT2. At POR used to set Port2 as non removable port. Refer Pin
                                                       Configuration Options on page 15.
       OVR#[2]                  40        I(RUP)       Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
                                                       Detection Input.
       PWR#[2]                  41          O/Z        Power Switch Driver Output. Default is Active LOW
 Downstream Port 3
        DD–[3]                  17         I/O/Z       Downstream D– Signal.
        DD+[3]                  18         I/O/Z       Downstream D+ Signal.
     AMBER[3]                   33       O(RDN)        LED. Driver output for Amber LED. Port indicator support.
 SET_PORT_NUM2                            I(RDN)       SET_PORT_NUM2. Used to set port numbering along with SET_PORT_NUM1.
                                                       Refer Pin Configuration Options on page 15.
     GREEN[3]                   32       O(RDN)        LED. Driver output for Green LED. Port indicator support.
   FIXED_PORT3                            I(RDN)       FIXED_PORT3. At POR used to set Port3 as non removable port. Refer Pin
                                                       Configuration Options on page 15.
       OVR#[3]                  30        I(RUP)       Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
                                                       Detection Input.
       PWR#[3]                  31          O/Z        Power Switch Driver Output. Default is Active LOW.
Note
 2. Pin-strapping GREEN[1] and GREEN[2] enables proprietary function that may affect the normal functionality of HX2VL. Configuring Port #1 and #2 as non-removable
    by pin-strapping should be avoided.
Document Number: 001-65659 Rev. *K                                                                                                                  Page 10 of 26


                                                                                                                     CY7C65642
Pin Definitions (continued)
48-pin TQFP Package
      Pin Name           Pin No.      Type [1]                                        Description
 Downstream Port 4
        DD–[4]             21           I/O/Z    Downstream D– Signal.
        DD+[4]             22           I/O/Z    Downstream D+ Signal.
     AMBER[4]              24         O(RDN)     LED. Driver output for Amber LED. Port Indicator Support.
 SET_PORT_NUM1                         I(RDN)    SET_PORT_NUM1. Used to set port numbering along with SET_PORT_NUM2.
                                                 Refer “Pin Configuration Options” on page 15
     GREEN[4]              23         O(RDN)     LED. Driver output for Green LED. Port Indicator Support.
   FIXED_PORT4                         I(RDN)    FIXED_PORT4. At POR used to set Port4 as non removable port. Refer Pin
                                                 Configuration Options on page 15.
       OVR#[4]             28          I(RUP)    Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
                                                 Detection Input.
       PWR#[4]             29            O/Z     Power Switch Driver Output. Default is Active LOW.
Note: The alternate function of these pins as LED indicator is not available if the pins are strapped to logic high, unless a separate
circuit is designed to support logic high. Disconnect after 60 ms of power-on reset (POR), when these pins are reconfigured as
outputs.
Document Number: 001-65659 Rev. *K                                                                                        Page 11 of 26


                                                                                                                                           CY7C65642
Pin Definitions
28-pin QFN Package
      Pin Name                Pin No.         Type[3]                                                 Description
 Power and Clock
        VCC_A                     5              P        VCC_A. 3.3 V analog power to the chip.
        VCC_A                     9              P        VCC_A. 3.3 V analog power to the chip.
        VCC_A                    14              P        VCC_A. 3.3 V analog power to the chip.
        VCC_D                    21              P        VCC_D. 3.3 V digital power to the chip.
          VCC                    27              P        VCC. 5 V input to the internal regulator; NC if using external regulator
                                                          VCC. 5–3.3 V regulator o/p during internal regulation; 3.3 V i/p if using external
         VREG                    28              P
                                                          regulator.
          XIN                    10               I       12-MHz crystal clock input, or 12-MHz clock input
         XOUT                    11              O        12-MHz Crystal OUT. (NC if external clock is used).
                                                          Active LOW Reset. External reset input, default pull high 10k Ohm;
       RESET#                    17               I
                                                          When RESET = low, whole chip is reset to the initial state
     SELFPWR                     22               I       Self Power. Input for selecting self/bus power. 0 is bus powered, 1 is self powered.
                                                          GANG Default is input mode after power-on-reset.
                                                          Gang Mode: Input:1 -> Output is 0 for normal operation and 1 for suspend
         GANG                    23             I/O       Individual Mode: Input:0 -> Output is 1 for normal operation and 0 for suspend
                                                          Refer to gang / individual power switching modes in Pin Configuration Options on
                                                          page 15 for details.
         RREF                     8             I/O       649- resistor must be connected between RREF and Ground
 System Interface
          Test                                O(RDN)      Test. 0: Normal Operation & 1: Chip will be put in test mode
                                 18
       I2C_SCL                               I/O(RDN)     I2C_SCL. I2C Clock pin.
       PWR# [4]                                           Power switch driver output. Default is active low
                                 26             I/O
       I2C_SDA                                            I2C_SDA. I2C Data pin.
Notes
 3. Pin Types: I = Input, O = Output, P = Power/Ground, Z = High Impedance, RDN = Pad internal Pull Down Resistor, RUP = Pad internal Pull Up Resistor.
 4. PWR#/I2C_SDA can be used as either PWR# or I2C_SDA but not as both. If EEPROM is connected then the pin will act as I2C_SDA, it will not switch to PWR#
    mode (as it does in 48-pin TQFP package).
Document Number: 001-65659 Rev. *K                                                                                                               Page 12 of 26


                                                                                                       CY7C65642
Pin Definitions (continued)
28-pin QFN Package
     Pin Name       Pin No.     Type[3]                                      Description
 Upstream Port
         D–             1        I/O/Z  Upstream D– Signal.
         D+             2        I/O/Z  Upstream D+ Signal.
 Downstream Port 1
       DD–[1]          3         I/O/Z  Downstream D– Signal.
       DD+[1]           4        I/O/Z  Downstream D+ Signal.
                                        Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
      OVR#[1]          25       I(RUP)  Detection Input. Only OVR#[1](pin 25) is enabled in Gang mode. OVR#[2](pin 24),
                                        OVR#[3](pin 20) and OVR#[4](pin 19) are disabled in Gang mode.
 Downstream Port 2
       DD–[2]          6         I/O/Z  Downstream D– Signal.
       DD+[2]           7        I/O/Z  Downstream D+ Signal.
                                        Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
      OVR#[2]          24       I(RUP)  Detection Input. Only OVR#[1](pin 25) is enabled in Gang mode. This (OVR#[2]) pin
                                        is disabled in Gang mode.
 Downstream Port 3
       DD–[3]          12        I/O/Z  Downstream D– Signal.
       DD+[3]          13        I/O/Z  Downstream D+ Signal.
                                        Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
      OVR#[3]          20       I(RUP)  Detection Input. Only OVR#[1](pin 25) is enabled in Gang mode. This (OVR#[3]) pin
                                        is disabled in Gang mode.
 Downstream Port 4
       DD–[4]          15        I/O/Z  Downstream D– Signal.
       DD+[4]          16        I/O/Z  Downstream D+ Signal.
                                        Overcurrent Condition Detection Input. Active LOW Overcurrent Condition
      OVR#[4]          19       I(RUP)  Detection Input. Only OVR#[1](pin 25) is enabled in Gang mode. This (OVR#[4]) pin
                                        is disabled in Gang mode.
                                        Ground pin for the chip. It is the solderable exposed pad beneath the chip. Refer to
        GND           PAD          P
                                        the Figure 4 on page 21.
Document Number: 001-65659 Rev. *K                                                                           Page 13 of 26


                                                                                                                          CY7C65642
EEPROM Configuration Options                                                    Byte                            Value
                                                                              41h–6Fh     Product string (ASCII code)
Systems using CY7C65642 have the option of using the default
descriptors to configure the hub. Otherwise, it must have an                    70 h      Serial number length
external EEPROM for the device to have a unique VID, and PID.                 71h–80h     Serial number string
The CY7C65642 can communicate with an SPI (microwire)
EEPROM like 93C46 or I2C EEPROM like 24C02. Example
                                                                             Byte 0: VID (LSB)
EEPROM connections are shown as follows:
                                                                               Least Significant Byte of Vendor ID
                          S P I E E P R O M C o n n e c tio n VDD
                                                                             Byte 1: VID (MSB)
      A M B E R [1 ]         CS                  VCC
                                                                               Most Significant Byte of Vendor ID
      G R E E N [1 ]         SK                  NC1                         Byte 2: PID (LSB)
      A M B E R [2 ]         DI                  NC2                           Least Significant Byte of Product ID
      G R E E N [2 ]         DO                  GND
                                                                             Byte 3: PID (MSB)]
                                     AT 93C 46                                 Most Significant Byte of Product ID
                                                                             Byte 4: ChkSum
                           I2 C E E P R O M C o n n e c tio n VDD
                                                                               CY7C65642 will ignore the EEPROM settings if ChkSum is
                                                                               not equal to VID_LSB + VID_MSB + PID_LSB + PID_MSB +1
                             A0                  VCC
                             A1                   WP
                                                                             Byte 5: Reserved
                             A2                  SCL            TEST           Set to FEh
                             GND                 SDA            P W R # [1 ] Byte 6: RemovablePorts
                                     AT24C02                                   RemovablePorts[4:1] are the bits that indicate whether the
                                                                               device attached to the corresponding downstream port is
Note The 28-pin QFN package includes only support for I2C                      removable (set to 0) or non-removable (set to 1). Bit 1
EEPROM like ATMEL/24C02N_SU27 D, MICROCHIP/4LC028                              corresponds to Port 1, Bit 2 to Port 2 and so on. Default value
SN0509, SEIKO/S24CS02AVH9. The 48-pin TQFP package                             is 0 (removable). These bit values are reported appropriately
includes both I2C and SPI EEPROM connectivity options. In this                 in the HubDescriptor:DeviceRemovable field.
case, user can use either SPI or I2C connectivity at a time for                Bits 0,5,6,7 are set to 0.
communicating to EEPROM. The 48-pin package supports
ATMEL/AT93C46DN-SH-T, in addition to the above mentioned                     Byte 7: Port Number
families. HX2VL can only read from SPI EEPROM. So field                        Port Number indicates the number of downstream ports. The
programming of EEPROM will be supported only for I2C                           values must be 1 to 4. Default value is 4.
EEPROM. The default VID and PID are 0x04B4 and 0x6572.
                                                                             Byte 8: Maximum Power
CY7C65642 verifies the check sum after power on reset and if
validated loads the configuration from the EEPROM. To prevent                  This value is reported in the Configuration Descriptor:
this configuration from being overwritten, AMBER[1] is disabled                bMax-Power field and is the current in 2 mA increments that
when the SPI EEPROM is present.                                                is required from the upstream hubs. The allowed range is 00h
                                                                               (0mA) to FAh(500mA). Default value is 32h (100mA)
    Byte                                     Value                           Byte 9–15: Reserved
     00h           VID_LSB                                                     Set to FFh (except 11 which is FEh)
     01h           VID_MSB                                                   Byte 16: Vendor String Length
     02h           PID_LSB                                                     Length of the Vendor String
     03h           PID_MSB                                                   Byte 17–63: Vendor String
     04h           ChkSum
                                                                               Value of Vendor String in ASCII code.
     05h           Reserved–FEh
                                                                             Byte 64: Product String Length
     06h           Removable ports
                                                                               Length of the Product String
     07h           Port number
                                                                             Byte 65–111: Product String
     08h           Maximum power
                                                                               Value of Product String in ASCII code
  09h–0Fh          Reserved–FFh
                                                                             Byte 112: Serial Number Length
     10h           Vendor string length
                                                                               Length of the Serial Number
  11h–3Fh          Vendor string (ASCII code)
                                                                             Byte 113 onwards: Serial Number String
     40h           Product string length
                                                                               Serial Number String in ASCII code.
Document Number: 001-65659 Rev. *K                                                                                             Page 14 of 26


                                                                                                                           CY7C65642
Pin Configuration Options
                                                                             Table 1. Features supported in 48-pin and 28-pin packages
Power ON Reset
The power on reset can be triggered by external reset or internal                     Supported Features                48-pin       28-pin
circuitry. The internal reset is initiated, when there is an unstable
                                                                               Port number configuration                 Yes           No
power event for silicon’s internal core power (3.3 V ± 10%). The
internal reset is released 2.7 µs ± 1.2% after supply reaches                  Non-removable port configuration          Yes           No
power good voltage (2.5 V to 2.8 V). The external reset pin,
continuously senses the voltage level (5 V) on the upstream                    Reference clock configuration             Yes           No
VBUS as shown in the figure. In the event of USB plug/unplug or
drop in voltage, the external reset is triggered. This reset trigger           Power switch enable polarity              Yes           No
can be configured using the resistors R1 and R2. Cypress                       LED Indicator                             Yes           No
recommends that the reset time applied in external reset circuit
should be longer than that of the internal reset time.
                                                                             Power Switch Enable Pin Polarity
                                                                                 The pin polarity is set active-high by pin-strapping the
                PCB                              Silicon                         PWR_PIN_POL pin to 1 and Active-Low by pin-strapping the
                                                                                 PWR_PIN_POL pin to 0. Thus, both kinds of power switches
             VBUS                              Ext. VBUS power-good
                                                                                 are supported. This feature is not supported in 28-pin QFN
         (External 5V)                          detection circuit input          package.
                              R1
                                                     (Pin"RESET#")
                                                                             Port Number Configuration
                                                EXT                 Global       In addition to the EEPROM configuration, as described
                                                INT
                                                                    Reset#       above, configuring the hub for 2/3/4 ports is also supported
                              R2                                                 using       pin-strapping       SET_PORT_NUM1              and
                                                                                 SET_PORT_NUM2, as shown in following table.Pin strapping
                                                 Int. 3.3V power-good
                                                 detection circuit input         option is not supported in the 28-pin QFN package.
                                                    (USB PHY reset)
                                                                               SET_PORT_NUM2           SET_PORT_NUM1             # Ports
Gang/Individual Power Switching Mode                                                     1                       1           1 (Port 1)
A single pin is used to set individual / gang mode as well as                            1                       0           2 (Port 1/2)
output the suspend flag. This is done to reduce the pin count.                           0                       1           3 (Port 1/2/3)
The individual or gang mode is decided within 20 µs after power
on reset. It has a setup time of 1ns. 50 to 60ms after reset, this                       0                       0           4 (All ports)
pin is changed to output mode. CY7C65642 outputs the suspend
flag, once it is globally suspended. Pull-down resistor of greater           Non Removable Ports Configuration
than 100K is needed for Individual mode and a pull-up resistor               In embedded systems, downstream ports that are always
greater than 100K is needed for Gang mode. Figure below                      connected inside the system, can be set as non-removable
shows the suspend LED indicator schematics. The polarity of                  (always connected) ports, by pin-strapping the corresponding
LED must be followed, otherwise the suspend current will be                  FIXED_PORT# pins 1~4 to High, before power on reset. At POR,
over the spec limitation (2.5 mA).                                           if the pin is pull high, the corresponding port is set to
                                                                             non-removable. This is not supported in the 28-pin QFN
                                                                             package.
         VDD (3.3V)    VDD (3.3V)         PCB               Silicon
                                   GANG MODE
                                                                             Reference Clock Configuration
                          100K                                               This hub can support, optional 27/48-MHz clock source. When
                                     GANG/SUSPEND
                                                                             on-board 27/48-MHz clock is present, then using this feature,
                                                              SUSPEND OUT    system integrator can further reduce the BOM cost by eliminating
          SUSPEND
         INDICATOR
                                                                             the external crystal. This is available through GPIO pin
                                                                             configuration shown below. This is not supported in the 28-pin
                          100K                                               QFN package.
                                                         0 : INDIVIDUAL MODE
                                  INDIVIDUAL MODE        1: GANG MODE
                                                                                SEL48         SEL27                 Clock Source
                                                                                    0            1       48-MHz OSC-in
                                                                                    1            0       27-MHz OSC-in
                                                                                    1            1       12-MHz X’tal/OSC-in
Document Number: 001-65659 Rev. *K                                                                                              Page 15 of 26


                                                                                                                                CY7C65642
Absolute Maximum Ratings                                                 Operating Conditions
Exceeding maximum ratings may impair the useful life of the              Ambient temperature ..................................... 0 °C to +70 °C
device. These user guidelines are not tested.                            Ambient max junction temperature .............. 0 °C to +125 °C
Storage temperature ................................ –60 °C to +100 °C   5 V supply voltage to ground potential ......4.75 V to +5.25 V
Ambient temperature ..................................... 0 °C to +70 °C 3.3 V supply voltage to ground potential .....3.15 V to +3.6 V
5 V supply voltage to ground potential ........–0.5 V to +6.0 V          Input voltage for USB signal pins ..................0.5 V to +3.6 V
3.3 V supply voltage to ground potential .....–0.5 V to +3.6 V           Voltage at open drain input pins ..................–0.5 V to +5.0 V
Voltage at open drain input pins                                         Thermal characteristics 48-pin TQFP ................... 78.7 °C/W
(OVR#1-4, SELFPWR, RESET#) ................–0.5 V to +5.5 V
                                                                         Thermal characteristics 28-pin QFN ..................... 33.3 °C/W
3.3 V Input Voltage for Digital I/O ................–0.5 V to +3.6 V
FOSC (oscillator or crystal frequency) ........ 12 MHz ± 0.05%
Document Number: 001-65659 Rev. *K                                                                                                    Page 16 of 26


                                                                                                       CY7C65642
Electrical Characteristics
DC Electrical Characteristics
                                                                                              Max
 Parameter              Description                 Conditions      Min  Typ                                         Unit
                                                                              External regulator Internal regulator
PD           Power dissipation               Excluding USB signals   –     –                  432                    mW
VIH          Input high voltage                          –           2     –                    –                     V
VIL          Input low voltage                           –           –     –                   0.8                    V
                                             Full speed / low speed
                                                                    –10    –                  +10                    A
                                             (0 < VIN < VCC)
Il           Input leakage current
                                             High speed mode
                                             (0 < VIN < VCC)         –5    0                   +5                    A
VOH          Output voltage high             IOH = 8 mA             2.4    –                    –                     V
VOL          Output low voltage              IOL= 8 mA               –     –                   0.4                    V
RDN          Pad internal pull-down resistor             –           29   59                  135                    
RUP          Pad internal pull-up resistor               –           80  108                  140                    
                                             Full speed / low speed
                                             mode                    –     –                   20                     pF
CIN          Input pin capacitance
                                             high speed mode         4   4.5                    5                     pF
ISUSP        Suspend current                             –            – 0.786       1.043                1.3         mA
             Supply Current
                                             Full speed host,
                                                                     –  88.7        103.9              105.4         mA
                                             full speed devices
                                             High speed host,
             4 Active ports                                          –  81.9         88.2               89.3         mA
                                             high speed devices
                                             High speed host,
                                             full speed devices      –  88.2        101.2              102.3         mA
                                             Full speed host,
                                                                     –  79.1         91.6                93          mA
                                             full speed devices
                                             High speed host,
             3 Active ports[5]                                       –  72.9         78.5               78.6         mA
                                             high speed devices
                                             High speed host,
                                             full speed devices      –  75.9         88.7               88.8         mA
ICC                                          Full speed host,
                                                                     –  68.1         78.4               78.6         mA
                                             full speed devices
             2 Active ports                  High speed host,        –  61.9         67.6               69.6         mA
                                             high speed devices
                                             High speed host,
                                                                     –  64.9         75.4               76.1         mA
                                             full speed devices
                                             Full speed host,
                                                                     –  57.1        66.3                66.7         mA
                                             full speed devices
             1 Active ports                  High speed host,        –  51.9         57.6               59.3         mA
                                             high speed devices
                                             High speed host,
                                                                     –  54.7        61.1                62.5         mA
                                             full speed devices
                                             Full speed host         –  42.8         48.9               50.3         mA
             No Active ports[6]
                                             High speed host         –  44.2        49.1                50.6         mA
Notes
 5. Current measurement is with device attached and enumerated.
 6. No devices attached.
Document Number: 001-65659 Rev. *K                                                                           Page 17 of 26


                                                                                                             CY7C65642
AC Electrical Characteristics
USB Transceiver is USB 2.0 certified in low, full and high speed modes.
Both the upstream USB transceiver and all four downstream transceivers have passed the USB-IF USB 2.0 Electrical Certification
Testing.
The 48-pin TQFP package can support communication to EEPROM using either I2C or SPI. The 28-pin QFN package can support
only I2C communication to EEPROM.
AC characteristics of these two interfaces to EEPROM are summarized in tables below:
AC Characteristics of SPI EEPROM interface
  Parameter                                    Parameter                                Min          Typ         Max      Units
tCSS             CS setup time                                                          3.0            –           –
tCSH             CS hold time                                                           3.0            –           –
tSKH             SK high time                                                           1.0            –           –
tSKL             SK low time                                                            2.2            –           –
                                                                                                                            µs
tDIS             DI setup time                                                          1.8            –           –
tDIH             DI hold time                                                           2.4            –           –
tPD1             Output delay to ‘1’                                                     –             –          1.8
tPD0             Output delay to ‘0’                                                     –             –          1.8
AC Characteristics of I2C EEPROM interface
                                                                              1.8 V–5.5 V               2.5 V–5.5 V
  Parameter                              Parameter                                                                        Units
                                                                            Min         Max          Min         Max
fSCL             SCL clock frequency                                        0.0         100          0.0          400      KHz
tLOW             Clock LOW Period                                           4.7           –          1.2           –        us
tHIGH            Clock HIGH Period                                          4.0          –           0.6           –        us
tSU:STA          Start condition setup time                                 4.7          –           0.6           –        us
tSU:STO          Stop condition setup time                                  4.7          –           0.6           –        us
tHD:STA          Start condition hold time                                  4.0          –           0.6           –        us
tHD:STO          Stop condition hold time                                   4.0          –           0.6           –        us
tSU:DAT          Data in setup time                                        200.0         –          100.0          –        ns
tHD:DAT          Data in hold time                                           0            –            0           –        ns
tDH              Data out hold time                                         100          –            50           –        ns
tAA              Clock to output                                            0.1         4.5          0.1           –        us
tWR              Write cycle time                                            –           10            –           5        ns
Thermal Resistance
                                                                                           48-pin TQFP      28-pin QFN
  Parameter                                       Description                                                              Unit
                                                                                             Package         Package
JA              Thermal resistance (junction to ambient)                                      78.7            33.3       °C/W
JC              Thermal resistance (junction to case)                                         35.3            18.4       °C/W
Document Number: 001-65659 Rev. *K                                                                                 Page 18 of 26


                                                                                  CY7C65642
Ordering Information
                     Ordering Code                                   Package Type
CY7C65642-48AXC                               48-pin TQFP - Tray
CY7C65642-48AXCT                              48-pin TQFP - Tape and Reel
CY7C65642-28LTXC                              28-pin QFN - Tray
Ordering Code Definitions
   CY 7   C 65642 - XX      A    X C X
                                       X = blank or T
                                       blank = Tray; T = Tape and Reel
                                       Temperature Range:
                                       C = Commercial
                                       Pb-free
                                       Package Type: XX = A or LT
                                       A = TQFP; LT = QFN
                                       Pin Count: XX = 48 or 28
                                       Part Identifier
                                       Technology Code: C = CMOS
                                       Marketing Code
                                       Company ID: CY = Cypress
Document Number: 001-65659 Rev. *K                                                  Page 19 of 26


                                                                                                  CY7C65642
Package Diagrams
The CY7C65642 is available in following packages:
                         Figure 3. 48-pin TQFP (7 × 7 × 1.4 mm) A48 Package Outline, 51-85135
                                                                                      51-85135 *C
Document Number: 001-65659 Rev. *K                                                                  Page 20 of 26


                                                                                                       CY7C65642
           Figure 4. 28-pin QFN (5 × 5 × 0.8 mm), LT28A (3.5 × 3.5 E-Pad), Sawn Package Outline, 001-64621
                                                                                             001-64621 *A
Document Number: 001-65659 Rev. *K                                                                        Page 21 of 26


                                                                                                CY7C65642
Acronyms                                               Document Conventions
 Acronym                     Description               Units of Measure
AC        Alternating Current
                                                        Symbol                     Unit of Measure
ASCII     American Standard Code for Information
          Interchange                                  °C         degree Celsius
EEPROM    Electrically Erasable Programmable Read Only kHz        kilohertz
          Memory                                       k         kilohm
EMI       Electromagnetic Interference                 MHz        megahertz
ESD       Electrostatic Discharge                      A         microampere
GPIO      General Purpose Input/Output                 s         microsecond
I/O       Input/Output                                 W         microwatt
LED       Light Emitting Diode                         mA         milliampere
LSB       Least Significant Bit                        mm         millimeter
MSB       Most Significant Bit                         ms         millisecond
PCB       Printed Circuit Board                        mW         milliwatt
PLL       Phase-Locked Loop                            ns         nanosecond
POR       Power On Reset                                         ohm
PSoC®     Programmable System-on-Chip™                 %          percent
QFN       Quad Flat No-leads                           pF         picofarad
RAM       Random Access Memory                         ppm        parts per million
ROM       Read Only Memory                             V          volt
SIE       Serial Interface Engine                      W          watt
TQFP      Thin Quad Flat Pack
TT        Transaction Translator
USB       Universal Serial Bus
Document Number: 001-65659 Rev. *K                                                                 Page 22 of 26


                                                                                                                  CY7C65642
Silicon Errata for the HX2VL, CY7C65642 Product Family
This section describes the errata for the HX2VL, CY7C65642. The details include errata trigger conditions, scope of impact, available
workarounds, and silicon revision applicability.
Contact your local Cypress Sales Representative, if you have any questions.
Part Numbers Affected
                            Part Number                                                 Device Characteristics
                             CY7C65642                                                   USB 2.0 Multi TT Hub
HX2VL Qualification Status
Product Status: In production
HX2VL Errata Summary
This table defines the errata applicability to available HX2VL family devices.
                 Items                    Part Numbers      Silicon Revision            Workaround                    Fix Status
[1]. USB device is not recognized           CY7C65642             Rev **       Issue a Port-Reset from host     No fix planned.
properly if a disconnect followed by a                                         USB application or driver if the
connect event happen during hub                                                USB device commands
suspend                                                                        STALLed
1. USB device is not recognized properly if a disconnect followed by a connect event happen during hub suspend
   ■ Problem    Definition
      HX2VL sometimes does not recognize Downstream (DS) USB device after coming out of suspend if the connected DS device
      is disconnected and connected back to the same DS port during hub suspend state.
    ■Parameters     Affected
     N/A.
    ■Trigger   Condition(s)
     Disconnect followed by a Connect event of DS device from the hub during suspend state.
    ■Scope    of Impact
     The issue is not observed with standard Microsoft driver/class devices such as mouse, keyboard, mass storage, etc. as the
     standard class drivers recover the device using Port-Reset command when there is a STALL from the DS devices.
    ■Workaround
     Issue a Port-Reset from host USB application or driver to recover the DS device when it STALLS.
    ■Fix   Status
     No fix planned.
Document Number: 001-65659 Rev. *K                                                                                       Page 23 of 26


                                                                                                          CY7C65642
Document History Page
 Document Title: CY7C65642, HX2VL - Very Low-Power USB 2.0 TetraHub™ Controller
 Document Number: 001-65659
                       Orig. of   Submission
   Rev.       ECN                                                           Description of Change
                       Change         Date
    **     3176751      SWAK       02/18/2011 New data sheet.
    *A     3250883     SWAK /      06/29/2011 Updated Functional Overview (Updated Port Indicators (Added a Note
                        AASI                  “Pin-strapping GREEN#[1] and GREEN#[2] enables proprietary function that
                                              may affect the normal functionality of HX2VL. Configuring Port #1 and #2 as
                                              non-removable by pin-strapping should be avoided.”).
                                              Updated Pin Configurations (Updated Figure 1 (Pin of the 48-pin TQFP
                                              package was named SELF_PWR. It is changed to SELFPWR.)).
                                              Updated Pin Definitions (Updated description of XIN pin to “12-MHz crystal
                                              clock input, or 12-MHz clock input” (since 28-pin package does not support 27
                                              and 48 MHz), updated description of XOUT pin to “12-MHz Crystal OUT. (NC
                                              if external clock is used)”, changed value from 680  to 650 in description of
                                              RREF pinchanged description ofOVR# pins from “Default is Active LOW” to
                                              “Active LOW Overcurrent Condition Detection Input” (since the polarity is not
                                              configurable), changed all seven occurrences of “Refer “48-pin TQFP Pin
                                              Configuration” on page 5” to “Refer Pin Configuration Options on page 15”,
                                              added Note 2 and referred the same Note in GREEN#[1] and GREEN#[2] pins).
                                              Updated Pin Definitions (Updated description of XIN pin to “12-MHz crystal
                                              clock input, or 12-MHz clock input” (since 28-pin package does not support 27
                                              and 48 MHz), updated description of XOUT pin to “12-MHz Crystal OUT. (NC
                                              if external clock is used)”, changed description of OVR# pins from “Default is
                                              Active LOW” to “Active LOW Overcurrent Condition Detection Input” (since the
                                              polarity is not configurable)).
                                              Updated Functional Overview (Updated Power Regulator (Changed regulator’s
                                              maximum current loading from 200 mA to 150 mA)).
                                              Updated Pin Configuration Options (Updated Power Switch Enable Pin Polarity
                                              (Replaced first two occurrences of the word “setting” with “pin-strapping”)).
                                              Updated Electrical Characteristics (Updated DC Electrical Characteristics
                                              (Updated maximum value of ISUSP parameter to 903 µA, updated maximum
                                              values of ICC parameter)).
    *B     3327505      AASI       07/27/2011 Changed status from Preliminary to Final.
                                              Updated Pin Definitions (Minor edits).
                                              Updated Ordering Information (Updated part numbers) and Ordering Code
                                              Definitions.
    *C     3525169      AASI       02/16/2012 Updated Pin Configurations (Updated Figure 1 (Renamed SPI_DI to
                                              SPI_MOSI, renamed SPI_DO to SPI_MISO respectively for clarity)).
                                              Updated Pin Definitions (Renamed SPI_DI to SPI_MOSI, renamed SPI_DO to
                                              SPI_MISO respectively for clarity).
                                              Updated Pin Definitions (Updated description of PWR# of 28-pin package (To
                                              describe the alternate function I2C_SDA)).
    *D     3637477      AASI       07/02/2012 Updated EEPROM Configuration Options (Changed the value of Byte 5 to FEh
                                              to match with the tabular column).
                                              Updated Electrical Characteristics (Updated DC Electrical Characteristics
                                              (Splitted the Max column into two columns namely External regulator and
                                              Internal regulator for ISUSP and ICC parameters and updated the corresponding
                                              values)).
                                              Added Thermal Resistance.
                                              Updated Ordering Information (Updated part numbers).
                                              Updated to new template.
    *E     3995708       PRJI      05/09/2013 Added Silicon Errata for the HX2VL, CY7C65642 Product Family.
Document Number: 001-65659 Rev. *K                                                                              Page 24 of 26


                                                                                                       CY7C65642
Document History Page (continued)
 Document Title: CY7C65642, HX2VL - Very Low-Power USB 2.0 TetraHub™ Controller
 Document Number: 001-65659
                       Orig. of   Submission
   Rev.       ECN                                                        Description of Change
                       Change         Date
    *F     4694741      PRJI       03/20/2015 Added More Information.
                                              Updated Functional Overview:
                                              Updated Port Indicators:
                                              Updated description.
                                              Updated Pin Definitions:
                                              Added Note at the bottom.
                                              Updated EEPROM Configuration Options:
                                              Updated details in “Value” column corresponding to “09h–0Fh” in the table.
                                              Updated Electrical Characteristics:
                                              Updated DC Electrical Characteristics:
                                              Updated all values of RDN and RUP parameters.
                                              Added Note 5 and referred the same note in “3 Active ports” in “Description”
                                              column of ICC parameter.
                                              Added Note 6 and referred the same note in “No Active ports” in “Description”
                                              column of ICC parameter.
                                              Updated Package Diagrams:
                                              spec 51-85135 – Changed revision from *B to *C.
                                              spec 001-64621 – Changed revision from ** to *A.
                                              Updated Silicon Errata for the HX2VL, CY7C65642 Product Family:
                                              Updated HX2VL Qualification Status:
                                              Replaced “Sampling” with “In production”.
                                              Updated to new template.
                                              Completing Sunset Review.
    *G     5363572      HBM        07/21/2016 Updated CY Logo and Sales Disclaimer.
                                              Updated Features: Added TID number along with Compliant with USB2.0
                                              specification. Removed Slew rate control for EMI management.
                                              Updated Pin Definitions for 28-pin QFN Package: Updated Description for
                                              OVR#[1], OVR#[2], OVR#[3], and OVR#[4].
    *H     5545393      HBM        12/07/2016 Updated More Information.
                                              Updated Copyright and Disclaimer.
     *I    5688033      RUPA       04/10/2017 Updated logo and copyright.
    *J     5782612       ANII      06/22/2017 Updated Ordering Information:
                                              No change in part numbers.
                                              Replaced “Tube” with “Tray”.
    *K     6136795      HBM        04/13/2018 Updated the Silicon Errata for the HX2VL, CY7C65642 Product Family section.
                                              Removed the old Cypress Logo from Pin Configurations.
                                              Updated Sales Information and Copyright year.
Document Number: 001-65659 Rev. *K                                                                            Page 25 of 26


                                                                                                                                                                              CY7C65642
Sales, Solutions, and Legal Information
Worldwide Sales and Design Support
Cypress maintains a worldwide network of offices, solution centers, manufacturer’s representatives, and distributors. To find the office
closest to you, visit us at Cypress Locations.
Products                                                                                                   PSoC® Solutions
Arm® Cortex® Microcontrollers                                          cypress.com/arm                     PSoC 1 | PSoC 3 | PSoC 4 | PSoC 5LP | PSoC 6
Automotive                                                 cypress.com/automotive
                                                                                                           Cypress Developer Community
Clocks & Buffers                                                   cypress.com/clocks
                                                                                                           Forums | WICED IOT Forums | Projects | Video | Blogs |
Interface                                                      cypress.com/interface                       Training | Components
Internet of Things                                                       cypress.com/iot
                                                                                                           Technical Support
Memory                                                          cypress.com/memory
                                                                                                           cypress.com/support
Microcontrollers                                                      cypress.com/mcu
PSoC                                                                 cypress.com/psoc
Power Management ICs                                                 cypress.com/pmic
Touch Sensing                                                       cypress.com/touch
USB Controllers                                                        cypress.com/usb
Wireless Connectivity                                           cypress.com/wireless
© Cypress Semiconductor Corporation, 2011–2018. This document is the property of Cypress Semiconductor Corporation and its subsidiaries, including Spansion LLC ("Cypress"). This document,
including any software or firmware included or referenced in this document ("Software"), is owned by Cypress under the intellectual property laws and treaties of the United States and other countries
worldwide. Cypress reserves all rights under such laws and treaties and does not, except as specifically stated in this paragraph, grant any license under its patents, copyrights, trademarks, or other
intellectual property rights. If the Software is not accompanied by a license agreement and you do not otherwise have a written agreement with Cypress governing the use of the Software, then Cypress
hereby grants you a personal, non-exclusive, nontransferable license (without the right to sublicense) (1) under its copyright rights in the Software (a) for Software provided in source code form, to
modify and reproduce the Software solely for use with Cypress hardware products, only internally within your organization, and (b) to distribute the Software in binary code form externally to end users
(either directly or indirectly through resellers and distributors), solely for use on Cypress hardware product units, and (2) under those claims of Cypress's patents that are infringed by the Software (as
provided by Cypress, unmodified) to make, use, distribute, and import the Software solely for use with Cypress hardware products. Any other use, reproduction, modification, translation, or compilation
of the Software is prohibited.
TO THE EXTENT PERMITTED BY APPLICABLE LAW, CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THIS DOCUMENT OR ANY SOFTWARE
OR ACCOMPANYING HARDWARE, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. No computing
device can be absolutely secure. Therefore, despite security measures implemented in Cypress hardware or software products, Cypress does not assume any liability arising out of any security breach,
such as unauthorized access to or use of a Cypress product. In addition, the products described in these materials may contain design defects or errors known as errata which may cause the product
to deviate from published specifications. To the extent permitted by applicable law, Cypress reserves the right to make changes to this document without further notice. Cypress does not assume any
liability arising out of the application or use of any product or circuit described in this document. Any information provided in this document, including any sample design information or programming
code, is provided only for reference purposes. It is the responsibility of the user of this document to properly design, program, and test the functionality and safety of any application made of this
information and any resulting product. Cypress products are not designed, intended, or authorized for use as critical components in systems designed or intended for the operation of weapons, weapons
systems, nuclear installations, life-support devices or systems, other medical devices or systems (including resuscitation equipment and surgical implants), pollution control or hazardous substances
management, or other uses where the failure of the device or system could cause personal injury, death, or property damage ("Unintended Uses"). A critical component is any component of a device
or system whose failure to perform can be reasonably expected to cause the failure of the device or system, or to affect its safety or effectiveness. Cypress is not liable, in whole or in part, and you
shall and hereby do release Cypress from any claim, damage, or other liability arising from or related to all Unintended Uses of Cypress products. You shall indemnify and hold Cypress harmless from
and against all claims, costs, damages, and other liabilities, including claims for personal injury or death, arising from or related to any Unintended Uses of Cypress products.
Cypress, the Cypress logo, Spansion, the Spansion logo, and combinations thereof, WICED, PSoC, CapSense, EZ-USB, F-RAM, and Traveo are trademarks or registered trademarks of Cypress in
the United States and other countries. For a more complete list of Cypress trademarks, visit cypress.com. Other names and brands may be claimed as property of their respective owners.
Document Number: 001-65659 Rev. *K                                                                Revised April 13, 2018                                                               Page 26 of 26


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Cypress Semiconductor:
 CY7C65642-28LTXC CY7C65642-48AXC CY7C65642-48AXCT CY7C65642-28LTXCT
