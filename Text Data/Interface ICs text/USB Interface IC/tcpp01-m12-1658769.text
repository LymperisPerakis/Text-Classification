                                                                                                                       TCPP01-M12
                                                                                                                                 Datasheet
                                                                                                       USB type-C port protection
                                                        Features
                                                         •    Overvoltage protection on VBUS, adjustable up to 22 V, with external N-channel
                                                              MOSFET
                                                         •    6.0 V overvoltage protection (OVP) on CC lines against short-to-VBUS
                                                         •    System-level ESD protection for USB type-C connector pins (CC1, CC2),
                                                              compliant with IEC 61000-4-2 level 4 (±8 kV contact discharge, ±15 kV air
                                                              discharge)
                                                         •    Integrated charge pump to control the gate of an external N-channel MOSFET
                                                              (which features a lower RDSON than a P-channel MOSFET)
                                                         •    Null quiescent current when no USB charging cable is attached for battery-
                                                              operated "consumer/sink" applications
                 Product labels
                                                         •    Integrated “dead battery” (RD resistors)
                                                         •    Over temperature protection (OTP)
                                                         •    Operating junction temperature from -40°C to 85°C
                                                         •    Complies with the latest USB type-C and USB power delivery standards
                                                         •    Compliant with programmable power supply (PPS) as defined in latest USB PD
                                                              specification
                                                         •    Open-drain fault reporting
                                                         •    ECOPACK2 compliant
                                                        Applications
               Product status link                       •    USB type-C used in sink configuration (consumer)
                                                         •    USB type-C used in source configuration (provider)
                  TCPP01-M12
                                                         •    USB type-C for UFP (upstream facing port) or DFP (downstream facing port)
                                                              configuration
               Product summary
                                                         •    USB type-C power delivery, PPS compliant
       Order code               TCPP01-M12
         Package                    QFN12               Description
         Packing                Tape and reel
                                                        The TCPP01-M12 (type-C port protection) is a single chip solution for USB type-C
                               PPS compliant            port protection that facilitates the migration from USB legacy connectors type-A or
       Description            USB type-C port           type-B to USB type-C connectors. The TCPP01-M12 features 22 V tolerant ESD
                                  protection            protection as per IEC61000-4-2 level 4 on USB type-C connector configuration
                                                        channel (CC) pins. For a safe and reliable USB type-C implementation, the TCPP01-
                Companion chip                          M12 provides overvoltage protection on CC1 and CC2 pins when these pins are
       USB Type-C             STM32 or STM8             subjected to short circuit with the VBUS pin that may happen when removing the
                                                        USB type-C cable from its receptacle. For sink applications, TCPP01-M12 triggers an
                                 STM32 with             external N-MOSFET on VBUS line when a defective power source applies a voltage
                               UCPD support,            higher than selected OVP threshold. Also, the TCPP01-M12 integrates a “dead
   USB Type-C with                 example
                                                        battery” management logic that is compliant with the latest USB power delivery
     power delivery               STM32L5,
                                 STM32G0,               specification. The power supply of the TCPP01-M12 for sink applications operated
                                  STM32G4               with a battery can be provided by an MCU 3.3 V GPIO in order to drop the power
                                                        consumption in “cable not attached” condition down to 0 nA. This low power mode
                                                        will extend the battery operating life when no source equipment is attached.
                                                        The TCPP01-M12 can also be used to protect source (provider) applications, and it
                                                        can support programmable power supply feature from the USB-C power delivery
                                                        specification.
DS12900 - Rev 1 - September 2019                                                                                                     www.st.com
For further information contact your local STMicroelectronics sales office.


                                                                                                                             TCPP01-M12
                                                                                                                           Pinout and functions
1                 Pinout and functions
                                                             Figure 1. QFN12 pinout (top view)
                                                                 12            11               10
                                                                 VCC                            DB/
                                                                               FLT/
                                        1            CC 2                                               CC 2c        9
                                                                                13
                                        2            GND                                                 IN _GD      8
                                                                           Exposed pad
                                                                              (GND)
                                        3            CC 1                                                CC 1c       7
                                                                 SOURC E
                                                                                             VBUS_
                                                                                GATE
                                                                                             CTRL
                                                                  4             5               6
                                                                 Table 1. Pinout and functions
                    Name        Pin #       Type                                              Description
                     CC2         1      Input / Output USB-PD controller side for the CC2 pin
                     GND         2          Ground      Ground
                     CC1         3      Input / Output USB-PD controller side for the CC1 pin
                   SOURCE        4          Power       VBUS N-channel MOSFET's SOURCE
                     GATE        5          Output      VBUS N-channel MOSFET's GATE
                  VBUS_CTRL      6           Input      Input voltage setting the VBUS OVP threshold by external resistor bridge
                     CC1c        7      Input / Output Connector side for CC1 OVP internal FET
                    IN_GD        8          Power       VBUS N-channel MOSFET's DRAIN, input of the N-channel MOSFET gate driver
                     CC2c        9      Input / Output Connector side for CC2 OVP internal FET
                     DB/         10          Input      Dead battery resistors management
                                                        Fault reporting flag (open-drain), triggered by either OVP (overvoltage protection), OTP
                     FLT/        11         Output
                                                        (overtemperature protection), or UVLO (undervoltage lockout) event.
                     VCC         12          Input      3.3 V power supply
                  Exposed pad    13         Ground      Ground
DS12900 - Rev 1                                                                                                                          page 2/25


                                                                                                   TCPP01-M12
                                                                         TCPP01-M12 simplified internal block diagram
2               TCPP01-M12 simplified internal block diagram
                                                Figure 2. Block diagram
                        Figure 3. Typical schematic for battery-operated sink (UFP) power delivery
DS12900 - Rev 1                                                                                               page 3/25


                                                                                                                      TCPP01-M12
                                                                                                                          Characteristics
3               Characteristics
                                                  Table 2. Absolute maximum ratings (Tamb = 25°C)
                                                                                                                       Value
                  Symbol                         Parameter                                Pin name                                   Unit
                                                                                                                   Min.    Max.
                                                                             VCC                                   -0.3       4       VDC
                  VPOWER     Voltage for Power pins
                                                                             IN_GD                                 -0.3      22       VDC
                     VIN     Voltage for Input pins                          VBUS_CTRL, DB/, CC1, CC2              -0.3       4       VDC
                                                                             FLT/, SOURCE                          -0.3     5.5       VDC
                    VOUT     Voltage for Output pins
                                                                             GATE                                  -0.3      27       VDC
                     VI/O    Voltage for CC1c, CC2c pins                     CC1c, CC2c                            -0.6      22       VDC
                    Rthj-a   Junction-to-ambient thermal resistance                                                         150      °C/W
                      TJ     Junction temperature                                                                   -40     +85        °C
                    TSTG     Storage temperature range                                                              -55    +150        °C
                                                           Table 3. ESD ratings (Tamb = 25°C)
                 Symbol                             Description                                       Pins                     Value Unit
                           System level ESD robustness on USB type-C connector side
                 VESD_c    IEC61000-4-2 Level 4, air discharge                                                                  15      kV
                                                                                     SOURCE, CC1c, CC2c, VBUS_CTRL(1)
                           IEC61000-4-2 Level 4, contact discharge                                                               8
                  VHBM     VESD ratings Human body model (JESD22-A114D, level 2)                                                 2      kV
                1. VBUS_CTRL ESD capability is guaranteed by the external resistor R1min = 3.8 kΩ (see Figure 16. Sink applications,
                    without battery, PPS compliant).
Note:           for more information on IEC61000-4-2 standard testing, please refer to AN3353.
                        Table 4. Electrical characteristics – Power supply and leakage current, Tamb = -40 °C to +85 °C
                                                                                                                  Value
                   Symbol                           Parameter                        Test condition                                   Unit
                                                                                                          Min.    Typ.     Max.
                     VCC      Allowable voltage input range                                 -              3.0     3.3      3.6         V
                     IVCC     Vcc supply current                                                                            120        µA
                    VBUS      Allowable voltage range                               VCC = 3.0 - 3.6 V      3.3               22         V
                   IL_VBUS    VBUS Supply current at VBUS = 22 V                                                              2       mA
DS12900 - Rev 1                                                                                                                    page 4/25


                                                                                                                            TCPP01-M12
                                                                                                                                Characteristics
                                 Table 5. Electrical characteristics – VBUS OVP control, TOP = -40 °C to +85 °C
                                                                                                                            Value
                   Symbol                Parameter                               Test condition                                           Unit
                                                                                                                     Min.   Typ.   Max.
                                                                        VCC = 3.0 - 3.6 V, VBUSc(1) = 4.0 V           5.0    5.5    6.0
                      VGS    GATE to SOURCE voltage                                                                                         V
                                                                        VCC = 3.0 - 3.6 V, VBUSc(1) = 3.3 V           4.0           5.0
                  tON_VBUS   Turn-on time on VBUS pin                           VCC = 3.0 - 3.6 V                             1            ms
                    Vovp_th  OVP VBUS threshold voltage                         VCC = 3.0 - 3.6 V                    1.20   1.25   1.34     V
                     Vhyst   OVP VBUS voltage hysteresis                        VCC = 3.0 - 3.6 V                           0.13            V
                 tovp_VBUS   OVP VBUS response time               Gate capacitance = 470 pF, VCC = 3.0 - 3.6 V                     100     ns
                1. VBUSc is the VBUS voltage as seen from USB-C connector between VBUS and GND.
                             Table 6. Electrical characteristics – DB/ pin and CC lines OVP, TOP = -40 °C to +85 °C
                                                                                                                           Value
                     Symbol                           Parameter                                Test condition                             Unit
                                                                                                                    Min.   Typ.   Max.
                       RON     ON resistance of CC OVP FET                                    VCC = 3.0 - 3.6 V                    1.2      Ω
                   RON_FLAT    ON resistance flatness                                              0 - 1.2 V                5.0           mΩ
                     CON_CC    Equivalent ON capacitance                                    0 - 1.2 V, f = 400 kHz   40            100     pF
                     VCL_DB    Dead battery clamp voltage                                         I = 200 µA                       1.5      V
                     VTH_CC    CC OVP threshold voltage                                       VCC = 3.0 - 3.6 V     5.6     6.0    6.4      V
                  VOVP_CC_H    CC OVP hysteresis                                              VCC = 3.0 - 3.6 V              10           mV
                    t_ovp_cc   OVP response time on the CC pins (internal FET)                VCC = 3.0 - 3.6 V                    70      ns
                    BW_CCx     Bandwidth on CCx pins at -3dB                                       0 - 1.2 V         10                   MHz
                     RDB_off   Equivalent resistor when dead battery is OFF                   VCC = 3.0 - 3.6 V     170     300    460     kΩ
                                    Table 7. Electrical characteristics – Fault reporting, TOP = -40 °C to +85 °C
                                                                                                                          Value
                   Symbol                            Parameter                                  Test condition                            Unit
                                                                                                                   Min.   Typ.    Max.
                      tpd    Propagation time from OVP, OTP or UVLO to FLT/                                         -       5       -      µs
                     RON     FLT/ pin resistance when active                                  VCC = 3.0 - 3.6 V     -      250      -      Ω
                     ROFF    FLT/ pin resistance when inactive                                                      -       1       -     MΩ
DS12900 - Rev 1                                                                                                                        page 5/25


                                                                                                               TCPP01-M12
                                                                                         Typical electrical characteristics curves
4               Typical electrical characteristics curves
Note:           Top = 30 °C, VCC = 3.3 V, SOURCE = 5 V, unless otherwise stated
            Figure 4. CC line bandwidth: Vcm = 0 V                       Figure 5. CC line bandwidth: Vcm = 1.2 V
     Figure 6. CCx digital communication (eye diagram
    performed on X-NUCLEO-USBPDM1 and NUCLEO-
                             G071RB)                             Figure 7. CC1c line short to VBUS (22 V) hot-plug via 1m
                                                                            of USB-C cable, sink configuration
 Figure 8. CC line leakage current vs ambient temperature
                              at 5.5 V                                    Figure 9. CC line attachment test setup
DS12900 - Rev 1                                                                                                           page 6/25


                                                                                                    TCPP01-M12
                                                                              Typical electrical characteristics curves
 Figure 10. CC line attachment (source advertisement: 3 A
                            at 5 V)                       Figure 11. IEC61000-4-2 +8kV ESD applied on CC1c,
                                                                         response on CC1 pin
          Figure 12. CCx line TLP curve (unpowered)        Figure 13. VBUS power-on at 5 V for a Sink device
              Figure 14. VBUS turn-off test setup          Figure 15. VBUS 5 V overvoltage protection (Sink
                                                                 configuration, 20 V applied on VBUS)
DS12900 - Rev 1                                                                                                page 7/25


                                                                                                                TCPP01-M12
                                                                                                                       Application
5               Application
5.1             General information
                The sections below are not part of the ST product specification. They are intended to give a generic application
                overview to be used by the customer as a starting point for further implementations and customizations.
                ST does not warrant compliance with customer specifications. Full system implementation and validation are
                under the customer’s responsibility.
5.2             Electrical hazards related to USB Type-C
                Applications using an USB Type-C connector must be protected against three kinds of hazards:
5.2.1           CC lines short to VBUS
                This happens when VBUS high voltage short circuit to the CC lines when hot unplug is done with a poor
                mechanical quality connector. Over voltage protection is needed on the CC lines because VBUS typical voltage
                can be as high as 20 V when CC pins are usually 5 V tolerant I/Os on low voltage USB-PHY controllers.
5.2.2           Defective charger
                VBUS line is compromised if a defective charger is stuck at a high voltage.
                Overvoltage protection is always required on the VBUS line to prevent a voltage higher than negociated is applied
                on the VBUS.
                This use case can occur even when power delivery is not used i.e when VBUS voltage is 5 V
5.2.3           Electrostatic discharge (ESD)
                Electrostatic discharges can be conducted by the USB Type-C connector and damage the electronic circuitry of
                the application.
                The ESD surge waveform is modelized by the international electrotechnical commission in the specification
                IEC61000-4-2.
                For more information on IEC61000-4-2 standard testing, please refer to STMicroelectronics application note
                AN3353.
5.3             USB Type-C protection
                Any application using an USB Type-C connector must use a Type-C port protection against above listed electrical
                hazards.
                STMicroelectronics TCPP01-M12 (Type-C port protection housed in QFN12) is a single-chip cost effective
                solution to protect any application using a USB Type-C connector.
                It is especially adapted to SINK (consumer) or SOURCE (provider) applications.
                The TCPP01-M12 provides 20 V short-to-VBUS over-voltage and system-level ESD protection on CC lines, as
                well as adjustable over-voltage protection for the VBUS line: an external N-channel MOSFET gate driver is
                integrated inside TCPP01-M12.
                Also, TCPP01-M12 integrates dead battery management logic.
                For consumer (sink) configurations, TCPP01-M12 features a null quiescent current thanks to TCPP01-M12 VCC
                pin being directly controlled by a MCU GPIO in this configuration.
                TCPP01-M12 is the companion chip for:
                •      any general purpose MCUs (example: STM32, STM8) used for USB-C charging applications exposed to
                       defective charger and electrostatic discharge.
                •      any low voltage USB power delivery controller (for example: STM32-UCPD like STM32G0 and STM32G4),
                       exposed to short to VBUS, defective charger and electrostatic discharge.
DS12900 - Rev 1                                                                                                            page 8/25


                                                                                                                     TCPP01-M12
                                                                                                       USB charging system scalability
5.4             USB charging system scalability
                Thanks to its simple implementation and system compliancy with both legacy USB charging and latest USB
                power delivery specification, USB-C applications using TCPP01-M12 can simply migrate from legacy USB
                charging (see Figure 19) to USB power delivery charging (see Figure 20) by simply swapping their STM32 from
                general purpose (for example: STM32L0) to general purpose + UCPD (example: STM23G0) and remove C1/C2
                and add R5/R6 in the PCB to take benefit of the USB-C power delivery. Empty PCB footprints can be planned
                earlier in the design to allow this system scalability.
5.5             How to handle dead battery (DB) condition with the TCPP01-M12
                Dead battery use case happens when a battery-operated sink (consumer or UFP) application has its battery fully
                depleted. In this case TCPP01-M12 enters into dead battery operation.
                Dead battery behavior is basically a pull down (Rd) or a voltage clamp when a USB type-C source voltage is
                applied to CC. It is interpreted as a request by the sink to receive VBUS. It thus facilitates the charging of
                equipment with a fully depleted battery:
                •     It must be present in most cases
                •     It must not be present in the case of a (pure) type-C Source, for example a wall charger
                The DB/ or 'dead battery resistor management' pin is a pulled-down active-low TCPP01-M12 input. The DB/ pin
                can be used in two ways:
                •     The DB/ pin is connected to VCC or
                •     The DB/ pin is driven by an MCU GPIO
                As long as the DB/ pin is low or high-impedance (an internal 5 kΩ pull-down sets the level to ‘0’), the dead-battery
                resistors are connected and CC switches are open (OFF state).
                When the DB/ pin is tied to VCC, the DB/ resistors are disconnected and CC OVP switches are closed (ON state).
                DB/ usage in SINK (SNK) applications:
                •     After system power-up, the DB/ pin must be kept at 0. In this case Rd is enabled at TCPP01-M12 level.
                •     Once Rd is enabled in the UCPD (USB-C power delivery controller), the DB/ pin must be set to the logic
                      level '1'
                For DB/ usage in SRC or Source mode, the DB/ pin must be tied to VCC.
                                                          Table 8. Dead battery logic states
                                                                                            TCPP01-M12
                      TCPP01-M12               TCPP01-M12               TCPP01-M12                                    TCPP01-M12
                                                                                         CC1/CC2 OVP FET
                           VCC                     DB/              DB clamp present                                DB function state
                                                                                                 state
                             0                       0                     Yes                   Open                   Activated
                             0                       1                     Yes                   Open                   Activated
                             1                       0                     Yes                   Open                   Activated
                             1                       1                      No                  Closed                 Inactivated
Note:           When STM32-UCPD boots, Rd seen on CC lines are coming from TCPP01-M12. When STM32-UCPD has
                wake-up, Rd from TCPP01-M12 are disconnected and STM32-UCPD set Rd on CC lines from UCPD IP
DS12900 - Rev 1                                                                                                                  page 9/25


                                                                                                                  TCPP01-M12
                                 Application example for USB type-C power delivery for sink (consumer), PPS compliant, without battery
5.6             Application example for USB type-C power delivery for sink (consumer), PPS
                compliant, without battery
                In this application case, the system is solely powered via the USB-C connector.
                                           Figure 16. Sink applications, without battery, PPS compliant
5.6.1           ESD capacitor (C3)
                The system-level ESD capability of the TCPP01-M12 depends on this capacitor. The two constraints about it is a
                minimum of 35 V DC rated voltage and an ESL (equivalent serial inductance) as low as possible.
                A 50 V X7R 100 nF capacitor is strongly recommended to improve the derating performance (X7R capacitance
                decreases as it voltage increases). ST recommends to choose a capacitor size equal or lower than 0603.
                                                          Table 9. Capacitance specification
                                 Capacitor size                                              Part number
                                     0603                                              CC0402KRX7R9BB104
                                     0402                                             GRM188R71H104KA93D
5.6.2           CC line capacitance (C1, C2)
                USB PD has a specification for the total amount of capacitance for proper operation on CC lines. This
                specification is given here after.
                                                 Table 10. USB type-C power delivery specification
                                               Description                                        Min.                  Max.
                                          CC receiver capacitance                                200 pF                600 pF
                Therefore, the capacitance added by the TCPP01-M12 and by the MCU or low voltage controller must fall within
                these limits. The next table shows the analysis involved in choosing the correct external capacitor for the system.
DS12900 - Rev 1                                                                                                              page 10/25


                                                                                                                     TCPP01-M12
                                Application example for USB type-C power delivery for sink (consumer), PPS compliant, without battery
                                                  Table 11. CC line capacitance budget analysis
                            CC capacitance                Min.   Max.                             Comment
                         CC line target capacitor       200 pF 600 pF              From USB PD Specification Section 5.8.6
                  TCPP01-M12 CC1c, CC2c capacitance      40 pF  100 pF
                           MCU capacitance               60 pF   90 pF  Typical value. To be adapted following the exact reference used
                      Proposed capacitance C1, C2       120 pF 390 pF    25 V DC min. of rated voltage 0402 or smaller recommended
5.6.3           Sense resistor (R1, R2)
                VBUS OVP triggers when VBUS_CTRL pin rises above 1.25 V typical. Choose R1 from any value between 5 kΩ
                and 10 kΩ and calculate R2 as follows:
                With:
                •     R1 = arbitrary resistor between 5-10 kΩ
                •     VBUScMAX = desired VBUS OVP threshold level
                •     VBUS_CTRL = 1.25 V (typical)
5.6.4           N-channel MOSFET (T1)
                The TCPP01-M12 ensures a VGS voltage between 5 V and 6 V when the N-channel MOSFET is ON: choose a N-
                channel MOSFET fully specified (for example: STL11N3LLH6) with 5 V of VGS. Maximum current in USB-PD
                applications can raises up to 5 A.
5.6.5           Complementary products for USB dataline protection for pins DP, DM, SSRX, SSTX
                For applications requiring USB dataline protection, STMicroelectronics recommends the implementation shown in
                picture below:
DS12900 - Rev 1                                                                                                                 page 11/25


                                                                                                                   TCPP01-M12
                                Application example for USB type-C power delivery for sink (consumer), PPS compliant, without battery
                                        Figure 17. USB dataline protection for pins DP, DM, SSRX, SSTX
                                                        Table 12. Product recommendations
                         Part Number           Description                  USB-C connector pin         Protection features
                                                                                                        ESD protection as per
                                                                                                        IEC61000-4-2 Level 4
                         TCPP01-M12            Type-C Port Protection       VBUS, CC1, CC2
                                                                                                        Overvoltage on VBUS
                                                                                                        CC lines short to VBUS
                                                                                                        ESD protection as per
                                               Power line transient voltage                             IEC61000-4-2 Level 4
                      ESDA25P35-1U1M                                        VBUS
                                               suppressor                                               IEC61000-4-5 (8/20µs surge
                                                                                                        waveform)
                                                                                                        ESD protection as per
                                                                                                        IEC61000-4-2 Level 4
                                               Common Mode Filter with
                        ECMF02-2AMX6                                        D+, D-                      RF antenna desense due to
                                               integrated ESD protection
                                                                                                        high speed differential link
                                                                                                        EMI radiation
                                                                                                        ESD protection as per
                                                                                                        IEC61000-4-2 Level 4
                                               Common mode filter with      TX1+, TX1-, RX1+, RX1-
                  ECMF4-2450A60N10 (x2)                                                                 RF antenna desense due to
                                               integrated ESD protection    TX2+, TX2-, RX2+, RX2-
                                                                                                        high speed differential link
                                                                                                        EMI radiation
                For more information on USB Type-C protection for datalines, please refer to AN4871, USB Type-C protection
                and filtering.
                For more information on RF antenna desense due to high speed differential link EMI radiation, please refer to
                AN4356, Antenna desense on handheld equipment.
DS12900 - Rev 1                                                                                                               page 12/25


                                                                                                               TCPP01-M12
                                                                                        Typical USB-C battery powered application
5.7             Typical USB-C battery powered application
                In this application use case, the system is typically powered by embedded batteries and the USB connector is
                used to recharge them.
                                                 Figure 18. Sink PD3.0 applications, with battery
                Compared to the previous case, the TCPP01-M12 is now powered via GPIO1: This is possible thanks to the very
                low TCPP01-M12 biasing current (120 µA worst case). In this configuration, the TCPP01-M12 consumes power
                only during USB attachment. An attachment condition is detected via resistors R3 and R4.
                Once a source has detected a SINK attachment, it releases automatically 5 V / 0.5 A on the VBUS. This voltage is
                detected by the TCPP01-M12 and it turn-on the N-channel MOSFET T1 (needed power is drawn from IN_GD
                pin). As the VBUS voltage increases, the attachment is detected through ADC.
                In the Figure 18, the D1 diode ESDA25P35-1U1M is used to comply with the International electrotechnical
                commission specification IEC61000-4 on the VBUS power line when it is subjected to switching and lightning
                transients. For more information, please refer to AN4275: IEC61000-4-5 standard overview.
                Please refer to AN5225 for more informations related to USB Type-CTM power delivery using STM32xx Series
                MCUs and STM32xxx Series MPUs.
                For more information on EMI filtering and ESD protection of USB datalines, please refer to AN4871: USB Type-C
                protection and filtering.
DS12900 - Rev 1                                                                                                        page 13/25


                                                                                                                TCPP01-M12
                                                                                         Typical USB-C battery powered application
                  Figure 19. 15 W sink applications, with battery and general purpose MCU (for example: STM32 or STM8)
                When the power delivery protocol is not used, the TCPP01-M12 is used for protection against defective charger,
                ESD protection and dead battery management. The MCU can be an STM8 or any STM32 featuring at least 3
                ADCs. The power profile is defined by the pull-down resistors on CC lines on the Sink side and pull-up resistors
                on the Source side. Cf p:47/56 of AN5225 “USB Type-C™ Power Delivery using STM32xx Series MCUs and
                STM32xxx Series MPUs”.(AN5225).
Note:           In dead battery condition the sequence below applies:
                •    TCPP01-M12 dead battery present clamp (1.1 V) on CC1 and CC2 lines
                •    The source detects the clamp presence and applies 5 V on VBUS
                •    The N-channel MOSFET (T1: STL11N3LLH6) switches to ON state and supplies the application's power
                     management with 5 V
                •    The MCU wakes-up and applies 3.3 V on GPIO1: this wakes up the TCPP01-M12
                •    The TCPP01-M12 removes its clamp on the CC lines so that ADC1 or ADC2 can sense the SOURCE
                     power capability with the voltage across R5 or R6 (both resistors are needed)
DS12900 - Rev 1                                                                                                          page 14/25


                                                                                                              TCPP01-M12
                                                                                                 Typical USB-C source application
5.8             Typical USB-C source application
                SOURCE applications differ from SINK by the following ways:
                •     TCPP01-M12 dead battery function is no more needed, it must be disabled. It is done by connecting the
                      TCPP01-M12 DB/ signal to VCC.
                •     Now, it is the MCU which detects an attachment condition and controls the VBUS turn ON / turn OFF.
                •     Finally, an over-current protection is mandatory on VBUS
                Note that the proposed design does not provide VCONN switches. As a consequence, it can handle low speed, full
                speed, high speed, super speed USB data rate and SOURCE current is limited to 3 A (no active cable support).
                             Figure 20. Source application with programmable power supply (PD3.0 specification)
                •    FLT/ (FAULT) is an open-drain output pin.
                •    DB/ is a pull-down TCPP input. Connect to 3.3 V if not managed by MCU software.
                When the VBUS_CTRL pin is tied to VCC, VBUS N-channel MOSFETs (T1 and T2) are open.
                Else, when the VBUS_CTRL pin is tied to GND, N-channel MOSFETs (T1 and T2) are closed.
DS12900 - Rev 1                                                                                                        page 15/25


                                                                                                      TCPP01-M12
                                                                                         Typical USB-C source application
                  Figure 21. 15 W source applications with STM8/32 general purpose MCU (for example: STM8 or STM32)
                •    VBUS_CTRL turns the VBUS N-channel MOSFETs to ON-state when needed (the N-channel MOSFETs are
                     normally-off due to the pull-up resistor R2)
                •    Dead battery resistors are not presented by TCPP01-M12
DS12900 - Rev 1                                                                                                page 16/25


                                                                                                TCPP01-M12
                                            Sink-source application example based on STM32G0 (with two UCPD ports)
5.9             Sink-source application example based on STM32G0 (with two UCPD ports)
                                           Figure 22. Sink-source solution
DS12900 - Rev 1                                                                                          page 17/25


                                                                                                            TCPP01-M12
                                                                                                                  PCB routing
6               PCB design recommendations
                When routing the TCPP01-M12, please respect the following recommendations:
                •    Place the circuit as close as possible of the USB connector
                •    Place the ESD capacitor as close as possible of the TCPP01-M12
                An example of routing with two layer board is shown here after.
                For more informations on ESD protection layout and placement, please refer to AN576: PCB layout optimization.
                                                      Figure 23. layer board for sink mode
                                                  Figure 24. TCPP01-M12 symbol and footprint
DS12900 - Rev 1                                                                                                      page 18/25


                                                                                                               TCPP01-M12
                                                                                                              Package information
7               Package information
                In order to meet environmental requirements, ST offers these devices in different grades of ECOPACK packages,
                depending on their level of environmental compliance. ECOPACK specifications, grade definitions and product
                status are available at: www.st.com. ECOPACK is an ST trademark.
7.1             QFN12 package information
                                                        Figure 25. QFN12 package outline
                                                                            D
                                                      PIN #1
                                                   INDEX AREA
                                                                                          E
                                                                     TOP VIEW
                                                                                      A3
                                                           A
                                                                                          SEATING
                                                                                          PLANE
                                                                    SIDE VIEW      A1
                                                              L          e       b
                                                                      4       6
                                                                 3                  7
                                                                                         E2
                                                                 1                  9
                                                        PIN #1 ID     12      10
                                                                           D2
                                                                    BOTTOM VIEW
DS12900 - Rev 1                                                                                                         page 19/25


                                                                                                        TCPP01-M12
                                                                                               QFN12 package information
                                                Table 13. QFN12 package mechanical data
                                                                           Dimensions
                          Ref.                                             Millimeters
                                                     Min.                    Typ.                        Max.
                           A                         0.80                    0.90                        1.00
                          A1                         0.00                    0.02                        0.05
                          A3                                                 0.20
                           b                         0.18                    0.25                        0.30
                           D                         2.95                    3.00                        3.05
                           E                         2.95                    3.00                        3.05
                          D2                         1.30                    1.45                        1.55
                          E2                         1.30                    1.45                        1.55
                           e                                                 0.50
                           K                         0.20
                           L                         0.30                    0.40                        0.50
                                                Figure 26. QFN12 recommended footprint
                                                                   0.25
                                                             0.50
                                                                                   0.60
                                                  2.20                             1.45
                                                                    1.45
                                                                         Figure 28. Tape and reel orientation
             Figure 27. Package orientation in reel
DS12900 - Rev 1                                                                                                page 20/25


                                                                                                  TCPP01-M12
                                                                                           QFN12 package information
                                                                   Figure 30. Inner box dimensions (mm)
                Figure 29. Reel dimensions (mm)
                                                Figure 31. Tape and reel outline
DS12900 - Rev 1                                                                                            page 21/25


                                                                    TCPP01-M12
                                                             QFN12 package information
                     Table 14. Tape and reel mechanical data
                                                Dimensions
                Ref.                            Millimeters
                          Min.                      Typ.              Max.
                D0        1.50                      1.55              1.60
                D1        1.50
                 F        5.45                      5.50              5.55
                K0        1.00                      1.10              1.20
                P0        3.90                       4.0              4.10
                P1        7.90                      8.00              8.10
                P2        1.95                      2.00              2.05
                 W       11.70                     12.00             12.30
DS12900 - Rev 1                                                              page 22/25


                                                                                  TCPP01-M12
                                                                                Ordering information
8               Ordering information
                                       Table 15. Ordering information
                    Order code Marking   Package         Weight       Base qty. Delivery mode
                   TCPP01-M12   TCPP      QFN12          23 mg          3000     Tape and reel
DS12900 - Rev 1                                                                             page 23/25


                                                                                   TCPP01-M12
Revision history
                             Table 16. Document revision history
                     Date                 Revision                           Changes
                 06-Sep-2019                 1              Initial release.
DS12900 - Rev 1                                                                         page 24/25


                                                                                                                                           TCPP01-M12
                                                       IMPORTANT NOTICE – PLEASE READ CAREFULLY
 STMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and improvements to ST
 products and/or to this document at any time without notice. Purchasers should obtain the latest relevant information on ST products before placing orders. ST
 products are sold pursuant to ST’s terms and conditions of sale in place at the time of order acknowledgement.
 Purchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application assistance or the design of
 Purchasers’ products.
 No license, express or implied, to any intellectual property right is granted by ST herein.
 Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for such product.
 ST and the ST logo are trademarks of ST. For additional information about ST trademarks, please refer to www.st.com/trademarks. All other product or service
 names are the property of their respective owners.
 Information in this document supersedes and replaces information previously supplied in any prior versions of this document.
                                                          © 2019 STMicroelectronics – All rights reserved
DS12900 - Rev 1                                                                                                                                        page 25/25


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
STMicroelectronics:
 TCPP01-M12
