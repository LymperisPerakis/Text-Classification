                                                                                                               CY7C63413C
                                                                                                               CY7C63513C
                                                                                                               CY7C63613C
                                                                       Low-Speed High Input/Output
                                                                                 1.5-Mbps USB Controller
Features                                                           Functional Overview
■ Low-cost solution for low-speed applications with high I/O       The CY7C63413C/513C/613C are 8-bit RISC one time
  requirements such as keyboards, keyboards with integrated        programmable (OTP) microcontrollers. The instruction set has
  pointing device, gamepads, and many                              been optimized specifically for USB operations, although the
  others                                                           microcontrollers can be used for a variety of non-USB embedded
■ USB Specification compliance                                     applications.
  ❐ Conforms to USB Specification, Versions 1.1 and 2.0            The CY7C63413C/513C features 32 GPIO pins to support USB
  ❐ Conforms to USB HID Specification, Version 1.1                 and other applications. The I/O pins are grouped into four ports
  ❐ Supports one device address and three data endpoints
                                                                   (Port 0 to 3) where each port can be configured as inputs with
                                                                   internal pull-ups, open drain outputs, or traditional CMOS
  ❐ Integrated USB transceiver
                                                                   outputs. The CY7C63413C/513C have 24 GPIO pins (Ports 0 to
■ 8-bit RISC microcontroller                                       2) that are rated at 7 mA typical sink current. The
  ❐ Harvard architecture                                           CY7C63413C/513C has 8 GPIO pins (Port 3) that are rated at
  ❐ 6-MHz external ceramic resonator                               12 mA typical sink current, which allows these pins to drive
  ❐ 12-MHz internal CPU clock
                                                                   LEDs.
■ Internal memory                                                  The CY7C63613C features 16 GPIO pins to support USB and
                                                                   other applications. The I/O pins are grouped into four ports (Port
  ❐ 256 bytes of RAM
                                                                   0 to 3) where each port can be configured as inputs with internal
  ❐ 8 Kbytes of EPROM
                                                                   pull-ups, open drain outputs, or traditional CMOS outputs. The
■ Interface can auto-configure to operate as PS2 or USB            CY7C63613C has 12 GPIO pins (Ports 0 to 2) that are rated at
                                                                   7 mA typical sink current. The CY7C63613C has four GPIO pins
■ I/O port                                                         (Port 3) that are rated at 12 mA typical sink current, which allows
  ❐ The CY7C63413C/513C have 24 general purpose I/O                these pins to drive LEDs.
    (GPIO) pins (Port 0 to 2) capable of sinking 7 mA per pin
    (typical)                                                      Multiple GPIO pins can be connected together to drive a single
  ❐ The CY7C63613C has 12 GPIO pins (Port 0 to 2) capable of       output for more drive current capacity. Additionally, each I/O pin
    sinking 7 mA per pin (typical)                                 can be used to generate a GPIO interrupt to the microcontroller.
  ❐ The CY7C63413C/513C have eight GPIO pins (Port 3) ca-          Note the GPIO interrupts all share the same “GPIO” interrupt
    pable of sinking 12 mA per pin (typical) which can drive LEDs  vector.
  ❐ The CY7C63613C has four GPIO pins (Port 3) capable of
                                                                   The CY7C63513C features an additional 8 I/O pins in the DAC
    sinking 12 mA per pin (typical) which can drive LEDs
                                                                   port. Every DAC pin includes an integrated 14-K pull-up
  ❐ Higher current drive is available by connecting multiple GPIO
    pins together to drive a common output                         resistor. When a “1” is written to a DAC I/O pin, the output current
  ❐ Each GPIO port can be configured as inputs with internal
                                                                   sink is disabled and the output pin is driven high by the internal
    pull-ups or open drain outputs or traditional CMOS outputs     pull-up resistor. When a “0” is written to a DAC I/O pin, the
  ❐ The CY7C63513C has an additional eight I/O pins on a DAC
                                                                   internal pull-up is disabled and the output pin provides the
    port which has programmable current sink outputs               programmed amount of sink current. A DAC I/O pin can be used
  ❐ Maskable interrupts on all I/O pins
                                                                   as an input with an internal pull-up by writing a “1” to the pin.
■ 12-bit free-running timer with one microsecond clock ticks       The sink current for each DAC I/O pin can be individually
                                                                   programmed to one of sixteen values using dedicated Isink
■ Watch Dog Timer (WDT)                                            registers. DAC bits [1:0] can be used as high current outputs with
■ Internal Power-On Reset (POR)                                    a programmable sink current range of 3.2 to 16 mA (typical).
                                                                   DAC bits [7:2] have a programmable current sink range of 0.2 to
■ Improved output drivers to reduce EMI
                                                                   1.0 mA (typical). Again, multiple DAC pins can be connected
■ Operating voltage from 4.0 V to 5.5 V DC                         together to drive a single output that requires more sink current
■ Operating temperature from 0 to 70 °C                            capacity. Each I/O pin can be used to generate a DAC interrupt
                                                                   to the microcontroller and the interrupt polarity for each DAC I/O
■ CY7C63413C available in 40-pin PDIP, 48-pin SSOP, 48-pin         pin is individually programmable. The DAC port interrupts share
  SSOP - Tape reel, all in Pb-free versions for production         a separate “DAC” interrupt vector.
■ CY7C63513C available in 48-pin SSOP Pb-free packages for
  production
■ CY7C63613C available in 24-pin SOIC Pb-free packages for
  production
■ Industry-standard programmer support
Cypress Semiconductor Corporation             •   198 Champion Court       •     San Jose, CA 95134-1709          •      408-943-2600
Document Number: 38-08027 Rev. *H                                                                              Revised March 2, 2017


                                                                                                                  CY7C63413C
                                                                                                                  CY7C63513C
                                                                                                                  CY7C63613C
The Cypress microcontrollers use an external 6-MHz ceramic        cause a DAC interrupt. The GPIO ports also have a level of
resonator to provide a reference to an internal clock generator.  masking to select which GPIO inputs can cause a GPIO
This clock generator reduces the clock-related noise emissions    interrupt. For additional flexibility, the input transition polarity that
(EMI). The clock generator provides the 6 and 12-MHz clocks       causes an interrupt is programmable for each pin of the DAC
that remain internal to the microcontroller.                      port. Input transition polarity can be programmed for each GPIO
The CY7C63413C/513C/613C are offered with single EPROM            port as part of the port configuration. The interrupt polarity can
options. The CY7C63413C, CY7C63513C and the                       be either rising edge (“0” to “1”) or falling edge (“1” to “0”).
CY7C63613C have 8 Kbytes of EPROM.                                The free-running 12-bit timer clocked at 1 MHz provides two
These parts include Power-on Reset logic, a Watch Dog Timer,      interrupt sources as noted above (128-s and 1.024-ms). The
a vectored interrupt controller, and a 12-bit free-running timer. timer can be used to measure the duration of an event under
The Power-On Reset (POR) logic detects when power is applied      firmware control by reading the timer twice: once at the start of
to the device, resets the logic to a known state, and begins      the event, and once after the event is complete. The difference
executing instructions at EPROM address 0x0000. The Watch         between the two readings indicates the duration of the event
Dog Timer can be used to ensure the firmware never gets stalled   measured in microseconds. The upper four bits of the timer are
for more than approximately 8 ms. The firmware can get stalled    latched into an internal register when the firmware reads the
for a variety of reasons, including errors in the code or a       lower eight bits. A read from the upper four bits actually reads
hardware failure such as waiting for an interrupt that never      data from the internal register, instead of the timer. This feature
occurs. The firmware should clear the Watch Dog Timer             eliminates the need for firmware to attempt to compensate if the
periodically. If the Watch Dog Timer is not cleared for           upper four bits happened to increment right after the lower 8 bits
approximately 8 ms, the microcontroller will generate a hardware  are read.
watch dog reset.                                                  The CY7C63413C/513C/613C include an integrated USB serial
The microcontroller supports eight maskable interrupts in the     interface engine (SIE) that supports the integrated peripherals.
vectored interrupt controller. Interrupt sources include the USB  The hardware supports one USB device address with three
Bus-Reset, the 128-s and 1.024-ms outputs from the               endpoints. The SIE allows the USB host to communicate with the
free-running timer, three USB endpoints, the DAC port, and the    function integrated into the microcontroller.
GPIO ports. The timer bits cause an interrupt (if enabled) when   Finally, the CY7C63413C/513C/613C support PS/2 operation.
the bit toggles from LOW “0” to HIGH “1.” The USB endpoints       With appropriate firmware the D+ and D– USB pins can also be
interrupt after either the USB host or the USB controller sends a used as PS/2 clock and data signals. Products utilizing these
packet to the USB. The DAC ports have an additional level of      devices can be used for USB and/or PS/2 operation with
masking that allows the user to select which DAC inputs can       appropriate firmware.
Document Number: 38-08027 Rev. *H                                                                                            Page 2 of 37


                                                                                                                                                     CY7C63413C
                                                                                                                                                     CY7C63513C
                                                                                                                                                     CY7C63613C
Contents
Pin Configuration ............................................................. 4         USB Device ..................................................................... 18
Pin Definitions .................................................................. 5           USB Ports .................................................................. 18
Programming Model ......................................................... 5                  Device Endpoints (3) ................................................. 18
     14-bit Program Counter (PC) ...................................... 5                 12-bit Free-running Timer .............................................. 20
     8-bit Accumulator (A) ................................................... 5               Timer (LSB) ............................................................... 20
     8-bit Index Register (X) ............................................... 5                Timer (MSB) .............................................................. 20
     8-bit Program Stack Pointer (PSP) .............................. 5                   Processor Status and Control Register ....................... 21
     8-bit Data Stack Pointer (DSP) .................................... 6                Interrupts ......................................................................... 21
     Address Modes ........................................................... 6               Interrupt Vectors ........................................................ 22
Instruction Set Summary ................................................. 7                    Interrupt Latency ....................................................... 22
Memory Organization ....................................................... 8             Truth Tables .................................................................... 23
     Program Memory Organization ................................... 8                    Absolute Maximum Ratings .......................................... 27
     Data Memory Organization ......................................... 9                 DC Characteristics ......................................................... 27
     I/O Register Summary ............................................... 10              Switching Characteristics .............................................. 28
Clocking .......................................................................... 11    Ordering Information ...................................................... 31
Reset ................................................................................ 11      Ordering Code Definition ........................................... 31
     Power-On Reset (POR) ............................................. 11                Die Pad Locations .......................................................... 32
     Watch Dog Reset (WDR) .......................................... 11                  Package Diagrams .......................................................... 33
General Purpose I/O Ports ............................................. 12                Acronyms ........................................................................ 35
     GPIO Interrupt Enable Ports ..................................... 13                 Document Conventions ................................................. 35
     GPIO Configuration Port ........................................... 13                    Units of Measure. ...................................................... 35
DAC Port .......................................................................... 15    Document History Page ................................................. 36
     DAC Port Interrupts ................................................... 15           Sales, Solutions, and Legal Information ...................... 37
     DAC Isink Registers .................................................. 15                 Worldwide Sales and Design Support ....................... 37
USB Serial Interface Engine (SIE) ................................. 17                         Products .................................................................... 37
     USB Enumeration ...................................................... 17                 PSoC® Solutions ...................................................... 37
     PS/2 Operation .......................................................... 17              Cypress Developer Community ................................. 37
     USB Port Status and Control ..................................... 17                      Technical Support ..................................................... 37
  .
Document Number: 38-08027 Rev. *H                                                                                                                                  Page 3 of 37


                                                                                                                                               CY7C63413C
                                                                                                                                               CY7C63513C
                                                                                                                                               CY7C63613C
.
    Logic Block Diagram                                                                        Pin Configuration
                                                                                                 CY7C63513C                                CY7C63413C
    6-MHz Ceramic Resonator                                                                      48-pin SSOP                               48-pin SSOP
                                                                                               D+     1      48       VCC              D+      1            48   VCC
          OSC                                                                                  D–     2      47       Vss              D–      2            47   Vss
                                                                                             P3[7]    3      46       P3[6]          P3[7]     3            46   P3[6]
                                                                                             P3[5]    4      45       P3[4]          P3[5]     4            45   P3[4]
      12 MHz    6 MHz                                                                        P3[3]    5      44       P3[2]          P3[3]     5            44   P3[2]
                                                                                             P3[1]    6      43       P3[0]          P3[1]     6            43   P3[0]
                                                                                             P2[7]    7      42       P2[6]          P2[7]     7            42   P2[6]
                                                                                             P2[5]    8      41       P2[4]          P2[5]     8            41   P2[4]
         12-MHz                                                                              P2[3]    9      40       P2[2]          P2[3]     9            40   P2[2]
                                             USB                  D+ USB                     P2[1]    10     39       P2[0]          P2[1]     10           39   P2[0]
          8-bit                                                      PS/2                                                            P1[7]     11           38   P1[6]
                                          Transceiver             D–                         P1[7]    11     38       P1[6]
          CPU                                                        PORT                    P1[5]    12     37       P1[4]          P1[5]     12           37   P1[4]
                                                                                             P1[3]    13     36       P1[2]          P1[3]     13           36   P1[2]
                                                                                             P1[1]    14     35       P1[0]          P1[1]     14           35   P1[0]
                                                                                            DAC[7]    15     34       DAC[6]          NC       15           34   NC
                                                                                            DAC[5]    16     33       DAC[4]          NC       16           33   NC
        EPROM                                USB                                             P0[7]    17     32       P0[6]          P0[7]     17           32   P0[6]
      4/6/8 Kbyte                            SIE                                             P0[5]    18     31       P0[4]          P0[5]     18           31   P0[4]
                                                                                             P0[3]    19     30       P0[2]          P0[3]     19           30   P0[2]
                                                                                             P0[1]    20     29       P0[0]          P0[1]     20           29   P0[0]
                                                                                            DAC[3]    21     28       DAC[2]          NC       21           28   NC
                                                                                            DAC[1]    22              DAC[0]          NC       22           27   NC
                              8-bit Bus
                                                                                                             27
                                                                                              VPP     23     26       XTALOUT         VPP      23           26   XTALOUT
         RAM                              Interrupt                                           Vss     24     25       XTALIN          Vss      24           25   XTALIN
       256 byte                           Controller
                                                                                                                           CY7C63613C
                                                                                                                           24-pin SOIC
                                                                    See Note 1
                                                                  P0[0]                                               D+     1        24     VCC
          12-bit                             GPIO                                                                   D–       2        23     VSS
          Timer                             PORT 0                                                                P3[7]      3        22     P3[6]
                                                                  P0[7]
                                                                                                                  P3[5]      4        21     P3[4]
                                                                                                                  P1[3]      5        20     P1[2]
                                                                                                                  P1[1]      6        19     P1[0]
                                                                  P1[0]                                           P0[7]      7        18     P0[6]
                                             GPIO                                                                 P0[5]      8        17     P0[4]
                                            PORT 1                P1[7]
                                                                                                                  P0[3]      9        16     P0[2]
                                                                                                                  P0[1]      10       15     P0[0]
                                                                                                                   VPP       11       14     XTALOUT
                                                                                                                   Vss       12       13     XTALIN
                                                                  P2[0]
                                             GPIO
                                            PORT 2                P2[7]                                                    CY7C63413C
                                                                                                                            48-Pad Die
                                                                                                                            P3[5]     D+
       Watch Dog                                                                                                            P3[7]
                                                                                                                                      VCC
                                                                                                                                      Vss
                                                                                                                                      P3[6]
                                                                  P3[0]                                                     D–        P3[4]
        Timer                                GPIO                         High Current                        P3[3]
                                                                                                              P3[1]
                                            PORT 3                        Outputs                             P2[7]                                 P3[2]
                                                                  P3[7]                                       P2[5]                                 P3[0]
                                                                                                                                                    P2[6]
                                                                                                              P2[3]                                 P2[4]
                                                                                                              P2[1]                                 P2[2]
                                                                                                              P1[7]                                 P2[0]
       Power-on                                                   DAC[0]                                      P1[5]
                                             DAC                                                              P1[3]                                 P1[6]
        Reset                                                CY7C63513C only                                                                        P1[4]
                                            PORT                  DAC[7]
                                                                                                              P1[1]
                                                                                                             DAC[7]
                                                                                                                                                    P1[2]
                                                                                                                                                    P1[0]
                                                                                                             DAC[5]                                 DAC[6]
                                                                                                                                                    DAC[4]
                                                                                                              P0[7]                                 P0[6]
                                                                                                       0      P0[5]                                 P0[4]
                                                                                                                       P0[3]            Vss
                                                                                                                       P0[1]         XTALIN
                                                                                                                      DAC[3]        XTALOUT
                                                                                                                      DAC[1]         DAC[0]
                                                                                                                        VPP          DAC[2]
                                                                                                                                       P0[0]
                                                                                                                                       P0[2]
                                                                                                                           0
Note
 1. CY7C63613C is not bonded out for all GPIO pins shown in Logic Block Diagram. Refer to pin configuration diagram for bonded out pins. See note on page 12 for
    firmware code needed for unused GPIO pins.
Document Number: 38-08027 Rev. *H                                                                                                                                Page 4 of 37


                                                                                                                       CY7C63413C
                                                                                                                       CY7C63513C
                                                                                                                       CY7C63613C
Pin Definitions
                            CY7C63413C                      CY7C63513C CY7C63613C
                I/O
   Name                  40-Pin       48-Pin        Die         48-Pin           24-Pin        Description
  D+, D–        I/O        1, 2        1, 2        1, 2          1, 2             1, 2        USB differential data; PS/2 clock and
                                                                                              data signals
  P0[7:0]       I/O     15,26,16    17,32,18    17,32,18,   17,32,18,31,     7, 18, 8, 17, 9, GPIO port 0 capable of sinking 7 mA
                        25,17,24    31,19,30    31,19,30,    19,30,20,29       16, 10, 15     (typical)
                          18,23       20,29       20,29
  P1[3:0]       I/O    11,30,12,    11,38,12,   11,38,12,   11,38,12,37,      5, 20, 6, 19    GPIO Port 1 capable of sinking 7 mA
                       29,13,28,    37,13,36,   37,13,36,    13,36,14,35                      (typical).
                          14,27       14,35       14,35
  P2            I/O      7,34,8,      7,42,8,     7,42,8,    7,42,8,41,9,          n/a        GPIO Port 2 capable of sinking 7 mA
                        33,9,32,     41,9,40,    41,9,40,      40,10,39                       (typical).
                          10,31       10,39       10,39
  P3[7:4]       I/O      3,38,4,      3,46,4,     3,46,4,    3,46,4,45,5,     3, 22, 4, 21    GPIO Port 3 capable of sinking 12 mA
                        37,5,36,    45,5,44,     45,5,44,      44,6,43                        (typical).
                          6,35         6,43        6,43
  DAC           I/O        n/a          n/a     15,34,16,   15,34,16,33,           n/a        DAC I/O Port with programmable
                                                33,21,28,    21,28,22,27                      current sink outputs. DAC[1:0] offer a
                                                  22,27                                       programmable range of 3.2 to 16 mA
                                                                                              typical. DAC[7:2] have a program-
                                                                                              mable sink current range of 0.2 to 1.0
                                                                                              mA typical. DAC I/O Port not bonded
                                                                                              out on CY7C63613C. See note on
                                                                                              page 12 for firmware code needed for
                                                                                              unused pins.
  XTALIN                    21          25          25            25                13        6-MHz ceramic resonator or external
                 IN
                                                                                              clock input
  XTALOUT      OUT         22           26          26            26                14        6-MHz ceramic resonator
  VPP                       19          23          23            23                11        Programming voltage supply, ground
                                                                                              during operation
  VCC                       40          48          48            48                24        Voltage supply
  Vss                     20,39       24,47       24,47         24,47            12, 23       Ground
Programming Model                                                        during an interrupt acknowledge or a CALL instruction. The
                                                                         program counter, carry flag, and zero flag are restored from the
14-bit Program Counter (PC)                                              program stack only during a RETI instruction.
The 14-bit Program Counter (PC) allows access for up to 8                Please note the program counter cannot be accessed directly by
kilobytes of EPROM using the CY7C63413C/513C/613C                        the firmware. The program stack can be examined by reading
architecture. The program counter is cleared during reset, such          SRAM from location 0x00 and up.
that the first instruction executed after a reset is at address
0x0000. This is typically a jump instruction to a reset handler that     8-bit Accumulator (A)
initializes the application.                                             The accumulator is the general purpose, do everything register
The lower eight bits of the program counter are incremented as           in the architecture where results are usually calculated.
instructions are loaded and executed. The upper six bits of the
program counter are incremented by executing an XPAGE                    8-bit Index Register (X)
instruction. As a result, the last instruction executed within a         The index register “X” is available to the firmware as an auxiliary
256-byte “page” of sequential code should be an XPAGE                    accumulator. The X register also allows the processor to perform
instruction. The assembler directive “XPAGEON” will cause the            indexed operations by loading an index value into X.
assembler to insert XPAGE instructions automatically. As
instructions can be either one or two bytes long, the assembler          8-bit Program Stack Pointer (PSP)
may occasionally need to insert a NOP followed by an XPAGE               During a reset, the Program Stack Pointer (PSP) is set to zero.
for correct execution.                                                   This means the program “stack” starts at RAM address 0x00 and
The program counter of the next instruction to be executed, carry        “grows” upward from there. Note the program stack pointer is
flag, and zero flag are saved as two bytes on the program stack          directly addressable under firmware control, using the MOV
Document Number: 38-08027 Rev. *H                                                                                              Page 5 of 37


                                                                                                                CY7C63413C
                                                                                                                CY7C63513C
                                                                                                                CY7C63613C
PSP,A instruction. The PSP supports interrupt service under        Data
hardware control and CALL, RET, and RETI instructions under        The “Data” address mode refers to a data operand that is actually
firmware control.                                                  a constant encoded in the instruction. As an example, consider
During an interrupt acknowledge, interrupts are disabled and the   the instruction that loads A with the constant 0xE8:
14-bit program counter, carry flag, and zero flag are written as
                                                                   ■  MOV A,0E8h
two bytes of data memory. The first byte is stored in the memory
addressed by the program stack pointer, then the PSP is            This instruction will require two bytes of code where the first byte
incremented. The second byte is stored in memory addressed         identifies the “MOV A” instruction with a data operand as the
by the program stack pointer and the PSP is incremented again.     second byte. The second byte of the instruction will be the
The net effect is to store the program counter and flags on the    constant “0xE8”. A constant may be referred to by name if a prior
program “stack” and increment the program stack pointer by two.    “EQU” statement assigns the constant value to the name. For
The Return From Interrupt (RETI) instruction decrements the        example, the following code is equivalent to the example shown
program stack pointer, then restores the second byte from          above:
memory addressed by the PSP. The program stack pointer is          ■  DSPINIT: EQU 0E8h
decremented again and the first byte is restored from memory
addressed by the PSP. After the program counter and flags have     ■  MOV A,DSPINIT
been restored from stack, the interrupts are enabled. The effect
is to restore the program counter and flags from the program       Direct
stack, decrement the program stack pointer by two, and             “Direct” address mode is used when the data operand is a
re-enable interrupts.                                              variable stored in SRAM. In that case, the one byte address of
The Call Subroutine (CALL) instruction stores the program          the variable is encoded in the instruction. As an example,
counter and flags on the program stack and increments the PSP      consider an instruction that loads A with the contents of memory
by two.                                                            address location 0x10:
The Return From Subroutine (RET) instruction restores the          ■  MOV A, [10h]
program counter, but not the flags, from program stack and         In normal usage, variable names are assigned to variable
decrements the PSP by two.                                         addresses using “EQU” statements to improve the readability of
                                                                   the assembler source code. As an example, the following code
8-bit Data Stack Pointer (DSP)                                     is equivalent to the example shown above:
The Data Stack Pointer (DSP) supports PUSH and POP
                                                                   ■  buttons: EQU 10h
instructions that use the data stack for temporary storage. A
PUSH instruction will pre-decrement the DSP, then write data to    ■  MOV A,[buttons]
the memory location addressed by the DSP. A POP instruction
will read data from the memory location addressed by the DSP,      Indexed
then post-increment the DSP.                                       “Indexed” address mode allows the firmware to manipulate
During a reset, the Data Stack Pointer will be set to zero. A PUSH arrays of data stored in SRAM. The address of the data operand
instruction when DSP equal zero will write data at the top of the  is the sum of a constant encoded in the instruction and the
data RAM (address 0xFF). This would write data to the memory       contents of the “X” register. In normal usage, the constant will be
area reserved for a FIFO for USB endpoint 0. In non-USB            the “base” address of an array of data and the X register will
applications, this works fine and is not a problem. For USB        contain an index that indicates which element of the array is
applications, it is strongly recommended that the DSP is loaded    actually addressed:
after reset just below the USB DMA buffers.
                                                                   ■  array: EQU 10h
Address Modes                                                      ■  MOV X,3
The CY7C63413C/513C/613C microcontrollers support three            ■  MOV A,[x+array]
addressing modes for instructions that require data operands:
data, direct, and indexed.                                         This would have the effect of loading A with the fourth element
                                                                   of the SRAM “array” that begins at address 0x10. The fourth
                                                                   element would be at address 0x13.
Document Number: 38-08027 Rev. *H                                                                                       Page 6 of 37


                                                                               CY7C63413C
                                                                               CY7C63513C
                                                                               CY7C63613C
Instruction Set Summary
      MNEMONIC          operand    opcode  cycles      MNEMONIC    operand  opcode   cycles
 HALT                             00      7       NOP                      20      4
 ADD A,expr            data       01      4       INC A          acc       21      4
 ADD A,[expr]          direct     02      6       INC X          x         22      4
 ADD A,[X+expr]        index      03      7       INC [expr]     direct    23      7
 ADC A,expr           data        04      4       INC [X+expr]   index     24      8
 ADC A,[expr]         direct      05      6       DEC A          acc       25      4
 ADC A,[X+expr]       index       06      7       DEC X          x         26      4
 SUB A,expr           data        07      4       DEC [expr]     direct    27      7
 SUB A,[expr]         direct      08      6       DEC [X+expr]   index     28      8
 SUB A,[X+expr]       index       09      7       IORD expr      address   29      5
 SBB A,expr           data        0A      4       IOWR expr      address   2A      5
 SBB A,[expr]         direct      0B      6       POP A                    2B      4
 SBB A,[X+expr]       index       0C      7       POP X                    2C      4
 OR A,expr            data        0D      4       PUSH A                   2D      5
 OR A,[expr]          direct      0E      6       PUSH X                   2E      5
 OR A,[X+expr]        index       0F      7       SWAP A,X                 2F      5
 AND A,expr           data        10      4       SWAP A,DSP               30      5
 AND A,[expr]         direct      11      6       MOV [expr],A   direct    31      5
 AND A,[X+expr]       index       12      7       MOV [X+expr],A index     32      6
 XOR A,expr           data        13      4       OR [expr],A    direct    33      7
 XOR A,[expr]         direct      14      6       OR [X+expr],A  index     34      8
 XOR A,[X+expr]       index       15      7       AND [expr],A   direct    35      7
 CMP A,expr           data        16      5       AND [X+expr],A index     36      8
 CMP A,[expr]         direct      17      7       XOR [expr],A   direct    37      7
 CMP A,[X+expr]       index       18      8       XOR [X+expr],A index     38      8
 MOV A,expr           data        19      4       IOWX [X+expr]  index     39      6
 MOV A,[expr]         direct      1A      5       CPL                      3A      4
 MOV A,[X+expr]       index       1B      6       ASL                      3B      4
 MOV X,expr           data        1C      4       ASR                      3C      4
 MOV X,[expr]         direct      1D      5       RLC                      3D      4
 reserved                         1E              RRC                      3E      4
 XPAGE                            1F      4       RET                      3F      8
 MOV A,X                          40      4       DI                       70      4
 MOV X,A                          41      4       EI                       72      4
 MOV PSP,A                        60      4       RETI                     73      8
 CALL                 addr        50-5F   10
 JMP                  addr        80-8F   5       JC             addr      C0-CF   5
 CALL                 addr        90-9F   10      JNC            addr      D0-DF   5
 JZ                   addr        A0-AF   5       JACC           addr      E0-EF   7
 JNZ                  addr        B0-BF   5       INDEX          addr      F0-FF   14
Document Number: 38-08027 Rev. *H                                                     Page 7 of 37


                                                                                            CY7C63413C
                                                                                            CY7C63513C
                                                                                            CY7C63613C
Memory Organization
Program Memory Organization
                             Figure 1. Program Memory Space with Interrupt Vector Table
                 after reset           Address
                 14-bit PC             0x0000   Program execution begins here after a reset
                                       0x0002   USB Bus Reset interrupt vector
                                       0x0004   128-s timer interrupt vector
                                       0x0006   1.024-ms timer interrupt vector
                                       0x0008   USB address A endpoint 0 interrupt vector
                                       0x000A   USB address A endpoint 1 interrupt vector
                                       0x000C   USB address A endpoint 2 interrupt vector
                                       0x000E   Reserved
                                       0x0010   Reserved
                                       0x0012   Reserved
                                       0x0014   DAC interrupt vector
                                       0x0016   GPIO interrupt vector
                                       0x0018   Reserved
                                       0x001A   Program Memory begins here
                                                (8K - 32 bytes)
                                       0x1FDF   8-KB PROM ends here (CY7C63413C, CY7C63513C, CY7C63613C)
Document Number: 38-08027 Rev. *H                                                                 Page 8 of 37


                                                                                                    CY7C63413C
                                                                                                    CY7C63513C
                                                                                                    CY7C63613C
Data Memory Organization
The CY7C63413C/513C/613C microcontrollers provide 256 bytes of data RAM. In normal usage, the SRAM is partitioned into four
areas: program stack, data stack, user variables and USB endpoint FIFOs as shown below:
             after reset             Address
             8-bit PSP                 0x00       Program Stack begins here and grows upward
             8-bit DSP                  user      Data Stack begins here and grows downward
                                                  The user determines the amount of memory required
                                                  User Variables
                                       0xE8
                                                  USB FIFO for Address A endpoint 2
                                       0xF0
                                                  USB FIFO for Address A endpoint 1
                                       0xF8
                                                  USB FIFO for Address A endpoint 0
 Top of RAM Memory                     0xFF
Document Number: 38-08027 Rev. *H                                                                              Page 9 of 37


                                                                                                                               CY7C63413C
                                                                                                                               CY7C63513C
                                                                                                                               CY7C63613C
I/O Register Summary                                                             selected port. Indexed I/O Write (IOWX) adds the contents of X
                                                                                 to the address in the instruction to form the port address and
I/O registers are accessed via the I/O Read (IORD) and I/O Write
                                                                                 writes data from the accumulator to the specified port. Note that
(IOWR, IOWX) instructions. IORD reads the selected port into
                                                                                 specifying address 0 (e.g., IOWX 0h) means the I/O port is
the accumulator. IOWR writes data from the accumulator to the
                                                                                 selected solely by the contents of X.
Table 1. I/O Register Summary
         Register Name                    I/O Address              Read/Write                                    Function
  Port 0 Data                                 0x00                      R/W             GPIO Port 0
  Port 1 Data                                 0x01                      R/W             GPIO Port 1
  Port 2 Data                                 0x02                      R/W             GPIO Port 2
  Port 3 Data                                 0x03                      R/W             GPIO Port 3
  Port 0 Interrupt Enable                     0x04                        W             Interrupt enable for pins in Port 0
  Port 1 Interrupt Enable                     0x05                        W             Interrupt enable for pins in Port 1
  Port 2 Interrupt Enable                     0x06                        W             Interrupt enable for pins in Port 2
  Port 3 Interrupt Enable                     0x07                        W             Interrupt enable for pins in Port 3
  GPIO Configuration                          0x08                      R/W             GPIO Ports Configurations
  USB Device Address A                        0x10                      R/W             USB Device Address A
  EP A0 Counter Register                      0x11                      R/W             USB Address A, Endpoint 0 counter register
  EP A0 Mode Register                         0x12                      R/W             USB Address A, Endpoint 0 configuration register
  EP A1 Counter Register                      0x13                      R/W             USB Address A, Endpoint 1 counter register
  EP A1 Mode Register                         0x14                      R/C             USB Address A, Endpoint 1 configuration register
  EP A2 Counter Register                      0x15                      R/W             USB Address A, Endpoint 2 counter register
  EP A2 Mode Register                         0x16                      R/C             USB Address A, Endpoint 2 configuration register
  USB Status & Control                        0x1F                      R/W             USB upstream port traffic status and control register
  Global Interrupt Enable                     0x20                      R/W             Global interrupt enable register
  Endpoint Interrupt Enable                   0x21                      R/W             USB endpoint interrupt enables
  Timer (LSB)                                 0x24                         R            Lower eight bits of free-running timer (1 MHz)
  Timer (MSB)                                 0x25                         R            Upper four bits of free-running timer that are latched
                                                                                        when the lower eight bits are read.
  WDR Clear                                   0x26                        W             Watch Dog Reset clear
  DAC Data                                    0x30                      R/W             DAC I/O[2]
  DAC Interrupt Enable                        0x31                        W             Interrupt enable for each DAC pin
  DAC Interrupt Polarity                      0x32                        W             Interrupt polarity for each DAC pin
  DAC Isink                                 0x38-0x3F                     W             One four bit sink current register for each DAC pin
  Processor Status & Control                  0xFF                      R/W             Microprocessor status and control
  Note
   2. DAC I/O Port not bonded out on CY7C63613C. See note on page 12 for firmware code needed for unused GPIO pins.
Document Number: 38-08027 Rev. *H                                                                                                     Page 10 of 37


                                                                                                                     CY7C63413C
                                                                                                                     CY7C63513C
                                                                                                                     CY7C63613C
                                              Figure 2. Clock Oscillator On-chip Circuit
                         Clock Distribution
                                  clk1x                                                          XTALOUT
                             (to USB SIE)
                                  clk2x               Clock
                           (to Microcontroller)      Doubler
                                                                                                 XTALIN
                                                                    30 pF                30 pF
                                                                        of approximately 1/2 full supply voltage. In addition to the normal
Clocking                                                                reset initialization noted under “Reset,” bit 4 (PORS) of the
                                                                        Processor Status and Control Register is set to “1” to indicate to
The XTALIN and XTALOUT are the clock pins to the                        the firmware that a Power-On Reset occurred. The POR event
microcontroller. The user can connect a low-cost ceramic                forces the GPIO ports into input mode (high impedance), and the
resonator or an external oscillator can be connected to these           state of Port 3 bit 7 is used to control how the part will respond
pins to provide a reference frequency for the internal clock            after the POR releases.
distribution and clock doubler.                                         If Port 3 bit 7 is HIGH (pulled to VCC) and the USB I/O are at the
An external 6-MHz clock can be applied to the XTALIN pin if the         idle state (DM HIGH and DP LOW) the part will go into a
XTALOUT pin is left open. Please note that grounding the                semi-permanent power down/suspend mode, waiting for the
XTALOUT pin is not permissible as the internal clock is effectively     USB I/O to go to one of Bus Reset, K (resume) or SE0. If Port 3
shorted to ground.                                                      bit 7 is still HIGH when the part comes out of suspend, then a
                                                                        128-s timer starts, delaying CPU operation until the ceramic
Reset                                                                   resonator has stabilized.
                                                                        If Port 3 bit 7 was LOW (pulled to VSS) the part will start a 96-ms
The USB Controller supports three types of resets. All registers        timer, delaying CPU operation until VCC has stabilized, then
are restored to their default states during a reset. The USB            continuing to run as reset.
Device Addresses are set to 0 and all interrupts are disabled. In
addition, the program stack pointer (PSP) and data stack pointer        Firmware should clear the POR Status (PORS) bit in register
(DSP) are set to 0x00. For USB applications, the firmware should        0xFF before going into suspend as this status bit selects the
set the DSP below 0xE8 to avoid a memory conflict with RAM              128-s or 96-ms start-up timer value as follows: IF Port 3 bit 7 is
dedicated to USB FIFOs. The assembly instructions to do this            HIGH then 128-s is always used; ELSE if PORS is HIGH then
are shown below:                                                        96-ms is used; ELSE 128-s is used.
    Mov A, E8h      ; Move 0xE8 hex into Accumulator                    Watch Dog Reset (WDR)
    Swap A,dsp      ; Swap accumulator value into dsp register          The Watch Dog Timer Reset (WDR) occurs when the Most
The three reset types are:                                              Significant Bit (MSB) of the 2-bit Watch Dog Timer Register
 1. Power-On Reset (POR)                                                transitions from LOW to HIGH. In addition to the normal reset
                                                                        initialization noted under “Reset,” bit 6 of the Processor Status
 2. Watch Dog Reset (WDR)                                               and Control Register is set to “1” to indicate to the firmware that
 3. USB Bus Reset (non hardware reset)                                  a Watch Dog Reset occurred.
The occurrence of a reset is recorded in the Processor Status           The Watch Dog Timer is a 2-bit timer clocked by a 4.096-ms
and Control Register located at I/O address 0xFF. Bits 4, 5, and        clock (bit 11) from the free-running timer. Writing any value to the
6 are used to record the occurrence of POR, USB Reset, and              write-only Watch Dog Clear I/O port (0x26) will clear the Watch
WDR respectively. The firmware can interrogate these bits to            Dog Timer.
determine the cause of a reset.                                         In some applications, the Watch Dog Timer may be cleared in
The microcontroller begins execution from ROM address 0x0000            the 1.024-ms timer interrupt service routine. If the 1.024-ms timer
after a POR or WDR reset. Although this looks like interrupt            interrupt service routine does not get executed for 8.192 ms or
vector 0, there is an important difference. Reset processing does       more, a Watch Dog Timer Reset will occur. A Watch Dog Timer
NOT push the program counter, carry flag, and zero flag onto            Reset lasts for 2.048 ms after which the microcontroller begins
program stack. That means the reset handler in firmware should          execution at ROM address 0x0000. The USB transmitter is
initialize the hardware and begin executing the “main” loop of          disabled by a Watch Dog Reset because the USB Device
code. Attempting to execute either a RET or RETI in the reset           Address Register is cleared. Otherwise, the USB Controller
handler will cause unpredictable execution results.                     would respond to all address 0 transactions. The USB
                                                                        transmitter remains disabled until the MSB of the USB address
Power-On Reset (POR)                                                    register is set.
Power-On Reset (POR) occurs every time the VCC voltage to the
device ramps from 0V to an internally defined trip voltage (Vrst)
Document Number: 38-08027 Rev. *H                                                                                             Page 11 of 37


                                                                                                                                        CY7C63413C
                                                                                                                                        CY7C63513C
                                                                                                                                        CY7C63613C
General Purpose I/O Ports                                                                 resistors: the port configuration selected in the GPI/O
                                                                                          Configuration register and the state of the output data bit. If the
Ports 0 to 2 provide 24 GPI/O pins that can be read or written.                           GPI/O Configuration selected is “Resistive” and the output data
Each port (8 bits) can be configured as inputs with internal                              bit is “1,” then the internal pull-up resistor is enabled for that
pull-ups, open drain outputs, or traditional CMOS outputs.                                GPI/O pin. Otherwise, Q1 is turned off and the 7-k pull-up is
Please note an open drain output is also a high-impedance (no                             disabled. Q2 is “ON” to sink current whenever the output data bit
pull-up) input. All of the I/O pins within a given port have the same                     is written as a “0.” Q3 provides “HIGH” source current when the
configuration. Ports 0 to 2 are considered low current drive with                         GPI/O port is configured for CMOS outputs and the output data
typical current sink capability of 7 mA.                                                  bit is written as a “1”. Q2 and Q3 are sized to sink and source,
                                                                                          respectively, roughly the same amount of current to support
The internal pull-up resistors are typically 7 k. Two factors
                                                                                          traditional CMOS outputs with symmetric drive.
govern the enabling and disabling of the internal pull-up
                                                    Figure 3. Block Diagram of a GPIO Line
                                                                                                     VCC
                                     GPIO
                                     CFG                                         mode
                                                                                 2 bits
                                                       Data                                    Q1             Q3
                          Internal
                          Data Bus                     Out
                                                       Latch
                                                                           Control             7 k
                                                      Port Write                                                           GPIO
                                                                                                                            Pin
                                                                                               Q2
                                                                                                                    ESD
                                                 Internal
                                                 Buffer
                                                      Port Read
                                     Interrupt                             Control                 to Interrupt
                                     Enable                                                        Controller
.
Table 2. Port 0 Data
           Addr: 0x00                                                  Port 0 Data
     P0[7]             P0[6]            P0[5]                      P0[4]                   P0[3]                   P0[2]      P0[1]           P0[0]
      R/W              R/W               R/W                       R/W                     R/W                     R/W            R/W         R/W
Table 3. Port 1 Data
           Addr: 0x01                                                  Port 1 Data
     P1[7]             P1[6]            P1[5]                      P1[4]                   P1[3]                   P1[2]      P1[1]           P1[0]
      R/W              R/W               R/W                       R/W                     R/W                     R/W            R/W         R/W
Document Number: 38-08027 Rev. *H                                                                                                             Page 12 of 37


                                                                                                                      CY7C63413C
                                                                                                                      CY7C63513C
                                                                                                                      CY7C63613C
                                                     Figure 4. Watch Dog Reset (WDR)
                                           8.192 ms
                                           to 14.336 ms
                                                                2.048 ms
                               At least 8.192 ms              WDR goes high                 Execution begins at
                              since last write to WDT         for 2.048 ms                  Reset Vector 0X00
Table 4. Port 2 Data
             Addr: 0x02                                         Port 2 Data
        P2[7]             P2[6]            P2[5]          P2[4]            P2[3]            P2[2]             P2[1]            P2[0]
        R/W                R/W             R/W             R/W             R/W              R/W                R/W             R/W
Table 5. Port 3 Data
             Addr: 0x03                                         Port 3 Data
        P3[7]             P3[6]            P3[5]          P3[4]            P3[3]            P3[2]             P3[1]            P3[0]
        R/W                R/W             R/W             R/W             R/W              R/W                R/W             R/W
Table 6. DAC Port Data
             Addr: 0x30                                      DAC Port Data
                                            Low current outputs                                                High current outputs
                                         0.2 mA to 1.0 mA typical                                            3.2 mA to 16 mA typical
      DAC[7]             DAC[6]           DAC[5]         DAC[4]          DAC[3]            DAC[2]            DAC[1]           DAC[0]
        R/W                R/W             R/W             R/W             R/W              R/W                R/W             R/W
Port 3 has eight GPIO pins. Port 3 (8 bits) can be configured as         During reset, all of the bits in the GPIO to a default configuration
inputs with internal pull-ups, open drain outputs, or traditional        of Open Drain output, positive interrupt polarity for all GPIO
CMOS outputs. An open drain output is also a high-impedance              ports.
input. Port 3 offers high current drive with a typical current sink
capability of 12 mA. The internal pull-up resistors are typically 7      GPIO Interrupt Enable Ports
k.                                                                      During a reset, GPIO interrupts are disabled by clearing all of the
Note Special care should be exercised with any unused GPIO               GPIO interrupt enable ports. Writing a “1” to a GPIO Interrupt
data bits. An unused GPIO data bit, either a pin on the chip or a        Enable bit enables GPIO interrupts from the corresponding input
port bit that is not bonded on a particular package, must not be         pin.
left floating when the device enters the suspend state. If a GPIO
data bit is left floating, the leakage current caused by the floating    GPIO Configuration Port
bit may violate the suspend current limitation specified by the          Every GPIO port can be programmed as inputs with internal
USB Specification. If a ‘1’ is written to the unused data bit and        pull-ups, open drain outputs, and traditional CMOS outputs. In
the port is configured with open drain outputs, the unused data          addition, the interrupt polarity for each port can be programmed.
bit will be in an indeterminate state. Therefore, if an unused port      With positive interrupt polarity, a rising edge (“0” to “1”) on an in-
bit is programmed in open-drain mode, it must be written with a          put pin causes an interrupt. With negative polarity, a falling edge
‘0.’ Notice that the CY7C63613C will always require that data bits       (“1” to “0”) on an input pin causes an interrupt. As shown in the
P1[7:4], P2[7:0], P3[3:0] and DAC[7:0] be written with a ‘0’.            table below, when a GPIO port is configured with CMOS outputs,
                                                                         interrupts from that port are disabled. The GPIO Configuration
                                                                         Port register provides two bits per port to program these fea-
                                                                         tures. The possible port configurations are as shown in Table 11.
Document Number: 38-08027 Rev. *H                                                                                              Page 13 of 37


                                                                                                                        CY7C63413C
                                                                                                                        CY7C63513C
                                                                                                                        CY7C63613C
Table 7. Port 0 Interrupt Enable
           Addr: 0x04                                    Port 0 Interrupt Enable
      P0[7]            P0[6]             P0[5]            P0[4]            P0[3]            P0[2]             P0[1]             P0[0]
        W                W                W                 W                W                 W                W                 W
Table 8. Port 1 Interrupt Enable
           Addr: 0x05                                    Port 1 Interrupt Enable
      P1[7]            P1[6]             P1[5]            P1[4]            P1[3]            P1[2]             P1[1]             P1[0]
        W                W                W                 W                W                 W                W                 W
Table 9. Port 2 Interrupt Enable
           Addr: 0x06                                    Port 2 Interrupt Enable
      P2[7]            P2[6]             P2[5]            P2[4]            P2[3]            P2[2]             P2[1]             P2[0]
        W                W                W                 W                W                 W                W                 W
Table 10. Port 3 Interrupt Enable
           Addr: 0x07                                    Port 3 Interrupt Enable
      P3[7]            P3[6]             P3[5]            P3[4]            P3[3]            P3[2]             P3[1]             P3[0]
        W                W                W                 W                W                 W                W                 W
Table 11. Possible Port Configurations
    Port Configuration bits                Pin Interrupt Bit                    Driver Mode                    Interrupt Polarity
                11                                  X                             Resistive                              –
                10                                  0                          CMOS Output                           disabled
                10                                  1                           Open Drain                           disabled
                01                                  X                           Open Drain                               –
                00                                  X                           Open Drain                          + (default)
In “Resistive” mode, a 7-k pull-up resistor is conditionally            direction. If a port’s associated Interrupt Mask bits are cleared,
enabled for all pins of a GPIO port. The resistor is enabled for         those port bits are strictly outputs. If the Interrupt Mask bits are
any pin that has been written as a “1.” The resistor is disabled on      set then those bits will be open drain inputs. As open drain inputs,
any pin that has been written as a “0.” An I/O pin will be driven        if their data output values are ‘1’ those port pins will be CMOS
high through a 7-k pull-up resistor when a “1” has been written         inputs (HIGH Z output).
to the pin. Or the output pin will be driven LOW, with the pull-up       In “Open Drain” mode the internal pull-up resistor and CMOS
disabled, when a “0” has been written to the pin. An I/O pin that        driver (HIGH) are both disabled. An I/O pin that has been written
has been written as a “1” can be used as an input pin with an            as a “1” can be used as either a high-impedance input or a
integrated 7-k pull-up resistor. Resistive mode selects a               three-state output. An I/O pin that has been written as a “0” will
negative (falling edge) interrupt polarity on all pins that have the     drive the output LOW. The interrupt polarity for an open drain
GPIO interrupt enabled.                                                  GPIO port can be selected as either positive (rising edge) or
In “CMOS” mode, all pins of the GPIO port are outputs that are           negative (falling edge).
actively driven. The current source and sink capacity are roughly        During reset, all of the bits in the GPIO Configuration Register
the same (symmetric output drive). A CMOS port is not a                  are written with “0.” This selects the default configuration: Open
possible source for interrupts.                                          Drain output, positive interrupt polarity for all GPIO ports.
A port configured in CMOS mode has interrupt generation
disabled, yet the interrupt mask bits serve to control port
Table 12. GPIO Configuration Register
           Addr: 0x08                                 GPIO Configuration Register
        7                6                 5                 4                3                2                1                 0
     Port 3           Port 3            Port 2            Port 2          Port 1            Port 1           Port 0             Port 0
   Config Bit 1     Config Bit 0     Config Bit 1      Config Bit 0    Config Bit 1      Config Bit 0      Config Bit 1     Config Bit 0
        W                W                W                 W                W                 W                W                 W
Document Number: 38-08027 Rev. *H                                                                                                Page 14 of 37


                                                                                                                                               CY7C63413C
                                                                                                                                               CY7C63513C
                                                                                                                                               CY7C63613C
DAC Port
                                                         Figure 5. Block Diagram of DAC Port
                                                                                                       VCC
                                                 Data                                                         Q1
                    Internal
                    Data Bus                     Out
                                                 Latch
                                                                                                              14 K
                                                DAC Write                                                                            DAC
                                                                                                                                     I/O Pin
                                                              Isink                 4 bits   Isink
                                                              Register                       DAC                               ESD
                                           Internal
                                           Buffer
                                                DAC Read
                                                                  Interrupt Logic
                               Interrupt
                               Enable
                                                                                               to Interrupt
                                                                                               Controller
                               Interrupt
                               Polarity
Table 13. DAC Port Data
          Addr: 0x30                                               DAC Port Data
                                         Low current outputs                                                                           High current outputs
                                       0.2 mA to 1.0 mA typical                                                                      3.2 mA to 16 mA typical
    DAC[7]           DAC[6]                DAC[5]             DAC[4]                          DAC[3]                  DAC[2]         DAC[1]         DAC[0]
      R/W             R/W                   R/W                R/W                              R/W                    R/W             R/W            R/W
The DAC port provides the CY7C63513C with 8 programmable                                      a “1” to a bit in this register enables interrupts from the
current sink I/O pins. Writing a “1” to a DAC I/O pin disables the                            corresponding bit position. Writing a “0” to a bit in the DAC Port
output current sink (Isink DAC) and drives the I/O pin HIGH                                   Interrupt Enable register disables interrupts from the
through an integrated 14 Kohm resistor. When a “0” is written to                              corresponding bit position. All of the DAC Port Interrupt Enable
a DAC I/O pin, the Isink DAC is enabled and the pull-up resistor                              register bits are cleared to “0” during a reset.
is disabled. A “0” output will cause the Isink DAC to sink current                            As an additional benefit, the interrupt polarity for each DAC pin
to drive the output LOW. The amount of sink current for the DAC                               is programmable with the DAC Port Interrupt Polarity register.
I/O pin is programmable over 16 values based on the contents                                  Writing a “0” to a bit selects negative polarity (falling edge) that
of the DAC Isink Register for that output pin. DAC[1:0] are the                               will cause an interrupt (if enabled) if a falling edge transition
two high current outputs that are programmable from a minimum                                 occurs on the corresponding input pin. Writing a “1” to a bit in this
of 3.2 mA to a maximum of 16 mA (typical). DAC[7:2] are low                                   register selects positive polarity (rising edge) that will cause an
current outputs that are programmable from a minimum of 0.2                                   interrupt (if enabled) if a rising edge transition occurs on the
mA to a maximum of 1.0 mA (typical).                                                          corresponding input pin. All of the DAC Port Interrupt Polarity
When a DAC I/O bit is written as a “1,” the I/O pin is either an                              register bits are cleared during a reset.
output pulled high through the 14 Kohm resistor or an input with
an internal 14 Kohm pull-up resistor. All DAC port data bits are                              DAC Isink Registers
set to “1” during reset.                                                                      Each DAC I/O pin has an associated DAC Isink register to
                                                                                              program the output sink current when the output is driven LOW.
DAC Port Interrupts                                                                           The first Isink register (0x38) controls the current for DAC[0], the
A DAC port interrupt can be enabled/disabled for each pin                                     second (0x39) for DAC[1], and so on until the Isink register at
individually. The DAC Port Interrupt Enable register provides this                            0x3F controls the current to DAC[7].
feature with an interrupt mask bit for each DAC I/O pin. Writing
Document Number: 38-08027 Rev. *H                                                                                                                     Page 15 of 37


                                                                                              CY7C63413C
                                                                                              CY7C63513C
                                                                                              CY7C63613C
Table 14. DAC Port Interrupt Enable
         Addr: 0x31                     DAC Port Interrupt Enable
    DAC[7]         DAC[6]        DAC[5]   DAC[4]         DAC[3]     DAC[2]           DAC[1]      DAC[0]
      W              W              W       W               W          W                W           W
Table 15. DAC Port Interrupt Polarity
         Addr: 0x32                     DAC Port Interrupt Polarity
    DAC[7]         DAC[6]        DAC[5]   DAC[4]         DAC[3]     DAC[2]           DAC[1]      DAC[0]
      W              W              W       W               W          W                W           W
Table 16. DAC Port Isink
       Addr: 0x38-0x3F                  DAC Port Interrupt Polarity
                         Reserved                                          Isink Value
                                                         Isink[3]   Isink[2]         Isink[1]    Isink[0]
                                                            W          W                W           W
Document Number: 38-08027 Rev. *H                                                                  Page 16 of 37


                                                                                                                  CY7C63413C
                                                                                                                  CY7C63513C
                                                                                                                  CY7C63613C
USB Serial Interface Engine (SIE)                                    6. The host sends a request for the Device descriptor using the
                                                                        new USB address.
The SIE allows the microcontroller to communicate with the USB       7. The USB Controller decodes the request and retrieves the
host. The SIE simplifies the interface between the                      Device descriptor from the program memory.
microcontroller and USB by incorporating hardware that handles
                                                                     8. The host performs a control read sequence and the USB
the following USB bus activity independently of the                     Controller responds by sending its Device descriptor over the
microcontroller:                                                        USB bus.
■ Bit stuffing/unstuffing                                            9. The host generates control reads to the USB Controller to
                                                                        request the Configuration and Report descriptors.
■ Checksum generation/checking
                                                                     10.The USB Controller retrieves the descriptors from its program
■ ACK/NAK                                                               space and returns the data to the host over the USB.
■ Token type identification
                                                                    PS/2 Operation
■ Address checking                                                  PS/2 operation is possible with the CY7C63413C/513C/613C
Firmware is required to handle the rest of the USB interface with   series through the use of firmware and several operating modes.
the following tasks:                                                The first enabling feature:
■ Coordinate enumeration by responding to set-up packets             1. USB Bus reset on D+ and D is an interrupt that can be dis-
                                                                        abled;
■ Fill and empty the FIFOs                                           2. USB traffic can be disabled via bit 7 of the USB register;
■ Suspend/Resume coordination                                        3. D+ and D can be monitored and driven via firmware as
                                                                        independent port bits.
■ Verify and select Data toggle values
                                                                    Bits 5 and 4 of the Upstream Status and Control register are
USB Enumeration                                                     directly connected to the D+ and D USB pins of the
                                                                    CY7C63413C/513C/613C. These pins constantly monitor the
The enumeration sequence is shown below:
                                                                    levels of these signals with CMOS input thresholds. Firmware
 1. The host computer sends a Setup packet followed by a Data       can poll and decode these signals as PS/2 clock and data.
    packet to USB address 0 requesting the Device descriptor.
                                                                    Bits [2:0] defaults to ‘000’ at reset which allows the USB SIE to
 2. The USB Controller decodes the request and retrieves its        control output on D+ and D. Firmware can override the SIE and
    Device descriptor from the program memory space.                directly control the state of these pins via these 3 control bits.
 3. The host computer performs a control read sequence and the      Since PS/2 is an open drain signaling protocol, these modes
    USB Controller responds by sending the Device descriptor        allow all 4 PS/2 states to be generated on the D+ and D pins
    over the USB bus.
 4. After receiving the descriptor, the host computer sends a       USB Port Status and Control
    Setup packet followed by a Data packet to address 0             USB status and control is regulated by the USB Status and
    assigning a new USB address to the device.                      Control Register located at I/O address 0x1F as shown in
 5. The USB Controller stores the new address in its USB Device     Figure 17. This is a read/write register. All reserved bits must be
    Address Register after the no-data control sequence is          written to zero. All bits in the register are cleared during reset.
    complete.
Table 17. USB Status and Control Register
            Addr:0x1F                           USB Status and Control Register
         7                6               5              4              3                2                 1               0
    Reserved         Reserved            D+             D–        Bus Activity        Control           Control         Control
                                                                                       Bit 2             Bit 1            Bit 0
                                          R              R            R/W              R/W               R/W              R/W
Document Number: 38-08027 Rev. *H                                                                                         Page 17 of 37


                                                                                                                    CY7C63413C
                                                                                                                    CY7C63513C
                                                                                                                    CY7C63613C
The Bus Activity bit is a “sticky” bit that indicates if any non-idle  cleared during a reset, setting the USB device address to zero
USB event has occurred on the USB bus. The user firmware               and marking this address as disabled. Figure 18 shows the
should check and clear this bit periodically to detect any loss of     format of the USB Address Register.
bus activity. Writing a “0” to the Bus Activity bit clears it while    Bit 7 (Device Address Enable) in the USB Device Address
writing a “1” preserves the current value. In other words, the         Register must be set by firmware before the serial interface
firmware can clear the Bus Activity bit, but only the SIE can set      engine (SIE) will respond to USB traffic to this address. The
it. The 1.024-ms timer interrupt service routine is normally used      Device Address in bits [6:0] must be set by firmware during the
to check and clear the Bus Activity bit. The following table shows     USB enumeration process to an address assigned by the USB
how the control bits are encoded for this register.                    host that does not equal zero. This register is cleared by a
                                                                       hardware reset or the USB bus reset.
    Control                      Control Action
      Bits                                                             Device Endpoints (3)
   000         Not forcing (SIE controls driver)                       The USB controller communicates with the host using dedicated
   001         Force K (D+ HIGH, D– LOW)                               FIFOs, one per endpoint. Each endpoint FIFO is implemented as
                                                                       8 bytes of dedicated SRAM. There are three endpoints defined
   010         Force J (D+ LOW, D– HIGH)                               for Device “A” that are labeled “EPA0,” “EPA1,” and EPA2.”
   011         Force SE0 (D+ LOW, D– LOW)                              All USB devices are required to have an endpoint number 0
                                                                       (EPA0) that is used to initialize and control the USB device. End
   100         Force SE0 (D LOW, D+ LOW)
                                                                       Point 0 provides access to the device configuration information
   101         Force D LOW, D+ HiZ                                    and allows generic USB status and control accesses. End Point
                                                                       0 is bidirectional as the USB controller can both receive and
   110         Force D HiZ, D+ LOW
                                                                       transmit data.
   111         Force D HiZ, D+ HiZ                                    The endpoint mode registers are cleared during reset. The EPA0
                                                                       endpoint mode register uses the format shown in Table 19.
USB Device                                                             Bits[7:5] in the endpoint 0 mode registers (EPA0) are “sticky”
                                                                       status bits that are set by the SIE to report the type of token that
USB Device Address A includes three endpoints: EPA0, EPA1,             was most recently received. The sticky bits must be cleared by
and EPA2. End Point 0 (EPA0) allows the USB host to recognize,         firmware as part of the USB processing.
set up, and control the device. In particular, EPA0 is used to
receive and transmit control (including set-up) packets.               The endpoint mode registers for EPA1 and EPA2 do not use bits
                                                                       [7:5] as shown in Table 20.
USB Ports
The USB Controller provides one USB device address with three
endpoints. The USB Device Address Register contents are
Table 18. USB Device Address Register
           Addr:0x10                                USB Device Address Register
      Device          Device             Device           Device      Device             Device           Device           Device
     Address          Address           Address           Address     Address           Address          Address          Address
      Enable            Bit 6             Bit 5            Bit 4         Bit 3            Bit 2            Bit 1            Bit 0
       R/W              R/W               R/W              R/W           R/W              R/W              R/W              R/W
Table 19. USB Device EPA0, Mode Register
           Addr:0x12                               USB Device EPA0, Mode Register
    Endpoint 0      Endpoint 0        Endpoint 0      Acknowledge       Mode             Mode             Mode              Mode
      Set-up             In               Out                            Bit 3            Bit 2            Bit 1            Bit 0
     Received        Received          Received
       R/W              R/W               R/W              R/W           R/W              R/W              R/W              R/W
Table 20. USB Device Endpoint Mode Register
        Addr: 0x14, 0x16                         USB Device Endpoint Mode Register
     Reserved        Reserved          Reserved       Acknowledge       Mode             Mode             Mode              Mode
                                                                         Bit 3            Bit 2            Bit 1            Bit 0
       R/W              R/W               R/W              R/W           R/W              R/W              R/W              R/W
Document Number: 38-08027 Rev. *H                                                                                            Page 18 of 37


                                                                                                                    CY7C63413C
                                                                                                                    CY7C63513C
                                                                                                                    CY7C63613C
The ‘Acknowledge’ bit is set whenever the SIE engages in a             While the ‘set-up’ bit is set, the CPU cannot write to the DMA
transaction that completes with an ‘ACK’ packet.                       buffers at memory locations 0xE0 through 0xE7 and 0xF8
The ‘set-up’ PID status (bit[7]) is forced HIGH from the start of      through 0xFF. This prevents an incoming set-up transaction from
the data packet phase of the set-up transaction, until the start of    conflicting with a previous In data buffer filling operation by
the ACK packet returned by the SIE. The CPU is prevented from          firmware.
clearing this bit during this interval, and subsequently until the     The mode bits (bits [3:0]) in an Endpoint Mode Register control
CPU first does an IORD to this endpoint 0 mode register.               how the endpoint responds to USB bus traffic. The mode bit
Bits[6:0] of the endpoint 0 mode register are locked from CPU          encoding is shown in Section .
IOWR operations only if the SIE has updated one of these bits,         The format of the endpoint Device counter registers is shown in
which the SIE does only at the end of a packet transaction             Table 21.
(set-up... Data... ACK, or Out... Data... ACK, or In... Data... ACK).
The CPU can unlock these bits by doing a subsequent I/O read           Bits 0 to 3 indicate the number of data bytes to be transmitted
of this register.                                                      during an IN packet, valid values are 0 to 8 inclusive. Data Valid
Firmware must do an IORD after an IOWR to an endpoint 0                bit 6 is used for OUT and set-up tokens only. Data 0/1 Toggle bit
register to verify that the contents have changed and that the SIE     7 selects the DATA packet’s toggle state: 0 for DATA0, 1 for
has not updated these values.                                          DATA1.
Table 21. USB Device Counter Registers
     Addr: 0x11, 0x13, 0x15                        USB Device Counter Registers
    Data 0/1          Data Valid       Reserved         Reserved      Byte count       Byte count       Byte count       Byte count
     Toggle                                                              Bit 3            Bit 2            Bit 1            Bit 0
       R/W               R/W              R/W              R/W           R/W              R/W              R/W              R/W
Document Number: 38-08027 Rev. *H                                                                                            Page 19 of 37


                                                                                                                      CY7C63413C
                                                                                                                      CY7C63513C
                                                                                                                      CY7C63613C
12-bit Free-running Timer                                               into a temporary register. When the firmware reads the upper 4
                                                                        bits of the timer, it is actually reading the count stored in the
The 12-bit timer provides two interrupts (128 s and 1.024 ms)          temporary register. The effect of this logic is to ensure a stable
and allows the firmware to directly time events that are up to 4 ms     12-bit timer value can be read, even when the two reads are
in duration. The lower 8 bits of the timer can be read directly by      separated in time.
the firmware. Reading the lower 8 bits latches the upper 4 bits
Timer (LSB)
Table 22. Timer Register
            Addr: 0x24                                  Timer Register (LSB)
      Timer           Timer             Timer            Timer           Timer             Timer              Timer          Timer
       Bit 7           Bit 6             Bit 5           Bit 4            Bit 3             Bit 2             Bit 1           Bit 0
        R               R                 R                R               R                  R                 R              R
Timer (MSB)
Table 23. Timer Register
            Addr: 0x25                                  Timer Register (MSB)
    Reserved        Reserved          Reserved        Reserved           Timer             Timer              Timer          Timer
                                                                         Bit 11            Bit 10             Bit 9           Bit 8
                                                                           R                  R                 R              R
                                                     Figure 6. Timer Block Diagram
                                                                                                           1.024-ms interrupt
                                                                                                           128-s interrupt
                  11    10     9       8      7    6       5     4     3       2      1      0             1-MHz clock
                  L3    L2     L1      L0
                     D3    D2     D1     D0     D7    D6     D5     D4    D3     D2     D1       D0
                                                                                                           To Timer Register
                                                                                            8
Document Number: 38-08027 Rev. *H                                                                                             Page 20 of 37


                                                                                                                        CY7C63413C
                                                                                                                        CY7C63513C
                                                                                                                        CY7C63613C
Processor Status and Control Register
Table 24. Processor Status and Control Register
            Addr: 0xFF                          Processor Status and Control Register                         POR Default: 0x0101
                                                                                                                WDC Reset: 0x41
         7                6                5                 4               3                  2                1                0
       IRQ           Watch Dog         USB Bus           Power-on     Suspend, Wait        Interrupt       Single Step           Run
     Pending            Reset            Reset            Reset        for Interrupt         Mask
        R               R/W               R/W              R/W              R/W                 R              R/W              R/W
The “Run” (bit 0) is manipulated by the HALT instruction. When           The “IRQ Pending” (bit 7) indicates one or more of the interrupts
Halt is executed, the processor clears the run bit and halts at the      has been recognized as active. The interrupt acknowledge
end of the current instruction. The processor remains halted until       sequence should clear this bit until the next interrupt is detected.
a reset (Power On or Watch Dog). Notice, when writing to the             During Power-on Reset, the Processor Status and Control
processor status and control register, the run bit should always         Register is set to 00010001, which indicates a Power-on Reset
be written as a “1.”                                                     (bit 4 set) has occurred and no interrupts are pending (bit 7 clear)
The “Single Step” (bit 1) is provided to support a hardware              yet.
debugger. When single step is set, the processor will execute            During a Watch Dog Reset, the Processor Status and Control
one instruction and halt (clear the run bit). This bit must be           Register is set to 01000001, which indicates a Watch Dog Reset
cleared for normal operation.                                            (bit 6 set) has occurred and no interrupts are pending (bit 7 clear)
The “Interrupt Mask” (bit 2) shows whether interrupts are                yet.
enabled or disabled. The firmware has no direct control over this
bit as writing a zero or one to this bit position will have no effect    Interrupts
on interrupts. Instructions DI, EI, and RETI manipulate the
internal hardware that controls the state of the interrupt mask bit      All interrupts are maskable by the Global Interrupt Enable
in the Processor Status and Control Register.                            Register and the USB End Point Interrupt Enable Register.
                                                                         Writing a “1” to a bit position enables the interrupt associated with
Writing a “1” to “Suspend, Wait for Interrupts” (bit 3) will halt the
                                                                         that bit position. During a reset, the contents the Global Interrupt
processor and cause the microcontroller to enter the “suspend”
                                                                         Enable Register and USB End Point Interrupt Enable Register
mode that significantly reduces power consumption. A pending
                                                                         are cleared, effectively disabling all interrupts.
interrupt or bus activity will cause the device to come out of
suspend. After coming out of suspend, the device will resume             Pending interrupt requests are recognized during the last clock
firmware execution at the instruction following the IOWR which           cycle of the current instruction. When servicing an interrupt, the
put the part into suspend. An IOWR that attempts to put the part         hardware will first disable all interrupts by clearing the Interrupt
into suspend will be ignored if either bus activity or an interrupt      Enable bit in the Processor Status and Control Register. Next,
is pending.                                                              the interrupt latch of the current interrupt is cleared. This is
                                                                         followed by a CALL instruction to the ROM address associated
The “Power-on Reset” (bit 4) is only set to “1” during a power on
                                                                         with the interrupt being serviced (i.e., the Interrupt Vector). The
reset. The firmware can check bits 4 and 6 in the reset handler
                                                                         instruction in the interrupt table is typically a JMP instruction to
to determine whether a reset was caused by a Power On
                                                                         the address of the Interrupt Service Routine (ISR). The user can
condition or a Watch Dog Timeout. PORS is used to determine
                                                                         re-enable interrupts in the interrupt service routine by executing
suspend start-up timer value of 128 s or 96 ms.
                                                                         an EI instruction. Interrupts can be nested to a level limited only
The “USB Bus Reset” (bit 5) will occur when a USB bus reset is           by the available stack space.
received. The USB Bus Reset is a singled-ended zero (SE0) that
                                                                         The Program Counter value as well as the Carry and Zero flags
lasts more than 8 microseconds. An SE0 is defined as the
                                                                         (CF, ZF) are automatically stored onto the Program Stack by the
condition in which both the D+ line and the D– line are LOW at
                                                                         CALL instruction as part of the interrupt acknowledge process.
the same time. When the SIE detects this condition, the USB Bus
                                                                         The user firmware is responsible for insuring that the processor
Reset bit is set in the Processor Status and Control register and
                                                                         state is preserved and restored during an interrupt. The PUSH A
an USB Bus Reset interrupt is generated. Please note this is an
                                                                         instruction should be used as the first command in the ISR to
interrupt to the microcontroller and does not actually reset the
                                                                         save the accumulator value and the POP A instruction should be
processor.
                                                                         used just before the RETI instruction to restore the accumulator
The “Watch Dog Reset” (bit 6) is set during a reset initiated by         value. The program counter CF and ZF are restored and
the Watch Dog Timer. This indicates the Watch Dog Timer went             interrupts are enabled when the RETI instruction is executed.
for more than 8 ms between watch dog clears.
Document Number: 38-08027 Rev. *H                                                                                               Page 21 of 37


                                                                                                                  CY7C63413C
                                                                                                                  CY7C63513C
                                                                                                                  CY7C63613C
Table 25. USB End Point Interrupt Enable Register
           Addr: 0x21                        USB End Point Interrupt Enable Register
        7                6                5                4            3                 2                1                0
    Reserved        Reserved          Reserved        Reserved      Reserved            EPA2             EPA1             EPA0
                                                                                      Interrupt        Interrupt        Interrupt
                                                                                       Enable           Enable           Enable
                                                                                        R/W               R/W             R/W
Interrupt Vectors
The Interrupt Vectors supported by the USB Controller are listed in Table 26. Although Reset is not an interrupt, per se, the first
instruction executed after a reset is at PROM address 0x0000—which corresponds to the first entry in the Interrupt Vector Table.
Because the JMP instruction is 2 bytes long, the interrupt vectors occupy 2 bytes.
Table 26. Interrupt Vector Assignments
         Interrupt Vector Number                         ROM Address                                  Function
               not applicable                                0x0000               Execution after Reset begins here
                      1                                      0x0002               USB Bus Reset interrupt
                      2                                      0x0004               128-s timer interrupt
                      3                                      0x0006               1.024-ms timer interrupt
                      4                                      0x0008               USB Address A Endpoint 0 interrupt
                      5                                      0x000A               USB Address A Endpoint 1 interrupt
                      6                                      0x000C               USB Address A Endpoint 2 interrupt
                      7                                      0x000E               Reserved
                      8                                      0x0010               Reserved
                      9                                      0x0012               Reserved
                     10                                      0x0014               DAC interrupt
                     11                                      0x0016               GPIO interrupt
                     12                                      0x0018               Reserved
Interrupt Latency                                                    Timer Interrupt
Interrupt latency can be calculated from the following equation:     There are two timer interrupts: the 128-s interrupt and the
                                                                     1.024-ms interrupt. The user should disable both timer interrupts
Interrupt Latency =(Number of clock cycles remaining in the
                                                                     before going into the suspend mode to avoid possible conflicts
                    current instruction)
                                                                     between servicing the interrupts first or the suspend request first.
                    + (10 clock cycles for the CALL instruction)
                    + (5 clock cycles for the JMP instruction)       USB Endpoint Interrupts
For example, if a 5 clock cycle instruction such as JC is being      There are three USB endpoint interrupts, one per endpoint. The
executed when an interrupt occurs, the first instruction of the      USB endpoints interrupt after the either the USB host or the USB
Interrupt Service Routine will execute a min. of 16 clocks           controller sends a packet to the USB.
(1+10+5) or a max. of 20 clocks (5+10+5) after the interrupt is
issued. Remember that the interrupt latches are sampled at the       DAC Interrupt
rising edge of the last clock cycle in the current instruction.
                                                                     Each DAC I/O pin can generate an interrupt, if enabled.The
USB Bus Reset Interrupt                                              interrupt polarity for each DAC I/O pin is programmable. A
                                                                     positive polarity is a rising edge input while a negative polarity is
The USB Bus Reset interrupt is asserted when a USB bus reset         a falling edge input. All of the DAC pins share a single interrupt
condition is detected. A USB bus reset is indicated by a single      vector, which means the firmware will need to read the DAC port
ended zero (SE0) on the upstream port for more than 8                to determine which pin or pins caused an interrupt.
microseconds.
                                                                     Please note that if one DAC pin triggered an interrupt, no other
                                                                     DAC pins can cause a DAC interrupt until that pin has returned
                                                                     to its inactive (non-trigger) state or the corresponding interrupt
                                                                     enable bit is cleared. The USB Controller does not assign
Document Number: 38-08027 Rev. *H                                                                                          Page 22 of 37


                                                                                                                   CY7C63413C
                                                                                                                   CY7C63513C
                                                                                                                   CY7C63613C
interrupt priority to different DAC pins and the DAC Interrupt       read the GPIO ports with enabled interrupts to determine which
Enable Register is not cleared during the interrupt acknowledge      pin or pins caused an interrupt.
process.                                                             Please note that if one port pin triggered an interrupt, no other
GPIO Interrupt                                                       port pins can cause a GPIO interrupt until that port pin has
                                                                     returned to its inactive (non-trigger) state or its corresponding
Each of the 32 GPIO pins can generate an interrupt, if enabled.      port interrupt enable bit is cleared. The USB Controller does not
The interrupt polarity can be programmed for each GPIO port as       assign interrupt priority to different port pins and the Port
part of the GPIO configuration. All of the GPIO pins share a         Interrupt Enable Registers are not cleared during the interrupt
single interrupt vector, which means the firmware will need to       acknowledge process.
Truth Tables
Table 27. USB Register Mode Encoding
 Mode                     Encoding     Setup        In       Out   Comments
 Disable                    0000       ignore    ignore    ignore  Ignore all USB traffic to this endpoint
 Nak In/Out                            accept     NAK        NAK   Forced from Set-up on Control endpoint, from modes other
                            0001
                                                                   than 0000
 Status Out Only            0010       accept      stall   check   For Control endpoints
 Stall In/Out                0011      accept      stall     stall For Control endpoints
 Ignore In/Out              0100       accept    ignore    ignore  For Control endpoints
 Isochronous Out                       ignore    ignore    always  Available to low speed devices, future USB spec
                            0101
                                                                   enhancements
 Status In Only              0110      accept     TX 0       stall For Control Endpoints
 Isochronous In                        ignore    TX cnt    ignore  Available to low speed devices, future USB spec
                             0111
                                                                   enhancements
 Nak Out                    1000       ignore    ignore      NAK   An ACK from mode 1001 --> 1000
 Ack Out                    1001       ignore    ignore      ACK   This mode is changed by SIE on issuance of ACK --> 1000
 Nak Out - Status In        1010       accept     TX 0       NAK   An ACK from mode 1011 --> 1010
 Ack Out - Status In         1011      accept     TX 0       ACK   This mode is changed by SIE on issuance of ACK --> 1010
 Nak In                      1100      ignore     NAK      ignore  An ACK from mode 1101 --> 1100
 Ack In                      1101      ignore    TX cnt    ignore  This mode is changed by SIE on issuance of ACK --> 1100
 Nak In - Status Out         1110      accept     NAK       check  An ACK from mode 1111 --> 1110 NAck In - Status Out
 Ack In - Status Out         1111      accept    TX cnt    Check   This mode is changed by SIE on issuance of ACK -->1110
The ‘In’ column represents the SIE’s response to the token type.     A Control endpoint has three extra status bits for PID (Setup, In
A disabled endpoint will remain such until firmware changes it,      and Out), but must be placed in the correct mode to function as
and all endpoints reset to disabled.                                 such. Also a non-Control endpoint can be made to act as a
                                                                     Control endpoint if it is placed in a non appropriate mode.
Any Setup packet to an enabled and accepting endpoint will be
changed by the SIE to 0001 (NAKing). Any mode which indicates        A ‘check’ on an Out token during a Status transaction checks to
the acceptance of a Setup will acknowledge it.                       see that the Out is of zero length and has a Data Toggle (DTOG)
                                                                     of 1.
Most modes that control transactions involving an ending ACK
will be changed by the SIE to a corresponding mode which NAKs
follow on packets.
Document Number: 38-08027 Rev. *H                                                                                          Page 23 of 37


                                                                                                                                   CY7C63413C
                                                                                                                                   CY7C63513C
                                                                                                                                   CY7C63613C
                   Figure 7. Decode table forTable 28: “Details of Modes for Differing Traffic Conditions”
                      Properties of incoming packet
  Encoding                                                         Status bits                             What the SIE does to Mode bits
                                                                                          PID Status bits                               Interrupt?
  End Point                                                                                                                End Point
  Mode                                                                                                                     Mode
  3                                                                                       Set-                                          Re-        In
       2  1   0   Token   count      buffer     dval      DTOG       DVAL       COUNT     up       In      Out     ACK     3   2  1  0  sponse     t
                  Setup
                  In
                  Out
                                              The validity of the received data
                                     The quality status of the DMA buffer
                          The number of received bytes                                                            Acknowledge phase completed
  Legend:                 UC: unchanged                   TX: transmit                   TX0: transmit 0-length packet
                          x: don’t care                   RX: receive
                          available for Control endpoint only
The response of the SIE can be summarized as follows:                             The Setup PID status is updated at the beginning of the Data
1. the SIE will only respond to valid transactions, and will ignore               packet phase.
    non-valid ones;                                                               The entire EndPoint 0 mode and the Count register are locked
2. the SIE will generate IRQ when a valid transaction is                          to CPU writes at the end of any transaction in which an ACK is
    completed or when the DMA buffer is corrupted                                 transferred. These registers are only unlocked upon a CPU read
                                                                                  of these registers, and only if that read happens after the
3. an incoming Data packet is valid if the count is <= 10 (CRC
                                                                                  transaction completes. This represents about a 1-s window to
    inclusive) and passes all error checking;
                                                                                  which to the CPU is locked from register writes to these USB
4. a Setup will be ignored by all non-Control endpoints (in appro-                registers. Normally the firmware does a register read at the
    priate modes);                                                                beginning of the ISR to unlock and get the mode register
5. an In will be ignored by an Out configured endpoint and vice                   information. The interlock on the Mode and Count registers
    versa.                                                                        ensures that the firmware recognizes the changes that the SIE
                                                                                  might have made during the previous transaction.
The In and Out PID status is updated at the end of a transaction.
Document Number: 38-08027 Rev. *H                                                                                                           Page 24 of 37


                                                                                                   CY7C63413C
                                                                                                   CY7C63513C
                                                                                                   CY7C63613C
Table 28. Details of Modes for Differing Traffic Conditions
 End Point Mode                                                        PID              Set End Point Mode
 3    2   1   0   token   count buffer dval    DTOG    DVAL    COUNT   Setup In Out ACK 3   2   1  0   response   int
 Setup Packet (if accepting)
 See Table 27     Setup  <= 10   data   valid  updates    1    updates   1   UC UC   1  0   0  0   1     ACK     yes
 See Table 27     Setup   > 10   junk     x    updates updates updates   1   UC UC  UC    NoChange      ignore   yes
 See Table 27     Setup     x    junk  invalid updates    0    updates   1   UC UC  UC    NoChange      ignore   yes
 Disabled
 0   0    0   0      x      x     UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 Nak In/Out
 0   0    0   1    Out      x     UC      x      UC      UC      UC     UC   UC  1  UC    NoChange       NAK     yes
 0   0    0   1     In      x     UC      x      UC      UC      UC     UC    1 UC  UC    NoChange       NAK     yes
 Ignore In/Out
 0   1    0   0    Out      x     UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 0   1    0   0     In      x     UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 Stall In/Out
 0   0    1   1    Out      x     UC      x      UC      UC      UC     UC   UC  1  UC    NoChange       Stall   yes
 0   0    1   1     In      x     UC      x      UC      UC      UC     UC    1 UC  UC    NoChange       Stall   yes
 Control Write
 Normal Out/premature status In
 1   0    1   1    Out   <= 10   data   valid  updates    1    updates  UC   UC  1   1  1   0  1   0     ACK     yes
 1   0    1   1    Out    > 10   junk     x    updates updates updates  UC   UC  1  UC    NoChange      ignore   yes
 1   0    1   1    Out      x    junk  invalid updates    0    updates  UC   UC  1  UC    NoChange      ignore   yes
 1   0    1   1     In      x     UC      x      UC      UC      UC     UC    1 UC   1    NoChange       TX 0    yes
 NAK Out/premature status In
 1   0    1   0    Out   <= 10    UC    valid    UC      UC      UC     UC   UC  1  UC    NoChange       NAK     yes
 1   0    1   0    Out    > 10    UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   0    1   0    Out      x     UC   invalid   UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   0    1   0     In      x     UC      x      UC      UC      UC     UC    1 UC   1    NoChange       TX 0    yes
 Status In/extra Out
 0   1    1   0    Out   <= 10    UC    valid    UC      UC      UC     UC   UC  1  UC  0   0  1   1     Stall   yes
 0   1    1   0    Out    > 10    UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 0   1    1   0    Out      x     UC   invalid   UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 0   1    1   0     In      x     UC      x      UC      UC      UC     UC    1 UC   1    NoChange       TX 0    yes
 Control Read
 Normal In/premature status Out
 1   1    1   1    Out      2     UC    valid     1       1    updates  UC   UC  1   1    NoChange       ACK     yes
 1   1    1   1    Out      2     UC    valid     0       1    updates  UC   UC  1  UC  0   0  1   1     Stall   yes
 1   1    1   1    Out     !=2    UC    valid  updates    1    updates  UC   UC  1  UC  0   0  1   1     Stall   yes
 1   1    1   1    Out    > 10    UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   1    1   1    Out      x     UC   invalid   UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   1    1   1     In      x     UC      x      UC      UC      UC     UC    1 UC   1  1   1  1   0  ACK (back) yes
 Nak In/premature status Out
 1   1    1   0    Out      2     UC    valid     1       1    updates  UC   UC  1   1    NoChange       ACK     yes
 1   1    1   0    Out      2     UC    valid     0       1    updates  UC   UC  1  UC  0   0  1   1     Stall   yes
 1   1    1   0    Out     !=2    UC    valid  updates    1    updates  UC   UC  1  UC  0   0  1   1     Stall   yes
 1   1    1   0    Out    > 10    UC      x      UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   1    1   0    Out      x     UC   invalid   UC      UC      UC     UC   UC UC  UC    NoChange      ignore   no
 1   1    1   0     In      x     UC      x      UC      UC      UC     UC    1 UC  UC    NoChange       NAK     yes
 Status Out/extra In
 0   0    1   0    Out      2     UC    valid     1       1    updates  UC   UC  1   1    NoChange       ACK     yes
Document Number: 38-08027 Rev. *H                                                                          Page 25 of 37


                                                                                                       CY7C63413C
                                                                                                       CY7C63513C
                                                                                                       CY7C63613C
Table 28. Details of Modes for Differing Traffic Conditions (continued)
 0   0  1   0     Out        2      UC     valid     0       1    updates  UC   UC  1  UC   0   0  1   1    Stall   yes
 End Point Mode                                                           PID              Set End Point Mode
 3   2   1   0   token     count buffer  dval     DTOG    DVAL    COUNT   Setup In Out ACK 3    2   1  0  response   int
 0   0  1   0     Out       !=2     UC     valid  updates    1    updates  UC   UC  1  UC   0   0  1   1    Stall   yes
 0   0  1   0     Out      > 10     UC       x      UC      UC      UC     UC   UC UC  UC  UC UC UC UC     ignore   no
 0   0  1   0     Out        x      UC    invalid   UC      UC      UC     UC   UC UC  UC  UC UC UC UC     ignore   no
 0   0  1   0      In        x      UC       x      UC      UC      UC     UC    1 UC  UC   0   0  1   1    Stall   yes
 Out endpoint
 Normal Out/erroneous In
 1   0  0   1     Out     <= 10   data     valid  updates    1    updates  UC   UC  1   1   1   0  0   0    ACK     yes
 1   0  0   1     Out      > 10    junk      x    updates updates updates  UC   UC  1  UC     NoChange     ignore   yes
 1   0  0   1     Out        x     junk   invalid updates    0    updates  UC   UC  1  UC     NoChange     ignore   yes
 1   0  0   1      In        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 NAK Out/erroneous In
 1   0  0   0     Out     <= 10     UC     valid    UC      UC      UC     UC   UC  1  UC     NoChange      NAK     yes
 1   0  0   0     Out      > 10     UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 1   0  0   0     Out        x      UC    invalid   UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 1   0  0   0      In        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 Isochronous endpoint (Out)
 0   1  0   1     Out        x   updates updates  updates updates updates  UC   UC  1   1     NoChange       RX     yes
 0   1  0   1      In        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 In endpoint
 Normal In/erroneous Out
 1   1  0   1     Out        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 1   1  0   1      In        x      UC       x      UC      UC      UC     UC    1 UC   1   1   1  0   0 ACK (back) yes
 NAK In/erroneous Out
 1   1  0   0     Out        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 1   1  0   0      In        x      UC       x      UC      UC      UC     UC    1 UC  UC     NoChange      NAK     yes
 Isochronous endpoint (In)
 0   1  1   1     Out        x      UC       x      UC      UC      UC     UC   UC UC  UC     NoChange     ignore   no
 0   1  1   1      In        x      UC       x      UC      UC      UC     UC    1 UC  UC     NoChange       TX     yes
Document Number: 38-08027 Rev. *H                                                                             Page 26 of 37


                                                                                                                                      CY7C63413C
                                                                                                                                      CY7C63513C
                                                                                                                                      CY7C63613C
Absolute Maximum Ratings
Storage temperature .................................–65 °C to +150 °C
Ambient temperature with power applied ..... –0 °C to +70 °C
Supply voltage on VCC relative to VSS ..........–0.5 V to +7.0 V
DC input voltage ................................. –0.5 V to +VCC+0.5 V
DC voltage applied to outputs in High Z state –0.5 V to + VCC+0.5 V
Maximum output current into Port 0,1,2,3 and DAC[1:0] Pins60 mA
Maximum output current into DAC[7:2] Pins .............. 10 mA
Power dissipation ..................................................... 300 mW
Static discharge voltage ........................................> 2000V[3]
Latch-up current ................................................... > 200 mA
DC Characteristics Fosc = 6 MHz; operating temperature = 0 to 70 °C
                                         Parameter                                   Min       Max          Unit                  Conditions
  General
VCC (1)           Operating voltage                                                  4.0        5.5           V    Non USB activity[4]
VCC (2)           Operating voltage                                                 4.35       5.25           V    USB activity[5]
ICC1              VCC operating supply current                                        –         40           mA    VCC = 5.5 V
ICC2              VCC = 4.35 V                                                        –         15           mA    –
ISB1              Supply current - suspend mode                                       –         30           A    Oscillator off, D– > Voh min
VPP               Programming voltage (disabled)                                    –0.4        0.4           V    –
Tstart            Resonator start-up interval                                         –        256           s    VCC = 5.0 V, ceramic resonator
tint1             Internal timer #1 interrupt period                                 128       128           s    –
tint2             Internal timer #2 interrupt period                               1.024      1.024          ms    –
twatch            Watch dog timer period                                           8.192      14.33          ms    –
Iil               Input leakage current                                               –          1           A    Any pin
Ism               Max ISS I/O sink current                                            –         60           mA    Cumulative across all ports[6]
  Power-On Reset
tvccs             VCC reset slew                                                   0.001       200           ms    Linear ramp: 0 to 4.35 V[7, 8]
  USB Interface
Voh               Static output HIGH                                                 2.8        3.6           V    15 k ± 5%  to Gnd [5]
Vol               Static output LOW                                                   –         0.3           V    –
Vdi               Differential input sensitivity                                     0.2                      V    |(D+)–(D–)|
Vcm               Differential input common mode range                               0.8        2.5           V    9-1
Vse               Single-ended receiver threshold                                    0.8        2.0           V    –
Cin               Transceiver capacitance                                             –         20           pF    –
Ilo               Hi-Z state data line leakage                                       –10        10           A    0 V < Vin<3.3 V
Rpu               Bus pull-up resistance (VCC option)                              7.35K       7.65          k    7.5 k ± 2% to VCC
Rpu               Bus pull-up resistance (Ext. 3.3 V option)                       1.425      1.575          k    1.5 k ± 5% to 3.0–3.6 V
Rpd               Bus pull-down resistance                                         14.25      15.75          k    15 k± 5%
  General Purpose I/O Interface
Rup               Pull-up resistance                                                4.9 K     9.1 K        Ohms    –
Vith              Input threshold voltage                                           45%        65%          VCC    All ports, LOW to HIGH edge
Notes
 3. Qualified with JEDEC EIA/JESD22-A114-B test method.
 4. Functionality is guaranteed of the VCC (1) range, except USB transmitter and DACs.
 5. USB transmitter functionality is guaranteed over the VCC (2) range, as well as DAC outputs.
 6. Total current cumulative across all Port pins flowing to VSS is limited to minimize Ground-Drop noise effects.
 7. Port 3 bit 7 controls whether the parts goes into suspend after a POR event or waits 128 ms to begin running.
 8. POR will re-occur whenever VCC drops to approximately 2.5 V.
Document Number: 38-08027 Rev. *H                                                                                                            Page 27 of 37


                                                                                                                                        CY7C63413C
                                                                                                                                        CY7C63513C
                                                                                                                                        CY7C63613C
DC Characteristics Fosc = 6 MHz; operating temperature = 0 to 70 °C (continued)
                                              Parameter                               Min        Max          Unit                 Conditions
VH                   Input hysteresis voltage                                          6%        12%          VCC   All ports, HIGH to LOW edge
Iol                  Sink current                                                      7.2       16.5         mA    Port 3, Vout = 1.0 V[9]
Iol                  Sink current                                                      3.5       10.6         mA    Port 0,1,2, Vout = 2.0 V [9]
Ioh                  Source current                                                    1.4        7.5         mA    Voh = 2.4 V (all ports 0,1,2,3)[9]
  DAC Interface
Rup                  Pull-up resistance                                              8.0 K     20.0 K       Ohms    Note16
Isink0(0)            DAC[7:2] sink current (0)[17]                                     0.1        0.3         mA    Vout = 2.0 VDC[10]
Isink0(F)            DAC[7:2] sink current (F)[17]                                     0.5        1.5         mA    Vout = 2.0 DC[10]
Isink1(0)            DAC[1:0] sink current (0)[17]                                     1.6        4.8         mA    Vout = 2.0 VDC[10]
Isink1(F)            DAC[1:0] sink current (F)[17]                                      8         24          mA    Vout = 2.0 VDC[10]
Irange               Programmed Isink ratio: max/min                                    4          6            –   Vout = 2.0 VDC[10,14]
Ilin                 Differential nonlinearity                                          –         0.5          lsb  Any pin[12]
tsink                Current sink response time                                         –         0.8          s   Full scale transition
Tratio               Tracking ratio DAC[1:0] to DAC[7:2]                               14         21            –   Vout = 2.0 V[13]
Switching Characteristics
  Parameter                                  Description                              Min        Max          Unit                 Conditions
   Clock
 tCYC                 Input Clock Cycle Time                                         165.0      168.3           ns  –
 tCH                  Clock HIGH Time                                                 0.45         –            ns  –
                                                                                      tCYC
 tCL                  Clock LOW Time                                                  0.45         –            ns  –
                                                                                      tCYC
   USB Driver Characteristics
 tr                   Transition Rise Time                                              75         –            ns  CLoad = 50 pF[10, 11]
 tr                   Transition Rise Time                                               –       300            ns  CLoad = 600 pF [10, 11]
 tf                   Transition Fall Time                                             75          –            ns  CLoad = 50 pF[10, 11]
 tf                   Transition Fall Time                                              –        300            ns  CLoad = 600 pF[10, 11]
 trfm                 Rise/Fall Time Matching                                           80       125            %   tr/tf[10, 11]
 Vcrs                 Output Signal Crossover Voltage                                  1.3        2.0           V   Notes 10 and 11
   USB Data Timing
 tdrate               Low Speed Data Rate                                           1.4775     1.5225         Mbs   Ave. Bit Rate (1.5 Mb/s ± 1.5%)
 tdjr1                Receiver Data Jitter Tolerance                                   –75        75            ns  To Next Transition[15]
 tdjr2                Receiver Data Jitter Tolerance                                   –45        45            ns  For Paired Transitions[15]
 tdeop                Differential to EOP Transition Skew                              –40       100            ns  Note 18
 teopr1               EOP Width at Receiver                                            330         –            ns  Rejects as EOP[15]
 teopr2               EOP Width at Receiver                                           675          –            ns  Accepts as EOP[15]
 teopt                Source EOP Width                                                1.25       1.50           s  –
 tudj1                Differential Driver Jitter                                       –95        95            ns  To next transition, Figure 12 on page 30.
 tudj2                Differential Driver Jitter                                     –150        150            ns  To paired transition, Figure 12 on page 30.
Notes
 9. Functionality is guaranteed of the VCC (1) range, except USB transmitter and DACs.
 10. USB transmitter functionality is guaranteed over the VCC (2) range, as well as DAC outputs.
 11. Per Table 7-7 of revision 1.1 of USB specification, for CLOAD of 50–600 pF.
 12. Measured as largest step size vs. nominal according to measured full scale and zero programmed values.
 13. Tratio = Isink1[1:0](n)/Isink0[7:2](n) for the same n, programmed.
 14. Irange: Isinkn(15)/ Isinkn(0) for the same pin.
 15. Measured at crossover point of differential data signals.
 16. Limits total bus capacitance loading (CLOAD) to 400 pF per section 7.1.5 of revision 1.1 of USB specification.
 17. DAC I/O Port not bonded out on CY7C63613C. See note on page 12 for firmware code needed for unused pins.
 18. Total current cumulative across all Port pins flowing to VSS is limited to minimize Ground-Drop noise effects.
Document Number: 38-08027 Rev. *H                                                                                                                Page 28 of 37


                                                                                        CY7C63413C
                                                                                        CY7C63513C
                                                                                        CY7C63613C
                                                Figure 8. Clock Timing
                                                            .
                                                              tCYC
                                                      tCH
                              CLOCK
                                                                       tCL
                                         Figure 9. USB Data Signal Timing
                                           tr                              tf
                             Voh  D
                                                90%                90%
                             Vcrs
                                     10%                                      10%
                             Vol
                                  D
                                        Figure 10. Receiver Jitter Tolerance
                      TPERIOD
                Differential
                Data Lines
                                          TJR                                 TJR1 TJR2
                                              Consecutive
                                              Transitions
                                          N * TPERIOD + TJR1
                                                                Paired
                                                              Transitions
                                                          N * TPERIOD + TJR2
Document Number: 38-08027 Rev. *H                                                          Page 29 of 37


                                                                                                           CY7C63413C
                                                                                                           CY7C63513C
                                                                                                           CY7C63613C
                           Figure 11. Differential to EOP Transition Skew and EOP Width
           TPERIOD                                               Crossover Point
                                   Crossover                        Extended
          Differential               Point
          Data Lines
                                     Diff. Data to
                                      SE0 Skew                                    Source EOP Width:   TEOPT
                                  N * TPERIOD + TDEOP
                                                                                  Receiver EOP Width: TEOPR1, TEOPR2
                                              Figure 12. Differential Data Jitter
                  TPERIOD
                                             Crossover
            Differential                       Points
            Data Lines
                                             Consecutive
                                              Transitions
                                           N * TPERIOD + TxJR1
                                                                 Paired
                                                               Transitions
                                                           N * TPERIOD + TxJR2
Document Number: 38-08027 Rev. *H                                                                                    Page 30 of 37


                                                                                                 CY7C63413C
                                                                                                 CY7C63513C
                                                                                                 CY7C63613C
Ordering Information
                            EPROM        Package                                                    Operating
     Ordering Code                                                        Package Type
                              Size         Name                                                      Range
 CY7C63413C-PVXC             8 KB          SP48          48-pin Shrunk Small Outline Package     Commercial
 CY7C63413C-PVXCT            8 KB          SP48          48-pin SSOP Pb-free Tape-reel           Commercial
 CY7C63513C-PVXC             8 KB          SP48          48-pin SSOP Pb-free                     Commercial
 CY7C63613C-SXC              8 KB         SZ24.3         24-pin (300 mil) SOIC Pb-free           Commercial
 CY7C63613C-SXCT             8 KB         SZ24.3         24-pin (300 mil) SOIC Pb-free Tape-reel Commercial
 CY7C63513C-PVXCT            8 KB          SP48          48-pin SSOP Pb-free Tape-reel           Commercial
 Ordering Code Definition
 CY 7C63 XXX XXX C/I (T)
                                   Tape and reel
                                   Temperature range:
                                   Commercial/Industrial
                                   Package type:
                                   PVX: SSOP
                                   SX: SOIC
                                   Base part number
                                   Marketing Code: 7C63
                                   Company ID: CY = Cypress
Document Number: 38-08027 Rev. *H                                                                    Page 31 of 37


                                                                        CY7C63413C
                                                                        CY7C63513C
                                                                        CY7C63613C
Die Pad Locations
Table 29. DIe Pad Locations (in microns)
     Pad #        Pin Name           X        Y   Pad # Pin Name     X          Y
        1            D+           1496.95 2995.00  48      VCC    1619.65   3023.60
        2             D-           467.40 2995.00  47      VSS    1719.65   3023.60
        3          Port3[7]        345.15 3023.60  46    Port3[6] 1823.10   3023.60
        4          Port3[5]        242.15 3023.60  45    Port3[4] 1926.10   3023.60
        5          Port3[3]        98.00  2661.25  44    Port3[2] 2066.30   2657.35
        6          Port3[1]        98.00  2558.25  43    Port3[0] 2066.30   2554.35
        7          Port2[7]        98.00  2455.25  42    Port2[6] 2066.30   2451.35
        8          Port2[5]        98.00  2352.25  41    Port2[4] 2066.30   2348.35
        9          Port2[3]        98.00  2249.25  40    Port2[2] 2066.30   2245.35
      10           Port2[1]        98.00  2146.25  39    Port2[0] 2066.30   2142.35
       11          Por1[7]         98.00  1134.25  38    Port1[6] 2066.30   1130.35
      12           Por1[5]         98.00  1031.25  37    Port1[4] 2066.30   1027.35
      13           Por1[3]         98.00   928.25  36    Port1[2] 2066.30    924.35
      14           Por1[1]         98.00   825.25  35    Port1[0] 2066.30    821.35
      15            DAC7           98.00  721.05   34     DAC6    2066.30    719.55
      16            DAC5           98.00  618.05   33     DAC4    2066.30    616.55
      17           Port0[7]        98.00   516.25  32    Port0[6] 2066.30    512.35
      18           Port0[5]        98.00   413.25  31    Port0[4] 2066.30    409.35
      19           Port0[3]        306.30  98.00   30    Port0[2] 1858.00     98.00
      20           Port0[1]        442.15  98.00   29    Port0[0] 1718.30     98.00
      21            DAC3           593.40  98.00   28     DAC2    1618.50     98.00
      22            DAC1           696.40  98.00   27     DAC0    1513.50     98.00
      23             VPP           824.25  98.00   26    XtalOut  1301.90     98.00
      24             VSS           949.65   98.00  25     XtalIn  1160.50     98.00
Document Number: 38-08027 Rev. *H                                          Page 32 of 37


                                                                                        CY7C63413C
                                                                                        CY7C63513C
                                                                                        CY7C63613C
Package Diagrams
                            Figure 13. 48-pin SSOP (300 Mils) Package Outline, 51-85061
                                                                                         51-85061 *F
Document Number: 38-08027 Rev. *H                                                               Page 33 of 37


                                                                                                    CY7C63413C
                                                                                                    CY7C63513C
                                                                                                    CY7C63613C
                   Figure 14. 24-pin SOIC (0.615 × 0.300 × 0.0932 Inches) Package Outline, 51-85025
                                                                                                     51-85025 *F
Document Number: 38-08027 Rev. *H                                                                           Page 34 of 37


                                                                                               CY7C63413C
                                                                                               CY7C63513C
                                                                                               CY7C63613C
Acronyms
  Acronym                      Description                   Acronym                   Description
 AC          Alternating current                          PC         Program Counter
 ADC         Analog-to-Digital Converter                  PLL        Phase-Locked Loop
 API         Application Programming Interface            POR        Power On Reset
 CPU         Central Processing Unit                      PPOR       Precision Power On Reset
 CT          Continuous Time                              PSoC®      Programmable System-on-Chip™
 ECO         External Crystal Oscillator                  PWM        Pulse Width Modulator
 EEPROM      Electrically Erasable Programmable Read-Only SC         Switched Capacitor
             Memory
 FSR         Full Scale Range                             SRAM       Static Random Access Memory
 GPIO        General Purpose I/O                          ICE        In-Circuit Emulator
 GUI         Graphical User Interface                     ILO        Internal Low Speed Oscillator
 HBM         Human Body Model                             IMO        Internal Main Oscillator
 LSb         Least-Significant Bit                        I/O        Input/Output
 LVD         Low Voltage Detect                           IPOR       Imprecise Power On Reset
 MSb         Most-Significant Bit
Document Conventions
Units of Measure
   Symbol                    Unit of Measure                  Symbol                 Unit of Measure
      °C     degree Celsius                                     W   microwatts
     dB      decibels                                           mA   milliampere
      fF     femto farad                                        ms   millisecond
      Hz     hertz                                              mV   millivolts
     KB      1024 bytes                                         nA   nanoampere
     Kbit    1024 bits                                          ns   nanosecond
     kHz     kilohertz                                          nV   nanovolts
     k      kilohm                                                 ohm
     MHz     megahertz                                          pA   picoampere
     M      megaohm                                            pF   picofarad
     A      microampere                                        pp   peak-to-peak
      F     microfarad                                        ppm   parts per million
     H      microhenry                                          ps  picosecond
      s     microsecond                                        sps  samples per second
     V      microvolts                                          s   sigma: one standard deviation
    Vrms    microvolts root-mean-square                         V   volts
Document Number: 38-08027 Rev. *H                                                                    Page 35 of 37


                                                                                              CY7C63413C
                                                                                              CY7C63513C
                                                                                              CY7C63613C
Document History Page
 Document Title: CY7C63413C/CY7C63513C/CY7C63613C, Low-Speed High Input/Output 1.5-Mbps USB Controller
 Document Number: 38-08027
                                  Orig. of
   REV.     ECN NO.    Issue Date                                   Description of Change
                                  Change
    **       116224     06/12/02   DSG     Change from Spec number: 38-00754 to 38-08027
    *A       237148     SEE ECN    KKU     Removed 24 pin package, CY7C63411/12, CY7C63511/12 and CY7C636XX
                                           parts
                                           Added Pb-free part numbers to section 20.0
                                           Added USB Logo.
    *B       418699     See ECN     TYJ    Part numbers updated with MagnaChip offerings
    *C      2896245     03/19/10    XUT    Removed inactive parts (CY7C63413C-PXC and CY7C63413C-XC) from the
                                           Ordering information.
                                           Updated package diagrams.
    *D      3057657     10/13/10   AJHA    Added “Not recommended for new designs” watermark in the PDF.
                                           Updated template.
    *E      3130046    01/18/2011   NXZ    Removed 40-pin PDIP package.
                                           Added Ordering Code Definitions, Acronyms, and Document Conventions.
    *F      4272762    02/05/2014  DEJO    Updated Package Diagrams:
                                           spec 51-85061 – Changed revision from *D to *F.
                                           spec 51-85025 – Changed revision from *D to *F.
                                           Updated in new template.
                                           Completing Sunset Review.
    *G      4313900    03/21/2014  AKSL    Removed “Not recommended for new designs” watermark.
                                           Added CY7C63613C-SXCT and CY7C63513C-PVXCT in Ordering Infor-
                                           mation.
    *H      5647775    03/02/2017  HPPC    Updated the template.
Document Number: 38-08027 Rev. *H                                                                    Page 36 of 37


                                                                                                                                                                          CY7C63413C
                                                                                                                                                                          CY7C63513C
                                                                                                                                                                          CY7C63613C
Sales, Solutions, and Legal Information
Worldwide Sales and Design Support
Cypress maintains a worldwide network of offices, solution centers, manufacturer’s representatives, and distributors. To find the office
closest to you, visit us at Cypress Locations.
Products                                                                                                   PSoC®Solutions
ARM® Cortex® Microcontrollers                                          cypress.com/arm                     PSoC 1 | PSoC 3 | PSoC 4 | PSoC 5LP
Automotive                                                 cypress.com/automotive
                                                                                                           Cypress Developer Community
Clocks & Buffers                                                   cypress.com/clocks
                                                                                                           Forums | WICED IOT Forums | Projects | Video | Blogs | Training
Interface                                                      cypress.com/interface                       | Components
Internet of Things                                                       cypress.com/iot
                                                                                                           Technical Support
Memory                                                          cypress.com/memory
                                                                                                           cypress.com/support
Microcontrollers                                                       cypress.com/mcu
PSoC                                                                  cypress.com/psoc
Power Management ICs                                                  cypress.com/pmic
Touch Sensing                                                        cypress.com/touch
USB Controllers                                                         cypress.com/usb
Wireless Connectivity                                           cypress.com/wireless
© Cypress Semiconductor Corporation, 2002-2017. This document is the property of Cypress Semiconductor Corporation and its subsidiaries, including Spansion LLC ("Cypress"). This document,
including any software or firmware included or referenced in this document ("Software"), is owned by Cypress under the intellectual property laws and treaties of the United States and other countries
worldwide. Cypress reserves all rights under such laws and treaties and does not, except as specifically stated in this paragraph, grant any license under its patents, copyrights, trademarks, or other
intellectual property rights. If the Software is not accompanied by a license agreement and you do not otherwise have a written agreement with Cypress governing the use of the Software, then Cypress
hereby grants you a personal, non-exclusive, nontransferable license (without the right to sublicense) (1) under its copyright rights in the Software (a) for Software provided in source code form, to
modify and reproduce the Software solely for use with Cypress hardware products, only internally within your organization, and (b) to distribute the Software in binary code form externally to end users
(either directly or indirectly through resellers and distributors), solely for use on Cypress hardware product units, and (2) under those claims of Cypress's patents that are infringed by the Software (as
provided by Cypress, unmodified) to make, use, distribute, and import the Software solely for use with Cypress hardware products. Any other use, reproduction, modification, translation, or compilation
of the Software is prohibited.
TO THE EXTENT PERMITTED BY APPLICABLE LAW, CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THIS DOCUMENT OR ANY SOFTWARE
OR ACCOMPANYING HARDWARE, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. To the extent
permitted by applicable law, Cypress reserves the right to make changes to this document without further notice. Cypress does not assume any liability arising out of the application or use of any
product or circuit described in this document. Any information provided in this document, including any sample design information or programming code, is provided only for reference purposes. It is
the responsibility of the user of this document to properly design, program, and test the functionality and safety of any application made of this information and any resulting product. Cypress products
are not designed, intended, or authorized for use as critical components in systems designed or intended for the operation of weapons, weapons systems, nuclear installations, life-support devices or
systems, other medical devices or systems (including resuscitation equipment and surgical implants), pollution control or hazardous substances management, or other uses where the failure of the
device or system could cause personal injury, death, or property damage ("Unintended Uses"). A critical component is any component of a device or system whose failure to perform can be reasonably
expected to cause the failure of the device or system, or to affect its safety or effectiveness. Cypress is not liable, in whole or in part, and you shall and hereby do release Cypress from any claim,
damage, or other liability arising from or related to all Unintended Uses of Cypress products. You shall indemnify and hold Cypress harmless from and against all claims, costs, damages, and other
liabilities, including claims for personal injury or death, arising from or related to any Unintended Uses of Cypress products.
Cypress, the Cypress logo, Spansion, the Spansion logo, and combinations thereof, WICED, PSoC, CapSense, EZ-USB, F-RAM, and Traveo are trademarks or registered trademarks of Cypress in
the United States and other countries. For a more complete list of Cypress trademarks, visit cypress.com. Other names and brands may be claimed as property of their respective owners.
Document Number: 38-08027 Rev. *H                                                                 Revised March 2, 2017                                                                Page 37 of 37


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Cypress Semiconductor:
 CY7C63513C-PVXC CY7C63413C-PVXC CY7C63513C-PVXCT CY7C63413C-PVXCT CY7C63613C-SXC
CY7C63613C-SXCT
