                                                                                                                        STUSB1600
                                                                                                                                 Datasheet
                                 Standalone USB Type-CTM controller with high voltage protections
                                                        Features
                                                         •    Type-C attach and cable orientation detection
                                                         •    Power role support: source / sink / DRP
                QFN24L 4x4 mm
                                                         •    Configurable start-up profiles
                                                         •    Integrated power switch for VCONN supply:
                                                              –     Programmable current limit up to 600 mA
                                                              –     Overcurrent, overvoltage and thermal protections
                                                              –     Undervoltage lockout
                                                         •    I2C interface and interrupt (optional connection to MCU)
                                                         •    Integrated VBUS voltage monitoring
                                                         •    Integrated VBUS and VCONN discharge path
                                                         •    Short-to-VBUS protection on CC pins (22 V) and VBUS pins (28 V)
                                                         •    Dead-battery mode support
                                                         •    Accessory mode support
                                                         •    High and/or low voltage power supply:
                                                              –     VSYS = [3.0 V; 5.5 V]
                                                              –     VDD = [4.1 V; 22 V]
                                                         •    ESD: 4 kV HBM - 1.5 kV CDM
                                                         •    Temperature range: -40 °C up to 105 °C
                                                         •    Certification test ID: 1000100
               Product status link
                  STUSB1600                             Applications
                Device summary
                                                         •    Smart plugs, wall adapters, chargers
   Order code            STUSB1600AQTR                   •    Power hubs and docking stations
                       Standalone USB Type-              •    Smartphones and tablets
  Description         CTM controller with high           •    Gaming and PNDs
                         voltage protections
                                                         •    Displays
     Package             QFN24 EP 4x4 mm
                                                         •    Wearable and Internet of Things (IoT)
     Marking                     1600A                   •    Cameras, camcorders, MP3 players
                                                         •    Any Type-C source or sink device
                                                        Description
                                                        The STUSB1600 is an IC controller, fully compliant with the USB Type-C cable and
                                                        connector specification (rev. 1.2), which addresses 5 V USB Type-C port
                                                        management both on the host and/or device side. It is designed for a broad range of
                                                        applications and can handle the following USB Type-C functions: attach detection,
                                                        plug orientation detection, host to device connection, VCONN support, and VBUS
                                                        configuration. Thanks to its 20 V technology, it implements high voltage protection
                                                        features against short-circuits to VBUS up to 28 V. The device supports dead battery
                                                        mode and is fully customizable thanks to an integrated non-volatile memory.
DS11503 - Rev 4 - October 2019                                                                                                       www.st.com
For further information contact your local STMicroelectronics sales office.


                                                                                                                                        STUSB1600
                                                                                                                                    Functional description
1               Functional description
                The STUSB1600 is a USB Type-C controller IC. It is designed to interface with the Type-C receptacle both on
                host and/or device sides. It is used to establish and manage the source-to-sink connection between two USB
                Type-C host and device ports.
                The STUSB1600 major role is to:
                1.    Detect the connection between two USB Type-C ports (attach detection)
                2.    Establish a valid source-to-sink connection
                3.    Determine the attached device mode: source, sink or accessory
                4.    Resolve cable orientation and twist connections to establish USB data routing (MUX control)
                5.    Configure and monitor VBUS power path
                6.    Manage VBUS power capability: USB Default, Type-C medium or Type-C high current mode
                7.    Configure VCONN when required
                The STUSB1600 also provides:
                1.    Low power standby mode
                2.    Dead-battery mode
                3.    I2C interface and interrupt (optional connection to MCU)
                4.    Start-up configuration customization: static through NVM or/and dynamic through I2C
                5.    High voltage protection
                6.    Accessory modes detection
1.1             Block overview
                                                               Figure 1. Functional block diagram
                                   VREG_1V2    VDD     VSYS GND           VREG_2V7    RESET
                                                    PowerSupply                   Power On                            I2C Interface       SCL
                                         VREG_1V2    Generation VREG_2V7           Reset       Oscillator   NVM            &              SDA
                                                            VPU I2C_REGx          Controller                            Registers         ALERT#
                                                                                                                                          ATTACH
                                                                                                                     RESET
                                                                                                                                          DEBUG1
                                                                                                                      I2C_REGx
                                                                                                                                          DEBUG2
                                    VDD1V2                   VPU           VDD2V7  RESET         CLK      I2C_REGx
                     CC1DB
                                                                                                                                          VBUS_ERROR
                       CC1
                                                                                                                                          VBUS_SENSE
                                     VCONN Monitoring           CC Lines            CC Control             VBUS Monitoring
                    VCONN                                                                                                                 VBUS_EN_SRC
                                      & Power Switches          Interface             Logic                   & Control
                                                                                                                                          VBUS_EN_SNK
                       CC2
                                                                                                                                          A_B_SIDE
                   CC2_DB
                                       High voltage pins
DS11503 - Rev 4                                                                                                                                  page 2/66


                                                                                                                                STUSB1600
                                                                                                                                Inputs / outputs
2                 Inputs / outputs
2.1               Pinout
                                      Figure 2. STUSB1600 pin connections
                                                     VREG_2V7                        VBUS_EN_SRC    VBUS_EN_SINK
                                              VDD               VSYS      VREG_1V2
                                                 24 23           22 21               20                 19
                                     CC1DB   1                                                           18        VBUS_SENSE
                                       CC1   2                                                            17       A_B_SIDE
                                     VCONN   3                                                            16       NC
                                                                         EP
                                       CC2   4                                                            15       DEBUG2
                                     CC2DB   5                                                            14       DEBUG1
                                     RESET   6                                                        13           ADDR0
                                                 7     8          9       10          11             12
                                                                                     VBUS_VALID
                                                                         GND
                                                                                                   ATTACH
                                              SCL    SDA
                                                                ALERT#
DS11503 - Rev 4                                                                                                                        page 3/66


                                                                                                              STUSB1600
                                                                                                                        Pin list
2.2             Pin list
                                                      Table 1. Pin functions list
                Pin      Name     Type Description                                    Typical connection
                  1      CC1DB  HV AIO Dead-battery enable on CC1 pin                 CC1 pin if used or ground
                  2        CC1  HV AIO Type-C configuration channel 1                 Type-C receptacle A5
                  3     VCONN     PWR  Power input for active plug                    5 V power source
                  4        CC2  HV AIO Type-C Configuration Channel 2                 Type-C receptacle B5
                  5      CC2DB  HV AIO Dead-battery enable on CC2 pin                 CC2 pin if used or ground
                  6      RESET     DI  Reset input (active high)
                  7        SCL     DI  I2C clock input                                To I²C master, ext. pull-up
                  8       SDA    DI/OD I2C data input/output – active low open-drain  To I²C master, ext. pull-up
                  9     ALERT#     OD  I2C interrupt – active low open-drain          To I²C master, ext. pull-up
                 10       GND     GND  Ground                                         Ground
                 11  VBUS_VALID    OD  VBUS detection, active low open-drain          To MCU if any, ext. pull-up
                 12     ATTACH     OD  Attachment detection, active low open-drain    To MCU if any, ext. pull-up
                                       I²C device address setting (see Section 4 I²C
                 13      ADDR0     DI                                                 Static
                                       interface)
                                       Debug accessory device detection in sink power
                 14     DEBUG1     OD                                                 To MCU if any, ext. pull-up
                                       role, active low open-drain
                                       Debug accessory device detection in source
                 15     DEBUG2     OD                                                 To MCU if any, ext. pull-up
                                       power role, active low open-drain
                 16        NC       -  -                                              Floating
                                                                                      USB SuperSpeed mux select – Ext. pull-
                 17    A_B_SIDE    OD  Cable orientation, active low open-drain
                                                                                      up
                 18  VBUS_SENSE  HV AI VBUS voltage monitoring and discharge path     From VBUs
                                       VBUS sink power path enable, active low open-
                 19 VBUS_EN_SNK  HV OD                                                To switch or power system, ext. pull-up
                                       drain
                                       VBUS source power path enable, active low
                 20 VBUS_EN_SRC  HV OD                                                To switch or power system, ext. pull-up
                                       open-drain
                 21   VREG_1V2    PWR  1.2 V internal regulator output                1 µF typ. decoupling capacitor
                                                                                      From power system, connect to ground
                 22       VSYS    PWR  Power supply from system
                                                                                      if not used
                 23   VREG_2V7    PWR  2.7 V internal regulator output                1 µF typ. decoupling capacitor
                 24       VDD   HV PWR Power supply from USB power line               From VBUS
                           EP     GND  Exposed pad is connected to ground             To ground
DS11503 - Rev 4                                                                                                        page 4/66


                                                                                                                    STUSB1600
                                                                                                                      Pin description
                                                                    Table 2. Legend
                              Type                                                    Description
                                D                                                         Digital
                                A                                                        Analog
                               O                                                       Output pad
                                I                                                       Input pad
                               IO                                                   Bidirectional pad
                               OD                                                  Open-drain output
                               PD                                                      Pull-down
                               PU                                                        Pull-up
                               HV                                                   HIGH VOLTAGE
                              PWR                                                         Power
                              GND                                                        Ground
2.3             Pin description
2.3.1           CC1 / CC2
                CC1 and CC2 are the configuration channel pins used for the connection and attachment detection, plug
                orientation determination and system configuration management across USB Type-C cable.
2.3.2           CC1DB / CC2DB
                CC1DB and CC2DB are used for dead-battery mode when the STUSB1600 is configured in sink power role or
                dual power role. This mode is enabled by connecting CC1DB and CC2DB respectively to CC1 and CC2. Thanks
                to this connection, the pull-down terminations on the CC pins are present by default even if the device is not
                supplied (see Section 3.5 Dead-battery mode).
Note:           CC1DB and CC2DB must be connected to ground when the STUSB1600 is configured in source power role or
                when the dead-battery mode is not supported.
2.3.3           VCONN
                This power input is connected to a power source that can be a 5 V power supply, or a lithium battery. It is used to
                provide power supply to the local plug. It is internally connected to power switches that are protected against
                short-circuit and overvoltage. This does not require any protection on the input side. When a valid source-to-sink
                connection is determined and VCONN power switches are enabled, VCONN is provided by the source to the unused
                CC pin (see Section 3.3 VCONN supply).
2.3.4           RESET
                Active high reset.
DS11503 - Rev 4                                                                                                              page 5/66


                                                                                                                     STUSB1600
                                                                                                                       Pin description
2.3.5           I²C interface pins
                                                                Table 3. I2C interface pin list
                       Name                                                         Description
                        SCL          I²C clock, need external pull-up
                        SDA          I²C data, need external pull-up
                      ALERT#         I²C interrupt, need external pull-up
                      ADDR0          I²C device address bit (see Section 4 I²C interface)
2.3.6           GND
                Ground.
2.3.7           VBUS_VALID
                This pin is asserted during attachment when VBUS is detected on VBUS_SENSE pin and VBUS voltage is within
                the valid operating range. The VBUS valid state is also advertised in a dedicated I2C register bit (see Section
                 5.1 Register description).
2.3.8           ATTACH
                This pin is asserted when a valid source-to-sink connection is established. It is also asserted when a connection
                to an accessory device is detected. The attachment state is also advertised in a dedicated I2C register bit (see
                Section 5.1 Register description).
2.3.9           DEBUG pins
                These pins are asserted when a debug accessory device is detected according to the running power role.
                                                                   Table 4. Debug pin list
                  Name                                                         Description
                 DEBUG1 Asserted when Type-C FSM is in DebugAccessory.SNK state in sink power role
                            Asserted when Type-C FSM is in UnorientedDebugAccessory. SRC or OrientedDebugAccessory.SRC states in
                 DEBUG2
                            source power role
2.3.10          A_B_SIDE
                This output pin provides cable orientation. It is used to establish USB SuperSpeed signal routing. The cable
                orientation is also advertised in a dedicated I2C register bit. (see Section 5.1 Register description). This signal is
                not required in case of USB 2.0 support.
                                                               Table 5. USB data MUX select
                         Value                                                      CC pin position
                          HiZ                                                CC1 pin is attached to CC line
                           0                                                 CC2 pin is attached to CC line
2.3.11          VBUS_SENSE
                This input pin is used to sense VBUS presence, monitor VBUS voltage and discharge VBUS on USB Type-C
                receptacle side.
DS11503 - Rev 4                                                                                                               page 6/66


                                                                                                                      STUSB1600
                                                                                                                         Pin description
2.3.12          VBUS_EN_SNK
                In sink power role, this pin allows the incoming VBUS power to be enabled when the connection to a source is
                established and VBUS is in the valid operating range. The open-drain output allows a PMOS transistor to be driven
                directly. The logic value of the pin is also advertised in a dedicated I2C register bit (see Section 5.1 Register
                description).
2.3.13          VBUS_EN_SRC
                In source power role, this pin allows the outgoing VBUS power to be enabled when the connection to a sink is
                established and VBUS is in the valid operating range. The open-drain output allows a PMOS transistor to be driven
                directly. The logic value of the pin is also advertised in a dedicated I2C register bit (see Section 5.1 Register
                description).
2.3.14          VREG_1V2
                This pin is used only for external decoupling of 1.2 V internal regulator. The recommended decoupling capacitor:
                1 µF typ. (0.5 µF min.; 10 µF max.).
2.3.15          VSYS
                This is the low power supply from the system, if any. It can be connected directly to a single cell lithium battery or
                to the system power supply delivering 3.3 V or 5 V. It is recommended to connect the pin to ground when it is not
                used.
2.3.16          VREG_2V7
                This pin is used only for external decoupling of 2.7 V internal regulator. The recommended decoupling capacitor:
                1 µF typ. (0.5 µF min.; 10 µF max.).
2.3.17          VDD
                This is the main power supply for applications powered by VBUS.
                In source power role, this pin can be used to sense the voltage level of the main power supply providing VBUS. It
                allows UVLO and OVLO thresholds to be considered independently on VDD pin as additional conditions to enable
                the VBUS power path through VBUS_EN_SRC pin (see Section 3.2.3 VBUS power path assertion). When UVLO
                threshold detection is enabled, the VDD pin must be connected to the main power supply to establish the
                connection and to assert the VBUS power path.
DS11503 - Rev 4                                                                                                                page 7/66


                                                                                                                     STUSB1600
                                                                                                                  Features description
3               Features description
3.1             CC interface
                The STUSB1600 controls the connection to the configuration channel (CC) pins, CC1 and CC2, through two main
                blocks, the CC lines interface block and the CC control logic block.
                The CC line interface block is used to:
                •      Configure the termination mode on the CC pins relative to the power mode supported, i.e. pull-up for source
                       power role and pull-down for sink power role
                •      Monitor the CC pin voltage values relative to the attachment detection thresholds
                •      Configure VCONN on the unconnected CC pin when required
                •      Protect the CC pins against overvoltage
                The CC control logic block is used to:
                •      Execute the Type-C FSM relative to the Type-C power mode supported
                •      Determine the electrical state for each CC pin relative to the detected thresholds
                •      Evaluate the conditions relative to the CC pin states and VBUS voltage value to transition from one state to
                       another in the Type-C FSM
                •      Detect and establish a valid source-to-sink connection
                •      Determine the attached device mode: source, sink or accessory
                •      Determine cable orientation to allow external routing of the USB data
                •      Manage VBUS power capability: USB default, Type-C medium or Type-C high current mode
                •      Handle hardware faults
                The CC control logic block implements the Type-C FSMs corresponding to the following Type-C power modes:
                •      Source power role with accessory support
                •      Sink power role with accessory support
                •      Sink power role without accessory support
                •      Dual power role with accessory support
                •      Dual power role with accessory and Try.SRC support
                •      Dual power role with accessory and Try.SNK support
                The default Type-C power mode is selected through NVM programming (see Section 6 Start-up configuration)
                and can be changed by software during operation through I2C interface (see Section 5.1 Register description).
3.2             VBUS power path control
3.2.1           VBUS monitoring
                The VBUS monitoring block supervises (from the VBUS_SENSE pin) the VBUS voltage on the USB Type-C
                receptacle side.
                It is used to check that VBUS is within a valid voltage range:
                •      To establish a valid source-to-sink connection according to USB Type-C standard specifications
                •      To enable safely the VBUS power path through VBUS_EN_SRC pin or VBUS_EN_SNK pin depending on the
                       power role
                It allows detection of unexpected VBUS voltage conditions such as: undervoltage or overvoltage relative to the
                valid VBUS voltage range. When such conditions occurs, the STUSB1600 behaves as follows:
                •      At attachment, it prevents the source-to-sink connection and the VBUS power path assertion
DS11503 - Rev 4                                                                                                              page 8/66


                                                                                                                    STUSB1600
                                                                                                             VBUS power path control
                •     After attachment, it deactivates the source-to-sink connection and disables the VBUS power path. In source
                      power role, the device goes into error recovery state. In sink power role the device goes into unattached
                      state
                The valid VBUS voltage range is defined from VBUS nominal voltage by a high threshold voltage and a low
                threshold voltage whose nominal values are respectively VBUS+5% and VBUS-5%. The nominal threshold limits
                can be shifted by a fraction of VBUS from +1% to +15% for the high threshold voltage and from -1% to -15% for
                the low threshold voltage. It means the threshold limits can vary from VBUS+5% to VBUS+20% for the high limit
                and from VBUS-5% to VBUS-20% for the low limit.
                The threshold limits are preset by default in the NVM with different shift coefficients depending on whether the
                device operates in source power role or sink power role (see Section 8.3 Electrical and timing characteristics).
                The threshold limits can be changed independently through NVM programming (see Section 6 Start-up
                configuration) and also by software during attachment through I2C interface (see Section 5.1 Section 4.4:
                Register description).
3.2.2           VBUS discharge
                The monitoring block handles also the internal VBUS discharge path connected to the VBUS_SENSE pin. The
                discharge path is activated at detachment, or when the device goes into the error recovery state whatever the
                power role (see Section 3.7 Hardware fault management).
                The VBUS discharge path is enabled by default in the NVM and can be disabled through NVM programming only
                (see Section 6 Start-up configuration). The discharge time duration is also preset by default in the NVM (see
                Section 8.3 Electrical and timing characteristics). The discharge time duration can be modified through NVM
                programming (see Section 6 Start-up configuration) and also by software through the I2C interface (see Section
                 5.1 Register description).
3.2.3           VBUS power path assertion
                The STUSB1600 can control the assertion of the VBUS power path on USB Type-C port, directly or indirectly,
                through VBUS_EN_SRC pin and VBUS_EN_SNK pins according to the system power role.
                The following tables summarize the configurations of the STUSB1600 and the operation conditions that determine
                the electrical value of VBUS_EN_SRC pin and VBUS_EN_SNK pins during the system operation.
DS11503 - Rev 4                                                                                                              page 9/66


                                                                                                                    STUSB1600
                                                                                                           VBUS power path control
                            Table 6. Conditions for VBUS power path assertion in source power role
                                                         Operation conditions
                        Electrical
          Pin                                                                      VBUS_SENSE                  Comment
                          value      Type-C attached state    VDD pin monitoring
                                                                                  pin monitoring
                                                                                       VBUS <
                                                                                   VMONUSBH and
                                         Attached.SRC             VDD > VDDUVLO        VBUS >
                                                                                     VMONUSBL if
                                               or               if UVLO threshold
                                                                                     VBUSvoltage
                                                                detection enabled
                                       UnorientedDebug                             range detection  The signal is asserted only if all
                            0           Accessory.SRC                 and/or           enabled     the valid operation conditions are
                                                                                                                   met
                                               or                 VDD < VDDOVLO           or
                                        OrientedDebug           if OVLO threshold  VBUS > VTHUSB
                                        Accessory.SRC           detection enabled  if VBUS voltage
                                                                                   range detection
                                                                                       disabled
   VBUS_EN_SRC                                                                         VBUS >
                                                                                    VMONUSBH or
                                                                  VDD <VDDUVLO         VBUS <
                                                                                     VMONUSBL if
                                                                if UVLO threshold
                                                                detection enabled    VBUS voltage
                                                                                                   The signal is de-asserted when at
                           HiZ          Any other state               and/or       range detection   least one non-valid operation
                                                                                       enabled               condition is met
                                                                  VDD >VDDOVLO
                                                                                          or
                                                                if OVLO threshold
                                                                                   VBUS < VTHUSB
                                                                detection enabled
                                                                                   if VBUS voltage
                                                                                   range detection
                                                                                       disabled
                As specified in the USB Type-C standard specification, the attached state "Attached.SRC" is reached only if the
                voltage on VBUS receptacle side is at vSafe0V condition when a connection is detected.
DS11503 - Rev 4                                                                                                              page 10/66


                                                                                                                     STUSB1600
                                                                                                                        VCONN supply
                              Table 7. Conditions for VBUS power path assertion in sink power role
                                                         Operation conditions
                          Electrical
          Pin                           Type-C attached       VDD pin        VBUS_SENSE pin                    Comment
                            value
                                             state           monitoring          monitoring
                                                                             VBUS < VMONUSBH
                                                                                 and VBUS >
                                                                              VMONUSBL if VBUS
                                         Attached.SNK
                                                                                voltage range
                                               or                             detection enabled   The signal is asserted only if all the
                               0                           Not applicable
                                                                                                  valid operation conditions are met
                                        DebugAccessory.                               or
                                              SNK
                                                                              VBUS > VTHUSB if
                                                                            VBUS voltage range
                                                                              detection disabled
   VBUS_EN_SNK                                                               VBUS > VMONUSBH
                                                                                      or
                                                                            VBUS < VMONUSBL if
                                                                            VBUS voltage range    The signal is de-asserted when at
                              HiZ        Any other state   Not applicable     detection enabled     least one non-valid operation
                                                                                                           condition is met
                                                                                      or
                                                                              VBUS < VTHUSB if
                                                                            VBUS voltage range
                                                                              detection disabled
                "Type-C attached state” refers to the Type-C FSM states as defined in the USB Type-C standard specification and
                as described in I2C register CC_OPERATION_STATUS (see Section 5.1 Register description).
                “VDD pin monitoring” is valid in source power role only. The activation of the UVLO and OVLO threshold
                detections can be done through NVM programming (see Section 6 Start-up configuration) and also by software
                through I2C interface (see Section 5.1 Register description). When UVLO and/or OVLO threshold detection is
                activated, VBUS_EN_SRC pin is asserted only if the device is attached and the valid threshold conditions on VDD
                are met. Once VBUS_EN_SRC pin is asserted, the VBUS monitoring is done on VBUS_SENSE pin instead of
                VDD pin.
                “VBUS_SENSE pin monitoring” relies by default on the valid VBUS voltage range defined by a high limit
                VMONUSBH and a low limit VMONUSBL. The voltage range conditions can be disabled to consider UVLO threshold
                detection instead. The monitoring conditions of VBUS voltage can be changed through NVM programming (see
                Section 6 Start-up configuration) and also by software through I2C interface (see Section 5.1 Register
                description).
                See Section 8.3 Electrical and timing characteristics for the threshold voltage description and value on VDD and
                VBUS_SENSE pins.
3.3             VCONN supply
3.3.1           VCONN input voltage
                VCONN is a regulated supply used to power circuits in the plug of USB3.1 full-featured cables and other
                accessories. VCONN nominal operating voltage is 5.0 V ± 5%.
3.3.2           VCONN application conditions
                The VCONN pin of the STUSB1600 is connected to each CC pin (CC1 and CC2) across independent power
                switches.
                The STUSB1600 applies VCONN only to the CC pin not connected to the CC wire when all below conditions are
                met:
DS11503 - Rev 4                                                                                                                page 11/66


                                                                                                                   STUSB1600
                                                                                                                     VCONN supply
                •     The device is configured in source power role or dual power role
                •     VCONN power switches are enabled
                •     A valid connection to a sink is achieved
                •     Ra presence is detected on the unwired CC pin
                •     A valid power source is applied on VCONN pin with respect to a predefined UVLO threshold
                The STUSB1600 does not provide VCONN when it works in sink power role.
3.3.3           VCONN monitoring
                The VCONN monitoring block detects if VCONN power supply is available on the VCONN pin. It is used to check
                that VCONN voltage is above a predefined undervoltage lockout (UVLO) threshold to allow VCONN power switches
                to be enabled.
                The default value of the UVLO threshold is 4.65 V typical for powered cables operating at 5 V. It can be changed
                by software to 2.65 V typical to support VCONN-powered accessories that are operating down to 2.7 V (see
                Section 5.1 Register description).
3.3.4           VCONN discharge
                The behavior of Type-C FSMs is extended with an internal VCONN discharge path capability on CC pins in source
                power mode only. The discharge path is activated during 250 ms from sink detachment detection. This feature is
                disabled by default and can be activated through NVM programming (see Section 6 Start-up configuration) and
                also by software through I2C interface (see Section 5.1 Register description).
3.3.5           VCONN control and status
                The supplying conditions of VCONN across the STUSB1600 are managed through the I2C interface. Different I2C
                registers and bits are used specifically for this purpose (see Section 5.1 Register description).
3.3.6           VCONN power switches
                Features
                The STUSB1600 integrates two current limited high-side power switches with protections that tolerate high
                voltage up to 22 V on the CC pins.
                Each VCONN power switch presents the following features:
                •     Soft-start to limit inrush current
                •     Constant current mode overcurrent protection
                •     Adjustable current limit
                •     Thermal protection
                •     Undervoltage and overvoltage protection
                •     Reverse current and reverse voltage protections
DS11503 - Rev 4                                                                                                           page 12/66


                                                                                                                               STUSB1600
                                                                                                                                VCONN supply
                                             Figure 3. VCONN to CC1 and CC2 power switch protections
                Current limit programming
                The current limit can be set within the range 100 mA to 600 mA by step of 50 mA. The default current limit is
                programmed through NVM programming (see Section 6 Start-up configuration) and can be changed by software
                through I2C interface (see Section 5.1 Register description). At power-on or after a reset, the current limit takes
                the default value preset in the NVM.
                Fault management
                The table below summarizes the different fault conditions that could occur during the operation of the switch and
                the associated responses. An I2C alert is generated when a fault condition happens (see Section 5.1 Register
                description).
                                                         Table 8. Fault management conditions
                   Fault types               Fault conditions                                       Expected actions
                                   CC output pin shorted to ground via   Power switch limits the current and reduces the output voltage. I2C
                   Short-circuit  very low resistive path causing rapid   alert is asserted immediately thanks to VCONN_SW_OCP_FAULT
                                               current surge                                                bits
                                   CC output pin connected to a load     Power switch limits the current and reduces the output voltage. I2C
                   Overcurrent           that sinks current above         alert is asserted immediately thanks to VCONN_SW_OCP_FAULT
                                             programmed limit                                               bits
                                                                            Power switch is disabled immediately until the temperature falls
                                  Junction temperature exceeding 145          below 145 ° minus hysteresis of 15 °C. I2C alert is asserted
                   Overheating
                                           °C due to any reason         immediately thanks to THERMAL_FAULT bit. The STUSB1600 goes
                                                                                            into transient error recovery state
                                                                           Power switch is disabled immediately until the input voltage rises
                                    VCONN input voltage drops below
                  Undervoltage                                           above the UVLO threshold. I2C alert is asserted immediately thanks
                                    UVLO threshold minus hysteresis
                                                                                               to VCONN_PRESENCE bit
DS11503 - Rev 4                                                                                                                       page 13/66


                                                                                                                           STUSB1600
                                                                                                                    Low power standby mode
                   Fault types               Fault conditions                                    Expected actions
                                                                       Power switch is opened immediately until the voltage falls below the
                                      CC output pin voltage exceeds
                   Overvoltage                                               voltage limit. I2C alert is asserted immediately thanks to
                                     maximum operating limit of 6.0 V
                                                                                          VCONN_SW_OVP_FAULT bits
                                      CC output pin voltage exceeds   The reverse biased body diode of the back-to-back MOS switches is
                 Reverse current VCONN input voltage when the power    naturally disabled preventing current to flow from the CC output pin
                                            switch is turned off                                      to the input
                                      CC output pin voltage exceeds
                                                                       Power switch is opened immediately until the voltage difference falls
                                     VCONN input voltage of more than
                 Reverse voltage                                        below the voltage limit. I2C alert is asserted immediately thanks to
                                      0.35 V for 5 V when the power
                                                                                          VCONN_SW_RVP_FAULT bits
                                            switch is turned on
3.4             Low power standby mode
                The STUSB1600 proposes a standby mode to reduce the device power consumption when no device is
                connected to the USB Type-C port. It is disabled by default and can be activated through NVM programming (see
                Section 6 Start-up configuration).
                When activated, the STUSB1600 enters standby mode at power-up, or after a reset, after a reset or after a
                disconnection. In this mode, the CC interface and the voltages monitoring blocks are turned off. Only a monitoring
                circuitry is maintained active on the CC pins to detect a connection. When the connection is detected, all the
                internal circuits are turned on to allow normal operations.
                The standby mode does not operate when the device is configured in sink power role with accessory support (see
                Section 6 Start-up configuration).
3.5             Dead-battery mode
                The dead-battery mode allows systems powered by a battery to be supplied by VBUS when the battery is
                discharged and to start the battery charging process. It is also used in systems that are powered through VBUS
                only.
                This mode is only supported in sink power role and dual power role configurations. It operates only if the CC1DB
                and CC2DB pins are connected respectively to the CC1 and CC2 pins. Thanks to these connections, the
                STUSB1600 presents a pull-down termination on its CC pins and advertises itself as a sink even if the device is
                not supplied.
                When a source system connects to a USB Type-C port with the STUSB1600 configured in dead-battery mode, it
                can detect the pull-down termination, establish the source-to-sink connection, and provide the VBUS. The
                STUSB1600 is then supplied thanks to the VDD pin connected to the VBUS on the USB Type-C receptacle side.
                The STUSB1600 can finalize the source-to-sink connection and enable the power path on the VBUS thanks to the
                VBUS_EN_SNK pin which allows the system to be powered.
3.6             High voltage protection
                The STUSB1600 can be used safely in systems or connected to systems that handle high voltage on the VBUS
                power path. The device integrates an internal circuitry on the CC pins that tolerates high voltages and ensures a
                protection up to 22 V in case of unexpected short-circuit with VBUS or in case of connection to a device supplying
                high voltage on VBUS.
3.7             Hardware fault management
                The STUSB1600 handles hardware fault conditions related to the device itself and to the VBUS power path during
                the system operation.
                When such conditions happens, the circuit goes into a transient error recovery state named ErrorRecovery in the
                Type-C FSM. The error recovery state is sufficient to force a detach event.
                When entering this state, the device de-asserts the VBUS power path by disabling VBUS_EN_SRC pin and
                VBUS_EN_SNK pin, and it removes the terminations from the CC pins during few tens of milliseconds. Then it
                transits to the unattached state related to the configured power mode.
                The STUSB1600 goes into error recovery state when at least one condition listed below is met:
DS11503 - Rev 4                                                                                                                      page 14/66


                                                                                                                      STUSB1600
                                                                                                             Accessory mode detection
                •     Whatever the power role:
                      –     If an overtemperature is detected, the "THERMAL_FAULT" bit set to 1b
                •     In source power role only:
                      –     If an internal pull-up voltage on CC pins is below UVLO threshold (VPU_VALID bit set to 0b)
                      –     If an overvoltage is detected on the CC pins (VPU_OVP_FAULT bit set to 1b)
                      –     If VBUS voltage is out of the valid voltage range during attachment (VBUS_VALID bit set to 0b)
                      –     If an undervoltage is detected on VDD pin during attachment when UVLO detection is enabled
                            (VDD_UVLO_DISABLE bit set to 0b)
                      –     If an overvoltage is detected on VDD pin during attachment when OVLO detection is enabled
                            (VDD_OVLO_DISABLE bit set to 0b)
                The I2C register bits above-mentioned give either the state of the hardware fault when it occurs, or the setting
                conditions to detect the hardware fault (see Section 5.1 Register description).
3.8             Accessory mode detection
                The STUSB1600 supports the detection of audio accessory mode and debug accessory mode as defined in USB
                Type-C standard specification with the following Type-C power modes (see Section 6 Start-up configuration):
                •     Source power role with accessory support
                •     Sink power role with accessory support
                •     Dual power role with accessory support
                •     Dual power role with accessory and Try.SRC support
                •     Dual power role with accessory and Try.SNK support
3.8.1           Audio accessory mode detection
                The STUSB1600 detects an audio accessory device when both CC1 and CC2 pins are pulled down to ground by
                Ra resistor from the connected device. The audio accessory detection is advertised through
                CC_ATTACHED_MODE bits of I2C register CC_CONNECTION_STATUS (see Section 5.1 Register description).
3.8.2           Debug accessory mode detection
                The STUSB1600 detects a connection to a debug and test system (DTS) when it operates either in sink power
                role or in source power role. The debug accessory detection is advertised by DEBUG1 and DEBUG2 pins as well
                as through CC_ATTACHED_MODE bits of I2C register CC_CONNECTION_STATUS (see Section 5.1 Register
                description).
                In sink power role, a debug accessory device is detected when both CC1 and CC2 pins are pulled up by Rp
                resistor from the connected device. The voltage levels on CC1 and CC2 pins give the orientation and the current
                capability as described in the table below. DEBUG1 pin is asserted to advertise the DTS detection and A_B_SIDE
                pin indicates the orientation of the connection. The current capability of the DTS is given through
                SINK_POWER_STATE bits of I2C register CC_OPERATION_STATUS (see Section 5.1 Register description).
                                      Table 9. Orientation and current capability detection in sink power role
                                                                       A_B_SIDE pin
                         CC1            CC2        Charging current                               Current capability state
                 #                                                        CC1/CC2
                        (CC2)          (CC1)         configuration                            SINK_POWER_STATE bit values
                                                                         (CC2/CC1)
                                                                                        PowerDefault.SNK (source supplies default USB
                 1     Rp 3A         Rp 1.5 A           Default            HiZ (0)
                                                                                                          current)
                                                                                       Power1.5.SNK (source supplies 1.5 A USB Type-C
                 2    Rp 1.5 A       Rp default          1.5 A             HiZ (0)
                                                                                                          current)
                                                                                       Power3.0.SNK (source supplies 3.0 A USB Type-C
                 3     Rp 3 A        Rp default          3.0 A             HiZ (0)
                                                                                                          current)
                         Rp             Rp                                              PowerDefault.SNK (source supplies default USB
                 4                                      Default           HiZ (HiZ)
                    def/1.5 A/3 A def/1.5 A/3 A                                                           current)
DS11503 - Rev 4                                                                                                                page 15/66


                                                                                                                     STUSB1600
                                                                                                            Accessory mode detection
                In source power role, a debug accessory device is detected when both CC1 and CC2 pins are pulled down to
                ground by Rd resistor from the connected device. The orientation detection is performed in two steps as
                described in the table below. DEBUG2 pin is asserted to advertise the DTS detection and the A_B_SIDE pin
                indicates the orientation of the connection. The orientation detection is advertised through TYPEC_FSM_STATE
                bits of I2C register CC_OPERATION_STATUS (see Section 5.1 Register description).
                                               Table 10. Orientation detection in source power role
                                                                                        A_B_SIDE pin
                        CC1         CC2                                                                  Orientation detection state
                 #                                        Detection process               CC1/CC2
                       (CC2)       (CC1)                                                                TYPEC_FSM_STATE bit value
                                                                                         (CC2/CC1)
                 1       Rd          Rd       1st step: debug accessory mode detected     HiZ (HiZ)    UnorientedDebugAccessory.SRC
                                                  2nd step: orientation detected (DTS
                 2       Rd         ≤Ra       presents a resistance to GND with a value    HiZ (0)      OrientedDebugAccessory.SRC
                                                          ≤Ra on its CC2 pin)
DS11503 - Rev 4                                                                                                              page 16/66


                                                                                                                                                               STUSB1600
                                                                                                                                                                  I²C interface
4               I²C interface
4.1             Read and write operations
                The I²C interface is used to configure, control and read the operation status of the device. It is compatible with the
                Philips I²C Bus® (version 2.1). The I²C is a slave serial interface based on two signals:
                •      SCL - serial clock line: input clock used to shift data
                •      SDA - serial data line: input/output bidirectional data transfers
                A filter rejects the potential spikes on the bus data line to preserve data integrity.
                The bidirectional data line supports transfers up to 400 kbit/s (fast mode). The data are shifted to and from the
                chip on the SDA line, MSB first.
                The first bit must be high (START) followed by the 7-bit device address and the read/write control bit.
                Two 7-bit device address are available for the STUSB1600 thanks to the external programming of DevADDR0
                through ADDR0 pin setting, i.e. 0x28 or 0x29. It allows two STUSB1600 devices to be connected on the same I2C
                bus.
                                                                     Table 11. Device address format
      Bit7                Bit6                    Bit5                             Bit4                   Bit3                 Bit2                  Bit1           Bit0
  DevADDR6            DevADDR5             DevADDR4                        DevADDR3                 DevADDR2               DevADDR1             DevADDR0            R/W
       0                   1                        0                               1                        0                  0                  ADDR0             0/1
                                                                   Table 12. Register address format
      Bit7                Bit6                    Bit5                             Bit4                   Bit3                 Bit2                  Bit1           Bit0
  RegADDR7            RegADDR6             RegADDR5                        RegADDR4                 RegADDR3               RegADDR2             RegADDR1         RegADDR0
                                                                       Table 13. Register data format
      Bit7                Bit6                    Bit5                             Bit4                   Bit3                 Bit2                  Bit1           Bit0
     DATA7              DATA6                  DATA5                            DATA4                    DATA3               DATA2                  DATA1          DATA0
                                                                                       Figure 4. Read operation
                                    Master                         Slave
                                     Start     Device addr       W A     Reg address    A Restart Device addr  R A Reg data  A  Reg data A Reg data   A   Stop
                                                  7 bits                    8 bits                 7 bits           8 bits       8 bits    8 bits
                                                                                                                                 Address   Address
                                    Start bit = SDA falling when SCL = 1                                                           n+1       n+2
                                    Stop bit = SDA rising when SCL = 1
                                    Restart bit = start after a start
                                    Acknowledg e = SDA forced low during a SCL clock
DS11503 - Rev 4                                                                                                                                                      page 17/66


                                                                                                                                      STUSB1600
                                                                                                                                   Timing specifications
                                                                             Figure 5. Write operation
                                    Start     Device addr        W A       Reg address A Reg data   A  Reg data   A   Reg data     A  Stop
                                                 7 bits                       8 bits        8 bits      8 bits         8 bits
                                                                                                       Address         Address
                                   Start bit = SD A fa lling when S CL = 1                                n+1            n+2
                                   Stop bit = SD A rising when SCL = 1
                                   Restart bit = start after a start
4.2             Timing specifications
                The device uses a standard slave I²C channel at speed up to 400 kHz.
                                                     Table 14. I²C timing parameters - VDD = 5 V
   Symbol                                                  Parameter                                            Min.           Typ.      Max.     Unit
     Fscl       SCL clock frequency                                                                               0              -        400     kHz
    thd,sta     Hold time (repeated) START condition                                                             0.6             -         -       μs
      tlow      LOW period of the SCL clock                                                                     1.3              -         -       μs
     thigh      HIGH period of the SCL clock                                                                    0.6              -         -       μs
    tsu,dat     Set-up time for repeated START condition                                                         0.6             -         -       μs
    thd,dat     Data hold time                                                                                  0.04             -        0.9      μs
    tsu,dat     Data set-up time                                                                                100              -         -       μs
        tr      Rise time of both SDA and SCL signals                                                       20 + 0.1 Cb          -        300      ns
        tf      Fall time of both SDA and SCL signals                                                       20 + 0.1 Cb          -        300      ns
    tsu,sto     Set-up time for STOP condition                                                                   0.6             -         -       μs
      tbuf      Bus free time between a STOP and START condition                                                1.3              -         -       μs
       Cb       Capacitive load for each bus line                                                                 -              -        400      pF
DS11503 - Rev 4                                                                                                                               page 18/66


                                                                                       STUSB1600
                                                                                    Timing specifications
                                           Figure 6. I²C timing diagram
                     V ih tf
                S DA
                     V il
                             thd,s ta
                                                 tr        ts u,dat thig h
                SC L
                                      tlow             thd,dat             ts u,sta
DS11503 - Rev 4                                                                                page 19/66


                                                                                                                 STUSB1600
                                                                                                                  I2C register map
5               I2C register map
                                                Table 15. Register access legend
                   Access code   Expanded name                                         Description
                        RO           Read only           Register can be read only
                       R/W           Read /write         Register can be read or written
                        RC         Read and clear        Register can be read and is cleared after read
                                        Table 16. STUSB1600 register map overview
                     Address             Register name                       Access                      Description
                    00h to 0Ah              Reserved                           RO           Do not use
                                                                                            Alert register linked to transition
                       0Bh              ALERT_STATUS                           RC
                                                                                            registers
                                                                                            Allows the interrupt mask on
                       0Ch       ALERT_STATUS_MASK_CTRL                        R/W          ALERT_STATUS register to be
                                                                                            changed
                                                                                            Alerts about transition in
                       0Dh     CC_CONNECTION_STATUS_TRANS                      RC           CC_CONNECTION_STATUS
                                                                                            register
                       0Eh         CC_CONNECTION_STATUS                        RO           Gives status on CC connection
                                                                                            Alerts about transition in
                       0Fh       MONITORING_STATUS_TRANS                       RC
                                                                                            MONITORING_STATUS register
                                                                                            Gives status on VBUS and VCONN
                       10h           MONITORING_STATUS                         RO
                                                                                            voltage monitoring
                       11h          CC_OPERATION_STATUS                        RO           Gives status on CC operation modes
                                                                                            Alerts about transition in
                       12h        HW_FAULT_STATUS_TRANS                        RC
                                                                                            HW_FAULT_STATUS register
                       13h            HW_FAULT_STATUS                          RO           Gives status on hardware faults
                    14h to 17h              Reserved                           RO           Do not use
                                                                                            Allows the CC capabilities to be
                       18h           CC_CAPABILITY_CTRL                        R/W
                                                                                            changed
                   19h to 1Dh               Reserved                           RO           Do not use
                                                                                            Allows the current limit of VCONN
                       1Eh        CC_VCONN_SWITCH_CTRL                         R/W
                                                                                            power switches to be changed
                       1Fh                  Reserved                           RO           Do not use
                                                                                            Allows the monitoring conditions of
                       20h        VCONN_MONITORING_CTRL                        R/W
                                                                                            VCONN voltage to be changed
                       21h                  Reserved                           RO           Do not use
                                                                                            Allows the voltage range for VBUS
                       22h     VBUS_MONITORING_RANGE_CTRL                      R/W
                                                                                            monitoring to be changed
                                                                                            Controls the device reset by
                       23h               RESET_CTRL                            R/W
                                                                                            software
                       24h                  Reserved                           RO           Do not use
                                                                                            Allows the VBUS discharge time to
                       25h      VBUS_DISCHARGE_TIME_CTRL                       R/W
                                                                                            be changed
DS11503 - Rev 4                                                                                                            page 20/66


                                                                                                                      STUSB1600
                                                                                                                   Register description
                       Address                      Register name                     Access                    Description
                                                                                                  Gives status on VBUS discharge path
                          26h                VBUS_DISCHARGE_STATUS                      RO
                                                                                                  activation
                                                                                                  Gives status on VBUS power path
                          27h                  VBUS_ENABLE_STATUS                       RO
                                                                                                  activation
                                                                                                  Allows the CC power mode to be
                          28h                 CC_POWER_MODE_CTRL                       R/W
                                                                                                  changed
                      29h to 2Dh                       Reserved                         RO        Do not use
                                                                                                  Allows the monitoring conditions of
                          2Eh                 VBUS_MONITORING_CTRL                     R/W
                                                                                                  VBUS voltage to be changed
                          2Fh                          Reserved                         RO        Do not use
5.1             Register description
                The reset column specified in the register descriptions below defines the default value of the registers at power-up
                or after a reset. The reset values with (NVM) index correspond to the user-defined parameters that can be
                customized by NVM re-programming if needed (see Section 6 Start-up configuration).
5.1.1           ALERT_STATUS
                Address: 0Bh
                Access: RC
Note:           This register indicates an alert that has occurred.
                                                         Table 17. ALERT_STATUS register
                     Bit                  Field name                Reset                           Description
                      7                    Reserved                   0b     Do not use
                                                                             0b: cleared
                      6          CC_CONNECTION_STATUS_AL              0b     1b: change occurred on
                                                                             CC_CONNECTION_STATUS_TRANS register
                                                                             0b: cleared
                      5            MONITORING_STATUS_AL               0b     1b: change occurred on MONITORING_STATUS_TRANS
                                                                             register
                                                                             0b: cleared
                      4             HW_FAULT_STATUS_AL                0b     1b: change occurred on HW_FAULT_STATUS_TRANS
                                                                             register
                     3:0                   Reserved                 0000b    Do not use
                When a bit value change occurs on one of the mentioned transition registers, it automatically sets the
                corresponding alert bit in ALERT_STATUS register.
5.1.2           ALERT_STATUS_MASK_CTRL
                Address: 0Ch
                Access: R/W
Note:           This register is used to mask event interrupt and prevent the assertion of the alert bit in the ALERT_STATUS
                register when the corresponding bit defined below is set to 1.
DS11503 - Rev 4                                                                                                               page 21/66


                                                                                                                       STUSB1600
                                                                                                                     Register description
                                                  Table 18. ALERT_STATUS_MASK_CTRL register
                    Bit                        Field Name                        Reset                        Description
                     7                          Reserved                           1b         Do not use
                                                                                              0b: interrupt unmasked
                     6          CC_CONNECTION_STATUS_AL_MASK                    1b (NVM)
                                                                                              1b: interrupt masked
                                                                                              0b: interrupt unmasked
                     5             MONITORING_STATUS_AL_MASK                    1b (NVM)
                                                                                              1b: interrupt masked
                                                                                              0b: interrupt unmasked
                     4              HW_FAULT_STATUS_AL_MASK                     1b (NVM)
                                                                                              1b: interrupt masked
                    3:0                         Reserved                         1111b        Do not use
                The condition to generate an active-low ALERT signal is:
                [ALERT_STATUS bitwise AND (NOT ALERT_STATUS_MASK)] <> 0
5.1.3           CC_CONNECTION_STATUS_TRANS
                Address: 0Dh
                Access: RC
Note:           This register indicates a bit value change has occurred in CC_CONNECTION_STATUS register.
                                              Table 19. CC_CONNECTION_STATUS_TRANS register
                     Bit               Field name               Reset                                Description
                     7:1                Reserved              0000000b    Do not use
                                                                          0b: cleared
                      0            CC_ATTACH_TRANS               0b
                                                                          1b: transition occurred on CC_ATTACH bit
DS11503 - Rev 4                                                                                                                 page 22/66


                                                                                                                    STUSB1600
                                                                                                                  Register description
5.1.4           CC_CONNECTION_STATUS
                Address: 0Eh
                Access: RO
Note:           This register gives the connection state of the CC pins and on associated operating modes of the device.
                                                  Table 20. CC_CONNECTION_STATUS register
                     Bit               Field name                 Reset                               Description
                                                                            000b: no device attached
                                                                            001b: sink attached
                                                                            010b: source attached
                                                                            011b: debug accessory attached
                     7:5          CC_ATTACHED_MODE                000b
                                                                            100b: audio accessory attached
                                                                            101b: do not use
                                                                            110b: do not use
                                                                            111b: do not use
                                                                            0b: operating in normal power mode
                      4          DEVICE_POWER_MODE               0b(NVM)
                                                                            1b: operating in standby power mode
                                                                            0b: operating as a sink
                      3             CC_POWER_ROLE                   0b
                                                                            1b: operating as a source
                      2                 Reserved                    0b      Do not use
                                                                            0b: VCONN is not supplied on CC pin
                      1            CC_VCONN_SUPPLY                  0b
                                                                            1b: VCONN is supplied on CC pin
                                                                            0b: not attached
                      0                CC_ATTACH                    0b
                                                                            1b: attached
                The DEVICE_POWER_MODE bit indicates the power consumption mode of the device at start-up and during
                operation:
                •     In normal mode, all the internal circuits are turned on
                •     In standby mode the CC interface and the voltage monitoring blocks remain off until a connection is detected
                The standby mode power is disabled by default and can be activated through NVM programming (see Section
                 6 Start-up configuration).
                The CC_POWER_ROLE bit is relevant only when a connection is established and the device is attached.
DS11503 - Rev 4                                                                                                              page 23/66


                                                                                                                       STUSB1600
                                                                                                                    Register description
5.1.5           MONITORING_STATUS_TRANS
                Address: 0Fh
                Access: RC
Note:           This register indicates a bit value change has occurred in MONITORING_STATUS register.
                                                 Table 21. MONITORING_STATUS_TRANS register
                     Bit               Field name               Reset                               Description
                     7:4                Reserved                0000b     Do not use
                                                                          0b: cleared
                      3            VBUS_VALID_TRANS               0b
                                                                          1b: transition occured on VBUS_VALID bit
                                                                          0b: cleared
                      2          VBUS_VSAFE0V_TRANS               0b
                                                                          1b: transition occured on VBUS_VSAFE0V bit
                                                                          0b: cleared
                      1         VBUS_PRESENCE_TRANS               0b
                                                                          1b: transition occured on VBUS_PRESENCE bit
                                                                          0b: cleared
                      0        VCONN_PRESENCE_TRANS               0b
                                                                          1b: transition occured on VCONN_PRESENCE bit
5.1.6           MONITORING_STATUS
                Address: 10h
                Access: RO
Note:           This register gives the current status of VBUS and VCONN voltage monitoring done respectively on
                VBUS_SENSE pin and VCONN pin.
                                                     Table 22. MONITORING_STATUS register
                     Bit               Field name               Reset                               Description
                     7:4                Reserved                0000b     Do not use
                                                                          0b: VBUS is outside valid VBUS voltage range
                      3               VBUS_VALID                  0b
                                                                          1b: VBUS is within valid VBUS voltage range
                                                                          0b: VBUS is above VBUS VSafe0V threshold
                      2              VBUS_VSAFE0V                 1b
                                                                          1b: VBUS is below VBUS VSafe0V threshold
                                                                          0b: VBUS is below VBUS UVLO threshold
                      1             VBUS_PRESENCE                 0b
                                                                          1b: VBUS is above VBUS UVLO threshold
                                                                          0b: VCONN is below VCONN UVLO threshold
                      0            VCONN_PRESENCE              0b or 1b
                                                                          1b: VCONN is above VCONN UVLO threshold
                The default value of valid VBUS voltage range can be changed in VBUS_MONITORING_RANGE_CTRL register
                during the operation.
                VBUS vSafe0V threshold is defined in VBUS_MONITORING_CTRL register. It is used in source power role as a
                Type-C FSM condition to establish a valid device attachment.
                VBUS UVLO threshold is set by hardware.
                VCONN UVLO threshold is defined in VCONN_MONITORING_CTRL register.
DS11503 - Rev 4                                                                                                                page 24/66


                                                                                                                  STUSB1600
                                                                                                                Register description
                The reset value of VCONN_PRESENCE bit is:
                •    0b when VCONN is not supplied on VCONN pin, or when VCONN is supplied and voltage level is below UVLO
                     threshold, or when VCONN threshold detection circuit is disabled.
                •    1b when VCONN is supplied on VCONN pin and the voltage level is above UVLO threshold.
                See Section 8.3 Electrical and timing characteristics for the threshold voltage description and value on
                VBUS_SENSE and VCONN pins.
DS11503 - Rev 4                                                                                                            page 25/66


                                                                                                                     STUSB1600
                                                                                                                   Register description
5.1.7           CC_OPERATION_STATUS
                Address: 11h
                Access: RO
Note:           This register gives the current status of the device operating modes with respect to the Type-C FSM states as
                defined in the USB Type-C standard specification. This status is informative only and is not used to trigger any
                alert.
                                                   Table 23. CC_OPERATION_STATUS register
                      Bit              Field name                Reset                            Description
                                                                           0b: CC1 is attached
                       7           CC_PIN_ATTACHED                 0b
                                                                           1b: CC2 is attached
                                                                           00b: PowerDefault.SNK (source supplies default USB current)
                                                                           01b: Power1.5.SNK (source supplies 1.5 A USB Type-C
                                                                           current)
                      6:5         SINK_POWER_STATE                00b
                                                                           10b: Power3.0.SNK (source supplies 3.0 A USB Type-C
                                                                           current)
                                                                           11b: do not use
DS11503 - Rev 4                                                                                                               page 26/66


                                                                                                                    STUSB1600
                                                                                                                Register description
                     Bit               Field name              Reset                            Description
                                                                         00h: Unattached.SNK
                                                                         01h: AttachWait.SNK
                                                                         02h: Attached.SNK
                                                                         03h: DebugAccessory.SNK
                                                                         04h: reserved
                                                                         05h: reserved
                                                                         06h: reserved
                                                                         07h: TryWait.SNK
                                                                         08h: Unattached.SRC
                                                                         09h: AttachWait.SRC
                                                                         0Ah: Attached.SRC
                                                                         0Bh: reserved
                                                                         0Ch: Try.SRC
                                                                         0Dh: Unattached.Accessory
                                                                         0Eh: AttachWait.Accessory
                                                                00h      0Fh: AudioAccessory
                     4:0            TYPEC_FSM_STATE              or      10h: UnorientedDebugAccessory.SRC
                                                                08h      11h: reserved
                                                                         12h: reserved
                                                                         13h: ErrorRecovery
                                                                         14h: TryDebounce.SNK (intermediate state towards Try.SNK
                                                                         state)
                                                                         15h: Try.SNK
                                                                         16h: reserved
                                                                         17h: TryWait.SRC
                                                                         18h: UnattachedWait.SRC (VCONN intermediate discharge
                                                                         state)
                                                                         19h: OrientedDebugAccessory.SRC
                                                                         1Ah: reserved
                                                                         1Bh: reserved
                                                                         1Ch: reserved
                                                                         1Dh: reserved
                                                                         1Eh: reserved
                                                                         1Fh: reserved
                The reset value of TYPEC_FSM_STATE bits is:
                •     00h when device operates in sink power role (Unattached.SNK)
                •     08h when device operates in source power role (Unattached.SRC)
                The CC_PIN_ATTACHED bit indicates which CC pin is connected to the CC line. Its value is consistent with the
                logic level of the A_B_SIDE output pin providing cable orientation.
                The SINK_POWER_STATE bits indicate the current level advertised by the source that the sink can consume
                when the device works in sink power role.
                The TYPEC_FSM_STATE bits indicate the current state of the Type-C FSM corresponding to the power mode
                defined in CC_POWER_MODE_CTRL register.
DS11503 - Rev 4                                                                                                             page 27/66


                                                                                                                    STUSB1600
                                                                                                                 Register description
5.1.8           HW_FAULT_STATUS_TRANS
                Address: 12h
                Access: RC
Note:           This register indicates a bit value change has occurred in HW_FAULT_STATUS register. It also alerts when the
                overtemperature condition is met.
                                                  Table 24. HW_FAULT_STATUS_TRANS register
                   Bit                     Field name                  Reset                         Description
                                                                               0b: cleared
                    7                  THERMAL_FAULT                     0b    1b: junction temperature is above temperature
                                                                               threshold of 145° C
                    6                       Reserved                     0b    Do not use
                                                                               0b: cleared
                    5               VPU_OVP_FAULT_TRANS                  0b
                                                                               1b: transition occured on VPU_OVP_FAULT bit
                                                                               0b: cleared
                    4                 VPU_VALID_TRANS                    0b
                                                                               1b: transition occured on VPU_VALID bit
                    3                       Reserved                     0b    Do not use
                                                                               0b: cleared
                    2           VCONN_SW_RVP_FAULT_TRANS                 0b    1b: transition occured on VCONN_SW_RVP_FAULT
                                                                               bits
                                                                               0b: cleared
                    1           VCONN_SW_OCP_FAULT_TRANS                 0b    1b: transition occured on VCONN_SW_OCP_FAULT
                                                                               bits
                                                                               0b: cleared
                    0           VCONN_SW_OVP_FAULT_TRANS                 0b    1b: transition occured on VCONN_SW_OVP_FAULT
                                                                               bits
DS11503 - Rev 4                                                                                                             page 28/66


                                                                                                                         STUSB1600
                                                                                                                       Register description
5.1.9           HW_FAULT_STATUS
                Address: 13h
                Access: RO
Note:           This register provides information on hardware fault conditions related to the internal pull-up voltage in source
                power role and to the VCONN power switches.
                                                     Table 25. HW_FAULT_STATUS register
                   Bit                   Field name                Reset                                Description
                                                                              0b: voltage on CC pins is below OVP threshold of 6.0 V
                    7                VPU_OVP_FAULT                   0b
                                                                              1b: voltage on CC pins is above OVP threshold of 6.0 V
                                                                              0b: pull-up voltage on CC pins is below UVLO threshold of
                                                                              2.8 V
                    6                   VPU_VALID                    1b
                                                                              1b: pull-up voltage on CC pins is above UVLO threshold of
                                                                              2.8 V (safe condition)
                                                                              0b: no reverse voltage on VCONN power switch connected
                                                                              to CC1
                    5          VCONN_SW_RVP_FAULT_CC1                0b
                                                                              1b: reverse voltage detected on VCONN power switch
                                                                              connected to CC1
                                                                              0b: no reverse voltage on VCONN power switch connected
                                                                              to CC2
                    4          VCONN_SW_RVP_FAULT_CC2                0b
                                                                              1b: reverse voltage detected on VCONN power switch
                                                                              connected to CC2
                                                                              0b: no short-circuit or overcurrent on VCONN power switch
                                                                              connected to CC1
                    3          VCONN_SW_OCP_FAULT_CC1                0b
                                                                              1b: short-circuit or overcurrent detected on VCONN power
                                                                              switch connected to CC1
                                                                              0b: no short-circuit or overcurrent on VCONN power switch
                                                                              connected to CC2
                    2          VCONN_SW_OCP_FAULT_CC2                0b
                                                                              1b: short-circuit or overcurrent detected on VCONN power
                                                                              switch connected to CC2
                                                                              0b: no overvoltage on VCONN power switch connected to
                                                                              CC1
                    1          VCONN_SW_OVP_FAULT_CC1                0b
                                                                              1b: overvoltage detected on VCONN power switch
                                                                              connected to CC1
                                                                              0b: no overvoltage on VCONN power switch connected to
                                                                              CC2
                    0          VCONN_SW_OVP_FAULT_CC2                0b
                                                                              1b: overvoltage detected on VCONN power switch
                                                                              connected to CC2
                The VPU_VALID and VPU_OVP_FAULT bits are related to the internal pull-up voltage applied on the CC pins
                when the device works in source power role. They inform about an internal supply issue that could prevent the
                device from detecting a valid connection to a distant device.
5.1.10          CC_CAPABILITY_CTRL
                Address: 18h
                Access: R/W
Note:           When operating in source power role, this register allows the advertising of the current capability to be changed
                as defined in the USB Type-C standard specification and the VCONN supply capability.
DS11503 - Rev 4                                                                                                                   page 29/66


                                                                                                                        STUSB1600
                                                                                                                     Register description
                                                     Table 26. CC_CAPABILITY_CTRL register
                     Bit               Field name                  Reset                             Description
                                                                            00b: default USB current (500 mA or 900 mA)
                                                                            01b: 1.5 A USB Type-C current
                     7:6      CC_CURRENT_ADVERTISED              01b(NVM)
                                                                            10b: 3.0 A USB Type-C current
                                                                            11b: do not use
                      5                 Reserved                     1b     Do not use
                                                                            0b: VCONN discharge disabled on CC pin
                      4       CC_VCONN_DISCHARGE_EN              0b (NVM)
                                                                            1b: VCONN discharge enabled for 250 ms on CC pin
                     3:1                Reserved                    000b    Do not use
                                                                            0b: VCONN supply capability disabled on CC pin
                      0          CC_VCONN_SUPPLY_EN               1b(NVM)
                                                                            1b: VCONN supply capability enabled on CC pin
5.1.11          CC_VCONN_SWITCH_CTRL
                Address: 1Eh
                Access: R/W
Note:           This register allows the default current limit of the power switches supplying VCONN on the CC pins to be
                changed.
                                                  Table 27. CC_VCONN_SWITCH_CTRL register
                     Bit               Field name                  Reset                             Description
                     7:4                Reserved                   0000b    Do not use
                                                                            0000b: 350 mA (default)
                                                                            0001b: 300 mA
                                                                            0010b: 250 mA
                                                                            0011b: 200 mA
                                                                            0100b: 150 mA
                     3:0        CC_VCONN_SWITCH_ILIM           0000b (NVM)  0101b: 100 mA
                                                                            0110b: 400 mA
                                                                            0111b: 450 mA
                                                                            1000b: 500 mA
                                                                            1001b: 550 mA
                                                                            1010b: 600 mA
5.1.12          VCONN_MONITORING_CTRL
                Address: 20h
                Access: R/W
Note:           This register allows the default voltage monitoring conditions for VCONN to be modified.
                                                  Table 28. VCONN_MONITORING_CTRL register
                     Bit               Field name                  Reset                             Description
                                                                            0b: disables UVLO threshold detection on VCONN pin
                      7         VCONN_MONITORING_EN                  1b
                                                                            1b: enables UVLO threshold detection on VCONN pin
DS11503 - Rev 4                                                                                                                 page 30/66


                                                                                                                      STUSB1600
                                                                                                                    Register description
                     Bit             Field name              Reset                                 Description
                                                                          0b: selects high UVLO threshold (default)
                      6       VCONN_UVLO_THRESHOLD             0b         1b: selects low UVLO threshold (case where VCONN-powered
                                                                          accessories operate down to 2.7 V)
                      5               Reserved                 1b         Do not use
                      4               Reserved                 0b         Do not use
                     3:0              Reserved               0000b        Do not use
                Disabling the UVLO threshold detection on VCONN pin deactivates the VCONN power path and sets
                VCONN_PRESENCE bit to 0b in the MONITORING_STATUS register.
                See Section 8.3 Electrical and timing characteristics for the threshold voltage description and value on VCONN
                pin.
DS11503 - Rev 4                                                                                                                page 31/66


                                                                                                                          STUSB1600
                                                                                                                      Register description
5.1.13          VBUS_MONITORING_RANGE_CTRL
                Address: 22h
                Access: R/W
Note:           This register allows the low and high limits of the VBUS monitoring voltage range to be changed during
                attachment.
                                              Table 29. VBUS_MONITORING_RANGE_CTRL register
                     Bit                Field name                Reset                             Description
                                                                          Binary coded VSHUSBH coefficient to shift up the nominal high
                     7:4         SHIFT_HIGH_VBUS_LIMIT        0000b (NVM) voltage limit from 1% (0001b) to 15% (1111b) of VBUS voltage
                                                                          by step of 1%
                                                                          Binary coded VSHUSBL coefficient to shift down the nominal low
                     3:0         SHIFT_LOW_VBUS_LIMIT         0000b (NVM) voltage limit from 1% (0001b) to 15% (1111b) of VBUS voltage
                                                                          by step of 1%
                VBUS voltage is fixed at 5.0 V. The nominal values of the high and low limits of VBUS monitoring voltage range are
                respectively VBUS+5% and VBUS-5%. Each coefficient VSHUSBH and VSHUSBL represents the fraction of VBUS
                voltage that is either added or subtracted to the nominal value of the corresponding limit to determine the VBUS
                monitoring voltage limits (see Section 8.3 Electrical and timing characteristics).
                When STUSB1600 is in unattached state, the register takes the reset values. When a device is attached, the
                register takes the values set in the NVM (see Section 6 Start-up configuration) or those set by software during
                attachment.
                The register is valid for both power role. Depending on whether the device operates in source power role or sink
                power role, the register takes the values set in the NVM related to the running power role.
5.1.14          RESET_CTRL
                Address: 23h
                Access: R/W
Note:           This register allows the device to be reset by software.
                                                           Table 30. RESET_CTRL register
                    Bit #               Field Name                Reset                             Description
                     7:1                 Reserved              0000000b   Do not use
                                                                          0b: device reset is performed by hardware RESET pin
                      0               SW_RESET_EN                  0b
                                                                          1b: forces the device reset as long as this bit value is set
                The SW_RESET_EN bit acts as the hardware RESET pin except that I2C control registers are not reset to their
                default value. They keep the last changed value. The SW_RESET_EN bit does not command the RESET pin.
5.1.15          VBUS_DISCHARGE_TIME_CTRL
                Address: 25h
                Access: R/W
Note:           This register contains the parameter used to define the VBUS discharge time when the internal VBUS discharge
                path is activated on VBUS_SENSE pin.
DS11503 - Rev 4                                                                                                                     page 32/66


                                                                                                                       STUSB1600
                                                                                                                     Register description
                                                Table 31. VBUS_DISCHARGE_TIME_CTRL register
                   Bit                    Field name                   Reset                             Description
                                                                                   Binary coded TDISPARAM coefficient used to compute
                   7:4        VBUS_DISCHARGE_TIME_TO_0V              0110b (NVM)   the VBUS discharge time to 0 V: TDISUSB =84 ms
                                                                                   (typical) * TDISPARAM
                   3:0                     Reserved                     1111b      Do not use
5.1.16          VBUS_DISCHARGE_STATUS
                Address: 26h
                Access: RO
Note:           This register gives information during the operation on the activation state of the internal VBUS discharge path on
                VBUS_SENSE pin.
                                                  Table 32. VBUS_DISCHARGE_STATUS register
                     Bit                Field name              Reset                                Description
                                                                           0b: VBUS discharge path is deactivated
                      7          VBUS_DISCHARGE_EN                0b
                                                                           1b: VBUS discharge path is activated
                     6:1                 Reserved             0000000b     Do not use
5.1.17          VBUS_ENABLE_STATUS
                Address: 27h
                Access: R0
Note:           This register gives some information during operations on the activation state of the VBUS power path through
                VBUS_EN_SRC pin in source power role and VBUS_EN_SNK pin in sink power role.
                                                    Table 33. VBUS_ENABLE_STATUS register
                     Bit                Field name              Reset                                Description
                     7:2                 Reserved                 0b       Do not use
                                                                           0b: VBUS sink power path is disabled
                      1              VBUS_SINK_EN                 0b
                                                                           1b: VBUS sink power path is enabled
                                                                           0b: VBUS source power path is disabled
                      0            VBUS_SOURCE_EN                 0b
                                                                           1b: VBUS source power path is enabled
DS11503 - Rev 4                                                                                                                 page 33/66


                                                                                                                         STUSB1600
                                                                                                                      Register description
5.1.18          CC_POWER_MODE_CTRL
                Address: 28h
                Access: R/W
Note:           this register allows the default Type-C power mode to be changed if needed during an operation. It requires that
                the hardware implementation of the targeted application is consistent with the functioning of the new Type-C
                power mode selected.
                                                   Table 34. CC_POWER_MODE_CTRL register
                      Bit               Field name               Reset                                Description
                      7:3                Reserved               00000b      Do not use
                                                                            000b: source power role with accessory support
                                                                            001b: sink power role with accessory support
                                                                            010b: sink power role without accessory support
                                                                            011b: dual power role with accessory support
                      2:0           CC_POWER_MODE              011 (NVM)
                                                                            100b: dual power role with accessory and Try.SRC support
                                                                            101b: dual power role with accessory and Try.SNK support
                                                                            110b: do not use
                                                                            111b: do not use
5.1.19          VBUS_MONITORING_CTRL
                Address: 2Eh
                Access: R/W
Note:           this register allows the default monitoring conditions of the VBUS voltage over the power path from the VDD and
                VBUS_SENSE pins to be modified.
                                                   Table 35. VBUS_MONITORING_CTRL register
                    Bit                   Field name                    Reset                            Description
                     7                     Reserved                      0b        Do not use
                                                                                   0b: enables OVLO threshold detection on VDD pin
                     6              VDD_OVLO_DISABLE                   0b(NVM)
                                                                                   1b: disables OVLO threshold detection on VDD pin
                     5                     Reserved                      0b        Do not use
                                                                                   0b: enables valid VBUS voltage range detection
                     4          VBUS_VALID_RANGE_DISABLE               0b(NVM)     1b: disables valid VBUS voltage range detection
                                                                                   (VBUS UVLO threshold detection used instead)
                     3                     Reserved                      0b        Do not use
                                                                                   00b : VBUS vSafe0V threshold = 0.6 V
                                                                                   01b : VBUS vSafe0V threshold = 0.9 V
                    2:1          VBUS_VSAFE0V_THRESHOLD               00b (NVM)
                                                                                   10b : VBUS vSafe0V threshold = 1.2 V
                                                                                   11b : VBUS vSafe0V threshold = 1.8 V
                                                                                   0b: enables UVLO threshold detection on VDD pin
                     0              VDD_UVLO_DISABLE                   1b(NVM)
                                                                                   1b: disables UVLO threshold detection on VDD pin
DS11503 - Rev 4                                                                                                                   page 34/66


                                                                                                                  STUSB1600
                                                                                                                Register description
                The VBUS_VALID_RANGE_DISABLE and VBUS_VSAFE0V_THRESHOLD bits define monitoring conditions
                applicable to VBUS_SENSE pin connected to USB Type-C receptacle side.
                The VBUS_VALID_RANGE_DISABLE bit allows the valid VBUS voltage range conditions to be substituted by the
                VBUS UVLO threshold condition to establish a valid device attachment and to assert the VBUS power path.
                The VBUS_VSAFE0V_THRESHOLD bit indicates the voltage value of the VBUS vSafe0V threshold used in
                source power role as a Type-C FSM condition to establish a valid device attachment.
                The VDD_UVLO_DISABLE and VDD_OVLO_DISABLE bit define monitoring conditions applicable to VDD supply
                pin when it is connected to the main power supply in source power role only:
                •     When UVLO detection is enabled, VBUS_EN_SRC pin is asserted only if voltage on VDD pin is above
                      VDDUVLO threshold
                •     When OVLO detection is enabled, VBUS_EN_SRC pin is asserted only if voltage on VDD pin is below
                      VDDOVLO threshold
                See Section 8.3 Electrical and timing characteristics for the threshold voltage description and value on VDD and
                VBUS_SENSE pins.
DS11503 - Rev 4                                                                                                            page 35/66


                                                                                                                      STUSB1600
                                                                                                                  Start-up configuration
6               Start-up configuration
6.1             User-defined parameters
                The STUSB1600 has a set of user-defined parameters that can be customized by NVM re-programming and/or
                by software through I2C interface. It allows the customer to change the preset configuration of USB Type-C
                interface and to define a new configuration to meet specific customer requirements addressing various
                applications, use cases or specific implementations.
                The NVM re-programming overrides the initial default setting to define a new default setting that is used at power-
                up or after a reset. The default value is copied at power-up, or after a reset, from the embedded NVM into
                dedicated I2C register bits (see Section 5.1 Register description).
                When a default value is changed during functioning by software, the new setting remains in effect as long as the
                STUSB1600 operates or when it is changed again. But after power-off and power-up, or after a reset, the
                STUSB1600 takes back default values defined in the NVM.
6.2             Default start-up configuration
                The table below lists the user-defined parameters and indicates the default start-up configuration of the
                STUSB1600.
                Three types of user-defined parameters are specified in the table with respect to the “Customization type” column:
                •     SW: indicates parameters that can be customized only by software through I2C interface during system
                      operations
                •     NVM: indicates parameters that can be customized by NVM re-programming only
                •     NVM/SW: indicates parameters that can be customized by NVM re-programming and/or by software
                •     through I2C interface during system operations
                                      Table 36. STUSB1600 user-defined parameters and default settings
                                                                                                                            I2C register
                 Customization type                 Parameter                        Default value and description
                                                                                                                              address
                      NVM / SW        CC_CONNECTION_STATUS_AL_MASK 1b: interrupt masked                                         0Ch
                      NVM / SW        MONITORING_STATUS_AL_MASK              1b: interrupt masked                               0Ch
                      NVM / SW        HW_FAULT_STATUS_AL_MASK                1b: interrupt masked                               0Ch
                         NVM          STANDBY_POWER_MODE_DISABLE             1b: disables standby power mode                    n. a.
                      NVM / SW        CC_CURRENT_ADVERTISED                  01b: 1.5 A                                         18h
                      NVM / SW        CC_VCONN_DISCHARGE_EN                  0b: VCONN discharge disabled on CC pin             18h
                                                                             1b: VCONN supply capability enabled on CC
                      NVM / SW        CC_VCONN_SUPPLY_EN                                                                        18h
                                                                             pin
                      NVM / SW        CC_VCONN_SWITCH_ILIM                   0000b: 350 mA                                      1Eh
                                                                             1b: enables UVLO threshold detection on
                         SW           VCONN_MONITORING_EN                                                                       20h
                                                                             VCONN pin
                         SW           VCONN_UVLO_THRESHOLD                   0b: high UVLO threshold of 4.65 V                  20h
                                                                             0101b: VSHUSBH = 5% of VBUS, high voltage
                      NVM / SW        SHIFT_HIGH_VBUS_LIMIT_SOURCE                                                              22h
                                                                             limit VMONUSBH Source = VBUS+10%
                                                                             0101b: VSHUSBL = 5% of VBUS, low voltage
                      NVM / SW        SHIFT_LOW_VBUS_LIMIT_SOURCE                                                               22h
                                                                             limit VMONUSBL Source = VBUS-10%
DS11503 - Rev 4                                                                                                                page 36/66


                                                                                                        STUSB1600
                                                                                            Default start-up configuration
                                                                                                              I2C register
                Customization type            Parameter               Default value and description
                                                                                                                address
                                                              0101b: VSHUSBH = 5% of VBUS, high
                     NVM/SW        SHIFT_HIGH_VBUS_LIMIT_SINK voltage limit VMONUSBH Sink =                       22h
                                                              VBUS+10%
                                                              1111b: VSHUSBL = 15% of VBUS, low voltage
                    NVM / SW       SHIFT_LOW_VBUS_LIMIT_SINK                                                      22h
                                                              limit VMONUSBL Sink = VBUS-20%
                                                              0b: device reset is performed from hardware
                       SW          SW_RESET_EN                                                                    23h
                                                              RESET pin
                                                              0110b:TDISPARAM = 6, discharge time TDISUSB
                    NVM / SW       VBUS_DISCHARGE_TIME_TO_0V                                                      25h
                                                              = 504 ms
                      NVM          VBUS_DISCHARGE_DISABLE     0b: enables VBUS discharge path                     n.a.
                    NVM / SW       CC_POWER_MODE              011b: dual power role with accessory support        28h
                                                              0b: enables OVLO threshold detection on
                    NVM / SW       VDD_OVLO_DISABLE                                                               2Eh
                                                              VDD pin
                                                              0b: enables valid VBUS voltage range
                    NVM / SW       VDD_VALID_RANGE_DISABLE                                                        2Eh
                                                              detection
                    NVM / SW       VBUS_VSAFE0V_THRESHOLD     00b: VBUS vSafe0V threshold = 0.6 V                 2Eh
                                                              1b: disables UVLO threshold detection on
                    NVM / SW       VDD_UVLO_DISABLE                                                               2Eh
                                                              VDD pin
DS11503 - Rev 4                                                                                                  page 37/66


                                                                                                                   STUSB1600
                                                                                                                         Application
7               Application
                The sections below are not part of ST product specifications. They are intended to give a generic application
                overview to be used by the customer as a starting point for further implementations and customizations. ST does
                not warrant compliance with customer specifications. Full system implementation and validation are under
                customer's responsibility.
7.1             General information
7.1.1           Power supplies
                The STUSB1600 can be supplied in three different ways depending on the targeted application:
                •     Through VDD pin only for applications powered by VBUS only that operate either in source power role or in
                      sink power role with dead-battery mode support
                •     Through VSYS pin only for AC-powered applications with a system power supply delivering 3.3 V or 5 V
                •     Through VDD and VSYS pins either for applications powered by a battery with a dead-battery mode support
                      or for applications powered by V BUS with a system power supply delivering 3.3 V or 5 V. When both VDD
                      and VSYS power supplies are present, the low power supply VSYS is selected when VSYS voltage is above
                      3.1 V. Otherwise VDD is selected
7.1.2           Connection to MCU or application processor
                The connection to an MCU or an application processor is optional.
                When a connection through I²C interface is implemented, it provides extensive functionality during system
                operations. For instance, it may be used to:
                1.    Define the port configuration during system boot (in case the NVM parameters are not customized during
                      manufacturing)
                2.    Change the default configuration at any time during operations
                3.    Re-configure the port power mode (i.e. source, sink or dual role),
                4.    Adjust the port power capability in source power role according to contextual power availability and/or the
                      power partitioning with other ports
                5.    Save system power by shutting down the DC-DC converter according to the attachment detection state
                6.    Provide a diagnostic of the Type-C connection and the VBUS power path in real time
                At power-up or after a reset, the first software access to the I2C registers of the STUSB1600 can happen only
                after TLOAD as shown in the figure below. TLOAD corresponds to the time required to initialize the I²C registers with
                the default values from the embedded NVM. At power-up, the loading phase starts when the voltage level on the
                VREG_2V7 output pin of the 2.7 V internal regulator reaches 2.5 V to release the internal POR signal. After a
                reset, the loading phase starts when the signal on the RESET pin is released.
                                    Figure 7. I²C register initialization sequence at power-up or after a reset
DS11503 - Rev 4                                                                                                             page 38/66


                                                                                                                   STUSB1600
                                                                                                    USB Type-C typical applications
7.2             USB Type-C typical applications
7.2.1           Source type applications
7.2.1.1         Application schematic
                                       Figure 8. Implementation example in source type application
7.2.1.2         Default start-up configuration
                                           Table 37. Default setting for a source type application
                                                                                                                      I2C register
                Customization type               Parameter                       Default value and description
                                                                                                                        address
                     NVM /SW        CC_CONNECTION_STATUS_AL_MASK 1b: interrupt masked                                     0Ch
                     NVM /SW        MONITORING_STATUS_AL_MASK             1b: interrupt masked                            0Ch
                     NVM /SW        HW_FAULT_STATUS_AL_MASK               1b: interrupt masked                            0Ch
                       NVM          STANDBY_POWER_MODE_DISABLE            1b: disables standby power mode                 n. a.
                     NVM /SW        CC_CURRENT_ADVERTISED                 01b: 1.5 A                                      18h
                     NVM /SW        CC_VCONN_DISCHARGE_EN                 0b: VCONN discharge disabled on CC pin          18h
                                                                          1b: VCONN supply capability enabled on CC
                     NVM /SW        CC_VCONN_SUPPLY_EN                                                                    18h
                                                                          pin
                     NVM /SW        CC_VCONN_SWITCH_ILIM                  0000b: 350 mA                                   1Eh
                                                                          1b: enables UVLO threshold detection on
                        SW          VCONN_MONITORING_EN                                                                   20h
                                                                          VCONN pin
                        SW          VCONN_UVLO_THRESHOLD                  0b: high UVLO threshold of 4.65 V               20h
                                                                          0101b:
                     NVM /SW        SHIFT_HIGH_VBUS_LIMIT_SOURCE          VSHUSBH = 5% of VBUS, high voltage limit        22h
                                                                          VMONUSBH Source = VBUS+10%
DS11503 - Rev 4                                                                                                           page 39/66


                                                                                                                           STUSB1600
                                                                                                          USB Type-C typical applications
                                                                                                                                I2C register
                 Customization type                 Parameter                        Default value and description
                                                                                                                                  address
                                                                              0101b: VSHUSBL = 5% of VBUS, low voltage
                     NVM /SW          SHIFT_LOW_VBUS_LIMIT_SOURCE                                                                    22h
                                                                              limit VMONUSBL Source = VBUS-10%
                                                                              0b: device reset is performed from hardware
                         SW           SW_RESET_EN                                                                                    23h
                                                                              RESET pin
                                                                              0110b: TDISPARAM = 6, discharge time
                     NVM /SW          VBUS_DISCHARGE_TIME_TO_0V                                                                      25h
                                                                              TDISUSB = 504 ms
                        NVM           VBUS_DISCHARGE_DISABLE                  0b: enables VBUS discharge path                       n. a.
                                                                              000b: source power role with accessory
                     NVM /SW          CC_POWER_MODE                                                                                  28h
                                                                              support (1)
                                                                              0b: enables OVLO threshold detection on
                     NVM /SW          VDD_OVLO_DISABLE                                                                              2Eh
                                                                              VDD pin
                                                                              0b: enables valid VBUS voltage range
                     NVM /SW          VBUS_VALID_RANGE_DISABLE                                                                      2Eh
                                                                              detection
                     NVM /SW          VBUS_VSAFE0V_THRESHOLD                  00b : VBUS vSafe0V threshold = 0.6 V                  2Eh
                                                                              1b: disables UVLO threshold detection on
                     NVM /SW          VDD_UVLO_DISABLE                                                                              2Eh
                                                                              VDD pin
                1. Indicates parameter customized by NVM re-programming.
7.2.1.3         VBUS power path assertion
                                  Table 38. Conditions for VBUS power path assertion in source power role
                                                                      Operation conditions
                                  Electrical
                       Pin                                                   VDD pin            VBUS_SENSE pin               Comment
                                    value       Type-C attached state
                                                                           monitoring               monitoring
                                                    Attached.SRC
                                                          or
                                                                                                                            The signal is
                                                  UnorientedDebug
                                                                        VDD < VDDOVLO if        VBUS is within valid     asserted only if all
                                       0           Accessory.SRC
                                                                       VDD pin is supplied         voltage range         the valid operation
                                                          or                                                             conditions are met
                 VBUS_EN_SRC                       OrientedDebug
                                                   Accessory.SRC
                                                                                                                          The signal is de-
                                                                                                                          asserted when at
                                                                        VDD > VDDOVLO if        VBUS is out of valid
                                      HiZ          Any other state                                                      least one non-valid
                                                                       VDD pin is supplied         voltage range
                                                                                                                        operation condition
                                                                                                                               is met.
7.2.1.4         Device state according to connection state
                                       Table 39. Source power role with accessory support
                                     Type-C device state
  Connection       CC1       CC2      CC_OPERATION_          A_B_SIDE      VCONN                                     CC_CONNECTION_
                                                                                         VBUS_EN_SRC pin
      state        pin        pin          STATUS                pin        supply                                STATUS register @0Eh
                                         register@11h
    Nothing
                  Open       Open      Unattached.SRC            HiZ         OFF                 HiZ                         00h
    attached
DS11503 - Rev 4                                                                                                                     page 40/66


                                                                                                                    STUSB1600
                                                                                                      USB Type-C typical applications
                                       Type-C device state
  Connection         CC1       CC2      CC_OPERATION_        A_B_SIDE       VCONN                             CC_CONNECTION_
                                                                                      VBUS_EN_SRC pin
       state         pin       pin            STATUS            pin         supply                          STATUS register @0Eh
                                           register@11h
                      Rd      Open                              HiZ          OFF              0                      2Dh
 Sink attached                             Attached.SRC
                    Open        Rd                               0           OFF              0                      2Dh
    Powered         Open        Ra                              HiZ          OFF             HiZ                     00h
  cable without                          Unattached.SRC
  sink attached       Ra      Open                              HiZ          OFF             HiZ                     00h
    Powered           Rd        Ra                              HiZ          CC2              0                      2Fh
 cable with sink
     attached
    or Vconn-                              Attached.SRC
                      Ra        Rd                               0           CC1              0                      2Fh
     powered
    Accessory
     attached
      Debug
    accessory
      mode            Rp        Rp       Unattached.SRC         HiZ          OFF             HiZ                     00h
     attached
   source role
      Debug
    accessory
                                         UnorientedDebug
      mode            Rd        Rd                              HiZ          OFF              0                      6Dh
                                          Accessory.SRC
  attached sink
        role
      Debug           Rd       ≤Ra                              HiZ          OFF              0                      6Dh
    accessory
                                          OrientedDebug
      mode
                     ≤Ra        Rd        Accessory.SRC          0           OFF              0                      6Dh
  attached sink
        role
 Audio adapter
    accessory
                      Ra        Ra       AudioAccessory         HiZ          OFF             HiZ                     81h
      mode
     attached
                 The value of CC1 and CC2 pins is defined from a termination perspective and corresponds to the termination
                 presented by the connected device.
                 The CC_CONNECTION_STATUS register can report other values than the one presented in this table. This
                 reflects the state transitions in Type-C FSM that can be ignored from the application stand point.
DS11503 - Rev 4                                                                                                            page 41/66


                                                                                                                  STUSB1600
                                                                                                    USB Type-C typical applications
7.2.2           Sink type application
7.2.2.1         Application schematic in sink type
                                         Figure 9. Implementation example in sink type application
Note:           The schematic configuration is in dead-battery mode.
7.2.2.2         Default start-up configuration in sink type
                                             Table 40. Default setting for a sink type application
                 Customization                                                                                         I2C register
                                             Parameter                          Default value and description
                     type                                                                                                address
                   NVM / SW     CC_CONNECTION_STATUS_AL_MASK 1b: interrupt masked                                          0Ch
                   NVM / SW     MONITORING_STATUS_AL_MASK            1b: interrupt masked                                  0Ch
                   NVM / SW     HW_FAULT_STATUS_AL_MASK              1b: interrupt masked                                  0Ch
                     NVM        STANDBY_POWER_MODE_DISABLE           1b: disables standby power mode                       n. a.
                   NVM / SW     CC_CURRENT_ADVERTISED                01b: 1.5 A                                            18h
                   NVM / SW     CC_VCONN_DISCHARGE_EN                0b: VCONN discharge disabled on CC pin                18h
                   NVM / SW     CC_VCONN_SUPPLY_EN                   1b: VCONN supply capability enabled on CC pin         18h
                   NVM / SW     CC_VCONN_SWITCH_ILIM                 0000b: 350 mA                                         1Eh
                                                                     1b: enables UVLO threshold detection on VCONN
                      SW        VCONN_MONITORING_EN                                                                        20h
                                                                     pin
                      SW        VCONN_UVLO_THRESHOLD                 0b: high UVLO threshold of 4.65 V                     20h
                                                                     0101b: VSHUSBH = 5% of VBUS, high voltage limit
                   NVM / SW     SHIFT_HIGH_VBUS_LIMIT_SINK                                                                 22h
                                                                     VMONUSBH Sink = VBUS+10%
DS11503 - Rev 4                                                                                                           page 42/66


                                                                                                                           STUSB1600
                                                                                                           USB Type-C typical applications
                 Customization                                                                                                   I2C register
                                               Parameter                            Default value and description
                     type                                                                                                          address
                                                                          1111b: VSHUSBL = 15% of VBUS, low voltage limit
                   NVM / SW      SHIFT_LOW_VBUS_LIMIT_SINK                                                                           22h
                                                                          VMONUSBL Sink = VBUS-20%
                                                                          0b: device reset is performed from hardware
                      SW         SW_RESET_EN                                                                                         23h
                                                                          RESET pin
                                                                          0110b: TDISPARAM = 6, discharge time
                   NVM / SW      VBUS_DISCHARGE_TIME_TO_0V                                                                           25h
                                                                          TDISUSB = 504 ms
                     NVM         VBUS_DISCHARGE_DISABLE                   0b: enables VBUS discharge path                            n. a.
                   NVM / SW      CC_POWER_MODE                            001b: sink power role with accessory support(1)            28h
                   NVM / SW      VDD_OVLO_DISABLE                         0b: enables OVLO threshold detection on VDD pin            2Eh
                   NVM / SW      VBUS_VALID_RANGE_DISABLE                 0b: enables valid VBUS voltage range detection             2Eh
                   NVM / SW      VBUS_VSAFE0V_THRESHOLD                   00b: VBUS vSafe0V threshold = 0.6 V                        2Eh
                   NVM / SW      VDD_UVLO_DISABLE                         1b: disables UVLO threshold detection on VDD pin           2Eh
                1. Indicates parameter customized by NVM re-programming.
7.2.2.3         VBUS power path assertion in sink power role
                                    Table 41. Conditions for VBUS power path assertion in sink power role
                                                                          Operation conditions
                                      Electrical
                        Pin                                                          VDD pin           VBUS_SENSE             Comment
                                         value         Type-C attached state
                                                                                   monitoring          pin monitoring
                                                                                                                             The signal is
                                                           Attached.SNK
                                                                                                        VBUS is within    asserted only if all
                                           0                     or               Not applicable        valid voltage     the valid operation
                                                                                                            range           conditions are
                                                        DebugAccessory.SNK
                                                                                                                                  met.
                  VBUS_EN_SNK
                                                                                                                           The signal is de-
                                                                                                        VBUS is out of     asserted when at
                                          HiZ             Any other state         Not applicable        valid voltage       least one non-
                                                                                                            range           valid operation
                                                                                                                           condition is met.
7.2.2.4         Device state according to connection state (sink power role)
                                         Table 42. Sink power role with accessory support
                                        Type-C device state
 Connection                              CC_OPERATION_         A_B_SIDE      VCONN                                   CC_CONNECTION_
                CC1 pin     CC2 pin                                                       VBUS_EN_SNK pin
     state                                                          pin       supply                               STATUS register @0Eh
                                         STATUS register
                                               @11h
                                             (Toggling)
                                            Unattached.
   Nothing
                  Open        Open              SNK                 HiZ        OFF                 HiZ                       00h
   attached
                                            Unattached.
                                                ACC
DS11503 - Rev 4                                                                                                                     page 43/66


                                                                                                                   STUSB1600
                                                                                                     USB Type-C typical applications
                                        Type-C device state
 Connection                               CC_OPERATION_      A_B_SIDE      VCONN                             CC_CONNECTION_
                 CC1 pin     CC2 pin                                                 VBUS_EN_SNK pin
     state                                                      pin        supply                          STATUS register @0Eh
                                           STATUS register
                                                  @11h
                    Rp     Open or Ra                           HiZ         OFF               0                     41h
    Source                                     Attached.
   attached      Open or
                                Rp                SNK             0         OFF               0                     41h
                    Ra
                  Open          Ra             (Toggling)       HiZ         OFF             HiZ                     00h
  Powered
                                              Unattached.
     cable
    without                                       SNK
    source          Ra        Open                              HiZ         OFF             HiZ                     00h
                                              Unattached.
   attached
                                                  ACC
                                               (Toggling)
    Debug
                                              Unattached.
  accessory
     mode           Rd          Rd                SNK           HiZ         OFF             HiZ                     00h
   attached
                                              Unattached.
   sink role
                                                  ACC
    Debug
                                                 Debug
  accessory
                 Rp def/     Rp def/
     mode                                   Accessory.SNK       HiZ         OFF               0                     61h
                1.5 A/ 3 A   1.5A/3A
   attached
                                             (default USB)
 source role
    Debug         Rp 3 A     Rp 1.5 A                           HiZ                                                 61h
                                                 Debug
  accessory
     mode                                   Accessory.SNK                   OFF               0
   attached     Rp 1.5 A      Rp 3 A                              0                                                 61h
                                             (Default USB)
 source role
    Debug       Rp 1.5 A     Rp def.                            HiZ                                                 61h
                                                 Debug
  accessory
     mode                                   Accessory.SNK                   OFF               0
   attached      Rp def.     Rp 1.5 A                             0                                                 61h
                                                 (1.5 A)
 source role
    Debug         Rp 3 A     Rp def.                            HiZ                                                 61h
                                                 Debug
  accessory
     mode                                   Accessory.SNK                   OFF               0
   attached      Rp def.      Rp 3 A                              0                                                 61h
                                                 (3.0 A)
 source role
    Audio
   adapter
  accessory         Ra          Ra         Audio accessory      HiZ         OFF             HiZ                     81h
     mode
   attached
                    Rd          Ra             (Toggling)       HiZ         OFF             HiZ                     00h
   VCONN-                                     Unattached.
   powered
                                                  SNK
  accessory         Ra          Rd                              HiZ         OFF             HiZ                     00h
   attached                                   Unattached.
                                                  ACC
                The value of CC1 and CC2 pins is defined from a termination perspective and corresponds to the termination
                presented by the connected device.
                The CC_CONNECTION_STATUS register can report other values than the one presented inside this table. This
                reflects the state transitions in Type-C FSM that can be ignored from the application stand point.
DS11503 - Rev 4                                                                                                           page 44/66


                                                                                                         STUSB1600
                                                                                            USB Type-C typical applications
7.2.3           Dual role type application
7.2.3.1         Application schematic in dual role type
                                     Figure 10. Implementation example in dual role type application
Note:           The schematic configuration in dead-battery mode.
DS11503 - Rev 4                                                                                                  page 45/66


                                                                                                                    STUSB1600
                                                                                                     USB Type-C typical applications
7.2.3.2         Default start-up configuration in dual role type application
                                          Table 43. Default setting for a dual role type application
                                                                                                                        I2C register
                Customization type               Parameter                        Default value and description
                                                                                                                          address
                    NVM / SW        CC_CONNECTION_STATUS_AL_MASK 1b: interrupt masked                                       0Ch
                    NVM / SW        MONITORING_STATUS_AL_MASK             1b: interrupt masked                              0Ch
                    NVM / SW        HW_FAULT_STATUS_AL_MASK               1b: interrupt masked                              0Ch
                       NVM          STANDBY_POWER_MODE_DISABLE            1b: disables standby power mode                   n. a.
                    NVM / SW        CC_CURRENT_ADVERTISED                 01b: 1.5 A                                        18h
                    NVM / SW        CC_VCONN_DISCHARGE_EN                 0b: VCONN discharge disabled on CC pin            18h
                                                                          1b: VCONN supply capability enabled on CC
                    NVM / SW        CC_VCONN_SUPPLY_EN                                                                      18h
                                                                          pin
                    NVM / SW        CC_VCONN_SWITCH_ILIM                  0000b: 350 mA                                     1Eh
                                                                          1b: enables UVLO threshold detection on
                        SW          VCONN_MONITORING_EN                                                                     20h
                                                                          VCONN pin
                        SW          VCONN_UVLO_THRESHOLD                  0b: high UVLO threshold of 4.65 V                 20h
                                                                          0101b: VSHUSBH = 5% of VBUS,
                    NVM / SW        SHIFT_HIGH_VBUS_LIMIT_SOURCE          high voltage limit VMONUSBH Source = VBUS         22h
                                                                          +10%
                                                                          0101b: VSHUSBL = 5% of VBUS, low voltage
                    NVM / SW        SHIFT_LOW_VBUS_LIMIT_SOURCE                                                             22h
                                                                          limit VMONUSBL Source = VBUS-10%
                                                                          0101b: VSHUSBH = 5% of VBUS, high
                    NVM / SW        SHIFT_HIGH_VBUS_LIMIT_SINK                                                              22h
                                                                          voltage limit VMONUSBH Sink = VBUS+10%
                                                                          1111b: VSHUSBL = 15% of VBUS, low
                    NVM / SW        SHIFT_LOW_VBUS_LIMIT_SINK                                                               22h
                                                                          voltage limit VMONUSBL Sink = VBUS-20%
                                                                          0b: device reset is performed from hardware
                        SW          SW_RESET_EN                                                                             23h
                                                                          RESET pin
                                                                          0110b:TDISPARAM = 6, discharge time
                    NVM / SW        VBUS_DISCHARGE_TIME_TO_0V                                                               25h
                                                                          TDISUSB = 504 ms
                       NVM          VBUS_DISCHARGE_DISABLE                0b: enables VBUS discharge path                   n. a.
                    NVM / SW        CC_POWER_MODE                         011b: dual power role with accessory support      28h
                                                                          0b: enables OVLO threshold detection on
                    NVM / SW        VDD_OVLO_DISABLE                                                                        2Eh
                                                                          VDD pin
                                                                          0b: enables valid VBUS voltage range
                    NVM / SW        VBUS_VALID_RANGE_DISABLE                                                                2Eh
                                                                          detection
                    NVM / SW        VBUS_VSAFE0V_THRESHOLD                00b : VBUS vSafe0V threshold = 0.6 V              2Eh
                                                                          1b: disables UVLO threshold detection on
                    NVM / SW        VDD_UVLO_DISABLE                                                                        2Eh
                                                                          VDD pin
DS11503 - Rev 4                                                                                                            page 46/66


                                                                                                                    STUSB1600
                                                                                                   USB Type-C typical applications
7.2.3.3         VBUS power path assertion in dual role
                               Table 44. Conditions for VBUS power path assertion in source power role
                                                                 Operation conditions
                               Electrical
                     Pin                                                 VDD pin        VBUS_SENSE pin                Comment
                                 value     Type-C attached state
                                                                       monitoring           monitoring
                                               Attached.SRC
                                                     or
                                             UnorientedDebug        VDD < VDDOVLO                                    The signal is
                                                                                         VBUS within valid        asserted only if all
                                   0          Accessory.SRC           if VDD pin is        voltage range          the valid operation
                                                                         supplied                                 conditions are met
                                                     or
                 VBUS_EN_SRC
                                              OrientedDebug
                                              Accessory.SRC
                                                                                                                   The signal is de-
                                                                    VDD > VDDOVLO                                  asserted when at
                                                                                        VBUS is out of valid
                                  HiZ         Any other state         if VDD pin is                              least one non-valid
                                                                                           voltage range
                                                                         supplied                               operation condition is
                                                                                                                           met
                                 Table 45. Conditions for VBUS power path assertion in sink power role
                                                               Operation conditions
                               Electrical
                     Pin                     Type-C attached        VDD pin         VBUS_SENSE pin                  Comment
                                 value
                                                   state           monitoring          monitoring
                                              Attached.SNK
                                                                                                              The signal is asserted
                                                     or                             VBUS is within valid        only if all the valid
                                   0                              Not applicable
                                                  Debug                               voltage range          operation conditions are
                                                                                                                        met
                 VBUS_EN_SNK                  Accessory.SNK
                                                                                                                 The signal is de-
                                                                                    VBUS is out of valid      asserted when at least
                                  HiZ         Any other state     Not applicable
                                                                                      voltage range          one non-valid operation
                                                                                                                 condition is met
DS11503 - Rev 4                                                                                                                page 47/66


                                                                                                          STUSB1600
                                                                                            USB Type-C typical applications
7.2.3.4         Device state according to connection state (dual role)
                                      Table 46. Dual power role with accessory support
                                  Type-C device
                                       state
                                                                                                     CC_CONNECTION_
                                        CC_
  Connect.                                         A_B_SIDE    VCONN    VBUS_EN_SRC    VBUS_EN_SNK
               CC1 pin  CC2 pin                                                                             STATUS
     state                           OPERAT_          pin      supply       pin            pin
                                                                                                         register @0Eh
                                      STATUS
                                  register @11h
                                     (Toggling)
   Nothing
                 Open    Open    Unattached.SRC       HiZ       OFF          Hiz           HiZ                00h
   attached
                                 Unattached.SNK
     Sink         Rd     Open        Attached.        HiZ       OFF           0            HiZ                2Dh
   attached      Open      Rd           SRC            0        OFF           0            HiZ                2Dh
   Powered       Open      Ra                         HiZ       OFF         HiZ            HiZ                00h
                                     (Toggling)
     cable
 without sink                    Unattached.SRC
  or source       Ra     Open                         HiZ       OFF         HiZ            HiZ                00h
                                 Unattached.SNK
   attached
   Powered        Rd       Ra                         HiZ       CC2           0            HiZ                2Fh
  cable with
      sink
 attached or                         Attached.
    VCONN         Ra       Rd           SRC            0        CC1           0            HiZ                2Fh
   powered
  accessory
   attached
    Debug
  accessory                      UnorientedDebug
     mode         Rd       Rd                         HiZ       OFF           0            Hiz                6Dh
   attached                       Accessory.SRC
   sink role
    Debug         Rd      ≤Ra                         HiZ       OFF           0            HiZ                6Dh
                                      Oriented
  accessory
     mode                              Debug
   attached      ≤Ra       Rd                          0        OFF           0            HiZ                6Dh
                                  Accessory.SRC
   sink role
    Audio
   adapter                             Audio
  accessory       Ra       Ra                         HiZ       OFF         HiZ            HiZ                81h
     mode                            Accessory
   attached
                        Open or
                  Rp                                  HiZ       OFF         HiZ             0                 41h
    Source                 Ra        Attached.
   attached    Open or                  SNK
                           Rp                          0        OFF         HiZ             0                 41h
                  Ra
    Debug       Rp def/ Rp def/
                                       Debug          HiZ       OFF         HiZ             0                 61h
  accessory 1.5 A/3 A 1.5 A/3 A
     mode                         Accessory.SNK
                Rp 3 A Rp 1.5 A                       HiZ       OFF         HiZ             0                 61h
   attached
                                   (default USB)
 source role Rp 1.5 A Rp 3 A                           0        OFF         HiZ             0                 61h
DS11503 - Rev 4                                                                                                   page 48/66


                                                                                                                    STUSB1600
                                                                                                     USB Type-C typical applications
                                      Type-C device
                                            state
                                                                                                                CC_CONNECTION_
                                            CC_
  Connect.                                              A_B_SIDE   VCONN     VBUS_EN_SRC     VBUS_EN_SNK
               CC1 pin    CC2 pin                                                                                     STATUS
    state                               OPERAT_            pin      supply         pin              pin
                                                                                                                   register @0Eh
                                         STATUS
                                      register @11h
   Debug       Rp 1.5 A    Rp def.                         HiZ       OFF           HiZ               0                  61h
                                           Debug
 accessory
   mode                               Accessory.SNK
  attached      Rp def    Rp 1.5 A                          0        OFF           HiZ               0                  61h
                                           (1.5 A)
 source role
   Debug        Rp 3 A     Rp def.                         HiZ       OFF           HiZ               0                  61h
                                           Debug
 accessory
   mode                               Accessory.SNK
  attached      Rp def.    Rp 3 A                           0        OFF           HiZ               0                  61h
                                           (3.0 A)
 source role
                The value of CC1 and CC2 pins is defined from a termination perspective and corresponds to the termination
                presented by the connected device.
                The CC_CONNECTION_STATUS register can report other values than the one presented inside this table. This
                reflects the state transitions in Type-C FSM that can be ignored from the application stand point.
DS11503 - Rev 4                                                                                                             page 49/66


                                                                                                      STUSB1600
                                                                                              Electrical characteristics
8               Electrical characteristics
8.1             Absolute maximum ratings
                All voltages are referenced to GND.
                                                       Table 47. Absolute maximum ratings
                           Symbol                                     Parameter             Value            Unit
                 VDD                          Supply voltage on VDD pin                       28
                 VSYS                         Supply voltage on VSYS pin                       6
                 VCC1, VCC2
                                              High voltage on CC pins                         22
                 VCC1DB, VCC2DB
                 VVBUS_EN_SRC
                 VVBUS_EN_SNK                 High voltage on VBUS pins                       28
                 VVBUS_SENSE
                 VSCL, VSDA
                                                                                                               V
                 VALERT#
                 VRESET
                 VATTACH
                                              Operating voltage on I/O pins                -0.3 to 6
                 VA_B_SIDE
                 VBUS_VALID
                 VDEBUG1
                 VDEBUG2
                 VCONN                        VCONN voltage                                    6
                 TSTG                         Storage temperature                         -55 to 150
                                                                                                              °C
                 TJ                           Maximum junction temperature                   145
                                              HBM                                              4
                 ESD                                                                                          kV
                                              CDM                                             1.5
DS11503 - Rev 4                                                                                               page 50/66


                                                                                          STUSB1600
                                                                                       Operating conditions
8.2             Operating conditions
                                               Table 48. Operating conditions
                          Symbol                           Parameter             Value           Unit
                VDD                Supply voltage on VDD pin                   4.1 to 22
                VSYS               Supply voltage on VSYS pin                  3.0 to 5.5
                VCC1, VCC2
                                   CC pins                                      0 to 5.5
                VCC1DB, VCC2DB
                VVBUS_EN_SRC
                VVBUS_EN_SNK       High voltage pins                            0 to 22
                VVBUS_SENSE
                VSCL, VSDA
                                                                                                   V
                VALERT#
                VRESET
                VATTACH
                                   Operating voltage on I/O pins                0 to 4.5
                VA_B_SIDE
                VVBUS_VALID
                VDEBUG1
                VDEBUG2
                VCONN              VCONN voltage                               2.7 to 5.5
                ICONN              VCONN rated current (default = 0.35 A)      0.1 to 0.6          A
                TA                 Operating temperature                      -40 to 105          °C
DS11503 - Rev 4                                                                                   page 51/66


                                                                                                                    STUSB1600
                                                                                                 Electrical and timing characteristics
8.3             Electrical and timing characteristics
                Unless otherwise specified: VDD = 5 V, TA = 25 °C, all voltages are referred to GND.
                                                       Table 49. Electrical characteristics
                     Symbol          Parameter                  Conditions                Min.         Typ.         Max.       Unit
                                                     Device idle as a SOURCE (not
                                                     connected, no communication)                      158
                                                     VSYS @ 3.3 V
                I DD(SRC)      Current consumption
                                                     Device idle as a SOURCE (not
                                                     connected, no communication)                      188
                                                     VDD @ 5.0 V
                                                     Device idle as a SINK (not
                                                     connected, no communication)                      113
                                                     VSYS @ 3.3 V
                IDD (SNK)      Current consumption                                                                              µA
                                                     Device idle as a SINK (not
                                                     connected, no communication)                      140
                                                     VDD @ 5.0 V
                                                     Device standby (not connected,
                                                     low power)                                         33
                                                     VSYS @ 3.3 V
                               Standby current
                ISTDBY
                               consumption           Device standby (not connected,
                                                     low power)                                         53
                                                     VDD @ 5.0 V
                TLOAD          I2C registers loading
                                                     at power-up after a reset                                       30         ms
                               time from NVM
                                                                  CC1 and CC2 pins
                IP-USB                                                                   -20%           80          +20%
                                                     CC pin voltage VCC = 0 to 2.6 V,
                IP-1.5         CC current sources                                         -8%          180          +8%         µA
                                                     40 °C < TA < +105 °C
                IP-3.0                                                                    -8%          330          +8%
                                                     CC unconnected, VDD = 3.0 to
                VCCO           CC open pin voltage                                        2.75                                   V
                                                     5.5 V
                               CC pull-down
                Rd                                   -40 °C < TA < +105 °C               -10%           5.1         +10%        kΩ
                               resistors
                VCCDB-1.5                            External IP = 180 μA applied into                               1.2
                                                     CC
                               CC pin voltage in
                                                     External IP = 330 μA applied into
                               dead battery                                                                                      V
                VCCDB-3.0                            CC                                                              2.0
                               condition
                                                     VDD = 0 V, dead-battery function
                                                     enabled
                                                     Pull-up and pull-down resistors
                RINCC          CC input impedance                                         200                                   kΩ
                                                     off
DS11503 - Rev 4                                                                                                             page 52/66


                                                                                                              STUSB1600
                                                                                           Electrical and timing characteristics
                   Symbol       Parameter                   Conditions                Min.       Typ.         Max.       Unit
                                                Max. Ra detection by source at
                                                IP = IP -USB,
                VTH0.2    Detection threshold 1 min. IP_USB detection by sink on      0.15       0.20          0.25        V
                                                Rd,
                                                min. CC voltage for connected
                                                sink
                                                Max. Ra detection by source at
                VTH0.4    Detection threshold 2                                       0.35       0.40          0.45        V
                                                IP = IP-1.5
                                                Min. IP_1.5 detection by sink on
                VTH0.66   Detection threshold 3                                       0.61       0.66          0.70        V
                                                Rd
                                                Max. Ra detection by source at
                VTH0.8    Detection threshold 4                                       0.75       0.80          0.85        V
                                                IP = IP-3.0
                                                Min. IP_3.0 detection by sink on
                VTH1.23   Detection threshold 5                                       1.16       1.23          1.31        V
                                                Rd
                                                Max. Rd detection by source at
                VTH1.6    Detection threshold 6                                       1.50       1.60          1.65        V
                                                IP = IP-USB and IP = IP-1.5
                                                Max. Rd detection by source at
                                                IP-3.0,
                VTH2.6    Detection threshold 7                                       2.45       2.60          2.75        V
                                                max. CC voltage for connected
                                                sink
                                                        VCONN pin and power switches
                          VCONN path            IVCONN= 0.2 A
                RVCONN                                                                0.25        0.5         0.975       Ω
                          resistance            -40 °C < TA < +105 °C
                                                                                       85        100           125
                                                Programmable current limit
                          Overcurrent
                IOCP                            threshold (from 100 mA to 600         300        350           400       mA
                          protection
                                                mA by step of 50 mA)
                                                                                      550        600           650
                          Overvoltage
                VOVP      protection on CC                                             5.9         6            6.1        V
                          output pins
                          Undervoltage          Low UVLO threshold                     2.6       2.65           2.7
                VUVP      protection on                                                                                    V
                          VCONN input pin       High UVLO threshold (default)          4.6       4.65           4.8
                                                   VDD pin monitoring (source power role)
                                                OVLO threshold detection
                VDDOVLO   Overvoltage lockout                                          5.8        6.0           6.2
                                                enabled, VDD pin supplied
                                                                                                                           V
                                                UVLO threshold detection
                VDDUVLO   Undervoltage lockout                                         3.8        3.9           4.0
                                                enabled, VDD pin supplied
                                                  VBUS_SENSE pin monitoring and driving
                          VBUS presence
                VTHUSB                          VSYS = 3.0 to 5.5 V                    3.8        3.9           4.0
                          threshold
                                                VSYS = 3.0 to 5.5 V                    0.5        0.6           0.7
                                                                                                                           V
                          VBUS safe 0 V         The threshold is programmable          0.8        0.9           1.0
                VTH0V
                          threshold (vSafe0V)   from 0.6 V to 1.8 V.                   1.1        1.2           1.3
                                                Default VTHOV = 0.6 V
                                                                                       1.7        1.8           1.9
DS11503 - Rev 4                                                                                                       page 53/66


                                                                                                                      STUSB1600
                                                                                                   Electrical and timing characteristics
                    Symbol              Parameter                   Conditions              Min.         Typ.         Max.       Unit
                                  VBUS discharge
                RDISUSB                                                                     600          700           800        Ω
                                  resistor
                                                         The coefficient TDISPARAM is
                                                         programmable by NVM
                                  VBUS discharge time                                       70*          84*           100*
                TDISUSB                                                                                                           ms
                                  to 0 V                 default TDISPARAM = 6,          TDISPARAM   TDISPARAM      TDISPARAM
                                                         TDISUSB = 504 ms
                                                         Coefficient VSHUSBH
                                                         programmable by NVM from
                                  VBUS monitoring high 1% to 15% of VBUS by step of                   VBUS +5%
                VMONUSBH                                                                                                           V
                                  threshold voltage      1%, default                                  +VSHUSBH
                                                         VMONUSBH
                                                         source/sink = VBUS+10%
                                                         Coefficient VSHUSBL
                                                         programmable by NVM from 1%
                                                         to 15% of VBUS by step of
                                  VBUS monitoring low                                                 VBUS -5%-
                VMONUSBL                                 1%, default                                                               V
                                  threshold voltage                                                    VSHUSBL
                                                         VMONUSBL Source = VBUS-10%
                                                         VMONUSBL Sink = VBUS-20%
                        Digital input/output (SCL, SDA, ALERT#, RESET, ATTACH, A_B_SIDE, VBUS_VALID, DEBUG1, DEBUG2)
                                  High level input
                VIH                                                                         1.2                                    V
                                  voltage
                                  Low level input
                VIL                                                                                                    0.35        V
                                  voltage
                                  Low level output
                VOL                                      Ioh = 3 mA                                                     0.4        V
                                  voltage
                                                  20 V open-drain outputs (VBUS_EN_SRC, VBUS_EN_SNK)
                                  Low level output
                VOL                                      Ioh = 3 mA                                                     0.4        V
                                  voltage
DS11503 - Rev 4                                                                                                               page 54/66


                                                                                                                STUSB1600
                                                                                                              Package information
9               Package information
                In order to meet environmental requirements, ST offers these devices in different grades of ECOPACK®
                packages, depending on their level of environmental compliance. ECOPACK® specifications, grade definitions
                and product status are available at: www.st.com. ECOPACK® is an ST trademark.
9.1             QFN-24 EP - pitch 0.50 mm - (4 x 4 mm) package information
                                                Figure 11. QFN-24 EP 4x4 mm package outline
DS11503 - Rev 4                                                                                                         page 55/66


                                                                                                     STUSB1600
                                                                                                  Thermal information
                                       Table 50. QFN24-EP 4x4 mm package mechanical data
                                                    mm                                 Inches
                    Symbol
                                    Min.           Typ.           Max.         Min.       Typ.             Max.
                       A            0.80           0.90           1.00         0.031      0.035            0.039
                      A1            0.00           0.02           0.05         0.000      0.001            0.002
                       b            0.18           0.25           0.30         0.007      0.010            0.012
                       D            3.95           4.00           4.05         0.156      0.157            0.159
                      D2            2.55           2.70           2.80         0.100      0.106            0.110
                       E            3.95           4.00           4.05         0.156      0.157            0.159
                      E2            2.55           2.70           2.80         0.100      0.106            0.110
                       e            0.45           0.50           0.55         0.018      0.020            0.022
                       K            0.15             -              -          0.006        -                -
                       L            0.30           0.40           0.50        0.0012     0.0016            0.020
                                        Figure 12. QFN24 EP 4x4 mm recommended footprint
9.2             Thermal information
                                                      Table 51. Thermal information
                   Symbol                                    Parameter                          Value        Unit
                    RθJA    Junction-to-ambient thermal resistance                               37          °C/W
                    RθJC    Junction-to-case thermal resistance                                   5          °C/W
DS11503 - Rev 4                                                                                             page 56/66


                                                                                                                           STUSB1600
                                                                                                                    Terms and abbreviations
10              Terms and abbreviations
                                                   Table 52. List of terms and abbreviations
                   Term                                                       Description
                           Audio adapter accessory mode. It is defined by the presence of Ra/Ra on CC1/CC2 pins.
                 Accessory
                  modes    Debug accessory mode. It is defined by the presence of Rd/Rd on CC1/CC2 pins in source power role or
                           Rp/Rp on CC1/CC2 pins in sink power role
                           Downstream facing port, specifically associated with the flow of data in a USB connection. Typically the ports
                   DFP     on a host or the ports on a hub to which devices are connected. In its initial state, the DFP sources VBUS and
                           VCONN, and supports data
                   DRP     Dual-role port. A port that can operate as either a source or a sink. The port role may be changed dynamically
                   Sink    Port asserting Rd on CC pins and consuming power from VBUS; most commonly a device
                  Source   Port asserting Rp on CC pins and providing power over VBUS; most commonly a host or hub DFP
                           Upstream facing port, specifically associated with the flow of data in a USB connection. The port on a device
                   UFP
                           or a hub that connects to a host or the DFP of a hub. In its initial state, the UFP sinks VBUS and supports data
DS11503 - Rev 4                                                                                                                   page 57/66


                                                                                          STUSB1600
                                                                                       Ordering information
11              Ordering information
                                           Table 53. Ordering information
                   Order code   USB Type-C            Rp default          Package          Marking
                 STUSB1600AQTR  Rev1.2+ECN              1.5 A          QFN24 EP 4x4 mm       1600A
DS11503 - Rev 4                                                                                   page 58/66


                                                                                                                            STUSB1600
Revision history
                                                      Table 54. Document revision history
                    Date    Revision                                                 Changes
                30-Nov-2016    1     Initial release.
                                     Updated: title, features, description and Table 1 in cover page.
                                     Updated Table 17, Table 20, Table 27, Table 31, Table 32, Table 35, Table 37, Table 38, Table 41,
                05-Sep-2017    2
                                     Table 44, Table 48 and Table 49.
                                     Updated Section 3.2.3, Section 5.1.4, Section 5.1.6, Section 5.1.12, Section 5.1.13, Section 5.1.19.
                                     Updated: title, features, description and Table 1 in cover page.
                                     Updated Table 26. CC_CAPABILITY_CTRL register, Table 31. VBUS_DISCHARGE_TIME_CTRL
                                     register, Table 36. STUSB1600 user-defined parameters and default settings, Table 37. Default
                22-Jun-2018    3
                                     setting for a source type application, Table 40. Default setting for a sink type application, Table 43.
                                     Default setting for a dual role type application and Table 49. Electrical characteristics.
                                     Minor text changes.
                                     Updated Section 7.1.2 Connection to MCU or application processor and Table 49. Electrical
                10-Oct-2019    4
                                     characteristics.
DS11503 - Rev 4                                                                                                                      page 59/66


                                                                                                                                                   STUSB1600
                                                                                                                                                               Contents
Contents
1      Functional description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
       1.1      Block overview. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2      Inputs / outputs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .3
       2.1      Pinout . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
       2.2      Pin list . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
       2.3      Pin description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
                2.3.1       CC1 / CC2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
                2.3.2       CC1DB / CC2DB. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
                2.3.3       VCONN. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
                2.3.4       RESET . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
                2.3.5       I²C interface pins. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.6       GND . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.7       VBUS_VALID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.8       ATTACH . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.9       DEBUG pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.10      A_B_SIDE. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.11      VBUS_SENSE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.12      VBUS_EN_SNK . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
                2.3.13      VBUS_EN_SRC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
                2.3.14      VREG_1V2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
                2.3.15      VSYS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
                2.3.16      VREG_2V7 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
                2.3.17      VDD . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
3      Features description. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
       3.1      CC interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
       3.2      VBUS power path control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
                3.2.1       VBUS monitoring . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
                3.2.2       VBUS discharge . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
                3.2.3       VBUS power path assertion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
       3.3      VCONN supply . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
DS11503 - Rev 4                                                                                                                                               page 60/66


                                                                                                                                             STUSB1600
                                                                                                                                                         Contents
                3.3.1    VCONN input voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
                3.3.2    VCONN application conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
                3.3.3    VCONN monitoring . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
                3.3.4    VCONN discharge . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
                3.3.5    VCONN control and status . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
                3.3.6    VCONN power switches . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
       3.4      Low power standby mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
       3.5      Dead-battery mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
       3.6      High voltage protection. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
       3.7      Hardware fault management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
       3.8      Accessory mode detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
                3.8.1    Audio accessory mode detection. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
                3.8.2    Debug accessory mode detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
4      I²C Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .17
       4.1      Read and write operations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
       4.2      Timing specifications. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
5      Register map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .20
       5.1      Register description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
                5.1.1    ALERT_STATUS. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
                5.1.2    ALERT_STATUS_MASK_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
                5.1.3    CC_CONNECTION_STATUS_TRANS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
                5.1.4    CC_CONNECTION_STATUS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
                5.1.5    MONITORING_STATUS_TRANS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
                5.1.6    MONITORING_STATUS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
                5.1.7    CC_OPERATION_STATUS. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
                5.1.8    HW_FAULT_STATUS_TRANS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
                5.1.9    HW_FAULT_STATUS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
                5.1.10   CC_CAPABILITY_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
                5.1.11   CC_VCONN_SWITCH_CTRL. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
                5.1.12   VCONN_MONITORING_CTRL. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
                5.1.13   VBUS_MONITORING_RANGE_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
                5.1.14   RESET_CTRL. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
DS11503 - Rev 4                                                                                                                                         page 61/66


                                                                                                                                             STUSB1600
                                                                                                                                                         Contents
                5.1.15   VBUS_DISCHARGE_TIME_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
                5.1.16   VBUS_DISCHARGE_STATUS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
                5.1.17   VBUS_ENABLE_STATUS. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
                5.1.18   CC_POWER_MODE_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
                5.1.19   VBUS_MONITORING_CTRL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
6      Start-up configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .36
       6.1      User-defined parameters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36
       6.2      Default start-up configuration. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36
7      Application . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .38
       7.1      General information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38
                7.1.1    Power supplies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38
                7.1.2    Connection to MCU or application processor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38
       7.2      USB Type-C typical applications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39
                7.2.1    Source type application. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39
                7.2.2    Sink type application . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42
                7.2.3    Dual role type application . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44
8      Electrical characteristics. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .50
       8.1      Absolute maximum ratings. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50
       8.2      Operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50
       8.3      Electrical and timing characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52
9      Package information. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .55
       9.1      QFN-24 EP - pitch 0.50 mm - (4 x 4 mm) package information. . . . . . . . . . . . . . . . . . . . . . . . 55
       9.2      Thermal information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56
10     Terms and abbreviations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .57
11     Ordering information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .58
Revision history . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .59
DS11503 - Rev 4                                                                                                                                         page 62/66


                                                                                                                                                    STUSB1600
                                                                                                                                                           List of tables
List of tables
Table 1.     Pin functions list . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
Table 2.     Legend . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
Table 3.     I2C interface pin list . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Table 4.     Debug pin list . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Table 5.     USB data MUX select. . . . . . . . . . . . . . . . . . . . . . . . . . . . .         . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Table 6.     Conditions for VBUS power path assertion in source power role                        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
Table 7.     Conditions for VBUS power path assertion in sink power role . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11
Table 8.     Fault management conditions . . . . . . . . . . . . . . . . . . . . . . .            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
Table 9.     Orientation and current capability detection in sink power role .                    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
Table 10.    Orientation detection in source power role. . . . . . . . . . . . . . .              . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
Table 11.    Device address format . . . . . . . . . . . . . . . . . . . . . . . . . . . .        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
Table 12.    Register address format . . . . . . . . . . . . . . . . . . . . . . . . . . .        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
Table 13.    Register data format. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
Table 14.    I²C timing parameters - VDD = 5 V . . . . . . . . . . . . . . . . . . . .            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
Table 15.    Register access legend . . . . . . . . . . . . . . . . . . . . . . . . . . .         . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
Table 16.    STUSB1600 register map overview . . . . . . . . . . . . . . . . . . .                . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
Table 17.    ALERT_STATUS register . . . . . . . . . . . . . . . . . . . . . . . . . .            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
Table 18.    ALERT_STATUS_MASK_CTRL register . . . . . . . . . . . . . . . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
Table 19.    CC_CONNECTION_STATUS_TRANS register . . . . . . . . . . .                            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
Table 20.    CC_CONNECTION_STATUS register. . . . . . . . . . . . . . . . . .                     . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
Table 21.    MONITORING_STATUS_TRANS register . . . . . . . . . . . . . . .                       . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
Table 22.    MONITORING_STATUS register . . . . . . . . . . . . . . . . . . . . .                 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
Table 23.    CC_OPERATION_STATUS register . . . . . . . . . . . . . . . . . . .                   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
Table 24.    HW_FAULT_STATUS_TRANS register . . . . . . . . . . . . . . . . .                     . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Table 25.    HW_FAULT_STATUS register . . . . . . . . . . . . . . . . . . . . . . .               . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Table 26.    CC_CAPABILITY_CTRL register . . . . . . . . . . . . . . . . . . . . .                . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Table 27.    CC_VCONN_SWITCH_CTRL register . . . . . . . . . . . . . . . . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Table 28.    VCONN_MONITORING_CTRL register . . . . . . . . . . . . . . . .                       . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Table 29.    VBUS_MONITORING_RANGE_CTRL register . . . . . . . . . . .                            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
Table 30.    RESET_CTRL register . . . . . . . . . . . . . . . . . . . . . . . . . . . .          . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
Table 31.    VBUS_DISCHARGE_TIME_CTRL register . . . . . . . . . . . . . .                        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
Table 32.    VBUS_DISCHARGE_STATUS register . . . . . . . . . . . . . . . . .                     . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
Table 33.    VBUS_ENABLE_STATUS register . . . . . . . . . . . . . . . . . . . .                  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
Table 34.    CC_POWER_MODE_CTRL register . . . . . . . . . . . . . . . . . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
Table 35.    VBUS_MONITORING_CTRL register . . . . . . . . . . . . . . . . . .                    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
Table 36.    STUSB1600 user-defined parameters and default settings . . .                         . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36
Table 37.    Default setting for a source type application. . . . . . . . . . . . . .             . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39
Table 38.    Conditions for VBUS power path assertion in source power role                        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40
Table 39.    Source power role with accessory support. . . . . . . . . . . . . . .                . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40
Table 40.    Default setting for a sink type application . . . . . . . . . . . . . . .            . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42
Table 41.    Conditions for VBUS power path assertion in sink power role . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43
Table 42.    Sink power role with accessory support . . . . . . . . . . . . . . . .               . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43
Table 43.    Default setting for a dual role type application . . . . . . . . . . . .             . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46
Table 44.    Conditions for VBUS power path assertion in source power role                        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47
Table 45.    Conditions for VBUS power path assertion in sink power role . .                      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47
Table 46.    Dual power role with accessory support . . . . . . . . . . . . . . . .               . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48
Table 47.    Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . .           . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50
Table 48.    Operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . .       . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51
Table 49.    Electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . .     . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52
Table 50.    QFN24-EP 4x4 mm package mechanical data . . . . . . . . . . .                        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56
Table 51.    Thermal information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56
DS11503 - Rev 4                                                                                                                                                 page 63/66


                                                                                                                                               STUSB1600
                                                                                                                                                      List of tables
Table 52.    List of terms and abbreviations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57
Table 53.    Ordering information. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58
Table 54.    Document revision history . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59
DS11503 - Rev 4                                                                                                                                           page 64/66


                                                                                                                                                  STUSB1600
                                                                                                                                                        List of figures
List of figures
Figure 1.       Functional block diagram . . . . . . . . . . . . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Figure 2.       STUSB1600 pin connections . . . . . . . . . . . . . . . . . . . . . . .           . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Figure 3.       VCONN to CC1 and CC2 power switch protections . . . . . . . . .                   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
Figure 4.       Read operation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
Figure 5.       Write operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
Figure 6.       I²C timing diagram. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
Figure 7.       I²C register initialization sequence at power-up or after a reset                 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38
Figure 8.       Implementation example in source type application . . . . . . . .                 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39
Figure 9.       Implementation example in sink type application . . . . . . . . . .               . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42
Figure 10.      Implementation example in dual role type application. . . . . . .                 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45
Figure 11.      QFN-24 EP 4x4 mm package outline. . . . . . . . . . . . . . . . . .               . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55
Figure 12.      QFN24 EP 4x4 mm recommended footprint . . . . . . . . . . . . .                   . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56
DS11503 - Rev 4                                                                                                                                               page 65/66


                                                                                                                                             STUSB1600
                                                       IMPORTANT NOTICE – PLEASE READ CAREFULLY
 STMicroelectronics NV and its subsidiaries (“ST”) reserve the right to make changes, corrections, enhancements, modifications, and improvements to ST
 products and/or to this document at any time without notice. Purchasers should obtain the latest relevant information on ST products before placing orders. ST
 products are sold pursuant to ST’s terms and conditions of sale in place at the time of order acknowledgement.
 Purchasers are solely responsible for the choice, selection, and use of ST products and ST assumes no liability for application assistance or the design of
 Purchasers’ products.
 No license, express or implied, to any intellectual property right is granted by ST herein.
 Resale of ST products with provisions different from the information set forth herein shall void any warranty granted by ST for such product.
 ST and the ST logo are trademarks of ST. For additional information about ST trademarks, please refer to www.st.com/trademarks. All other product or service
 names are the property of their respective owners.
 Information in this document supersedes and replaces information previously supplied in any prior versions of this document.
                                                          © 2019 STMicroelectronics – All rights reserved
DS11503 - Rev 4                                                                                                                                        page 66/66


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
STMicroelectronics:
 STUSB1600AQTR
