                                                                                                                                                                                                      CY7C68033
                                                                                                                                                                                                      CY7C68034
                                                                                                      EZ-USB® NX2LP-Flex™ Flexible USB
                                                                                                                  NAND Flash Controller
EZ-USB® NX2LP-Flex™ Flexible USB NAND Flash Controller
CY7C68033/CY7C68034 Silicon Features                                                                                    ■         Integrated, industry-standard enhanced 8051
                                                                                                                                  ❐ 48-MHz, 24-MHz, or 12-MHz CPU operation
■      Certified compliant for bus- or self-powered USB 2.0 operation                                                             ❐ Four clocks for each instruction cycle
       (TID# 40490118)                                                                                                            ❐ Three counter/timers
■      Single-chip, integrated USB 2.0 transceiver and smart SIE                                                                  ❐ Expanded interrupt system
                                                                                                                                  ❐ Two data pointers
■      Ultra low power – 43 mA typical current draw in any mode
                                                                                                                        ■         3.3-V operation with 5 V tolerant inputs
■      Enhanced 8051 core
                                                                                                                        ■         Vectored USB interrupts and GPIF/FIFO interrupts
       ❐ Firmware runs from internal RAM that is downloaded from
         NAND Flash at startup                                                                                          ■         Separate data buffers for the setup and data portions of a
       ❐ No external EEPROM required                                                                                              control transfer
■      15 KBytes of on-chip code/data RAM                                                                               ■         Integrated I2C controller, runs at 100 or 400 kHz
       ❐ Default NAND firmware – 8 kB
                                                                                                                        ■         Four integrated FIFOs
       ❐ Default free space – 7 kB
                                                                                                                                  ❐ Integrated glue logic and FIFOs lower system cost
■      Four programmable bulk/interrupt/isochronous endpoints                                                                     ❐ Automatic conversion to and from 16-bit buses
       ❐ Buffering options: double, triple, and quad                                                                              ❐ Master or slave operation
■      Additional programmable (bulk/interrupt) 64-byte endpoint                                                                  ❐ Uses external clock or asynchronous strobes
                                                                                                                                  ❐ Easy interface to ASIC and DSP ICs
■      SmartMedia standard hardware ECC generation with 1-bit
       correction and 2-bit detection                                                                                   ■         Available in space saving 56-pin QFN package
■      General programmable interface (GPIF)                                                                            CY7C68034 Only Silicon Features
       ❐ Enables direct connection to most parallel interfaces
                                                                                                                        ■         Ideal for battery powered applications
       ❐ Programmable waveform descriptors and configuration
         registers to define waveforms                                                                                            ❐ Suspend current: 100 μA (typ)
       ❐ Supports multiple ready (RDY) inputs and control (CTL)
         outputs                                                                                                        CY7C68033 Only Silicon Features
■      12 fully programmable general purpose I/O (GPIO) pins                                                            ■         Ideal for non-battery powered applications
                                                                                                                                  ❐ Suspend current: 300 μA (typ)
Logic Block Diagram                                                                                                                                       High-performance,
                                                                       24 MHz                                                                            enhanced 8051 core
                                                                       Ext. Xtal                                                                        with low power options
                                                                                                      NX2LP-Flex
                                                                                   /0.5            8051 Core
                                                                         x 20
                                                                                   /1.0
                                                                         PLL                        12/24/48 MHz,                                                    I 2C
                                                                                   /2.0
                                                                                                  four clocks/cycle                                                 Master
                                                              VCC
                   Connected for                                                                                                                                Additional I/Os
                                                                1.5k
                                                                                                                            Address (16)/Data Bus (8)
                  full speed USB
                                                                                                       NAND
                                                                                                     Boot Logic                                                                             General Programmable
                                                                                                      (ROM)                                                                                 I/F to ASIC/DSP or bus
                                                                                                                                                                                            standards such as 8-bit
                                                                                                                                                                     GPIF                   NAND, EPP, and so on.
                                                                                                                                                                                  RDY (2)
                                                         D+         USB                                       15 kB
                                                                                        CY                                                              ECC                       CTL (3)
                                                                     2.0
                                                         D–                           Smart                   RAM
                                                                    XCVR
                                                                                       USB
                                                                                      1.1/2.0                                                                                               Up to 96 MB/s burst rate
        Integrated full- and                                                          Engine
         high speed XCVR                                                                                                                                             4 kB           8/16
                                                                                                                                                                     FIFO
                                                                    Enhanced USB core            ‘Soft Configuration’ enables                               FIFO and USB endpoint memory
                                                                    simplifies 8051 code           easy firmware changes                                       (master or slave modes)
Cypress Semiconductor Corporation                                                         •     198 Champion Court                                      •      San Jose, CA 95134-1709               •    408-943-2600
Document Number: 001-04247 Rev. *O                                                                                                                                                                 Revised May 30, 2017


                                                                                                              CY7C68033
                                                                                                              CY7C68034
Default NAND Firmware Features                                 ■  Industry standard (SmartMedia) page management for wear
                            ®                                     leveling algorithm, bad block handling, and physical to logical
Because the NX2LP-Flex is intended for NAND Flash-based
                                                                  management.
USB mass storage applications, a default firmware image is
included in the development kit with the following features:   ■  8-bit NAND Flash interface support
■ High-Speed (480 Mbps) or Full-Speed (12 Mbps) USB support    ■  Support for 30 ns, 50 ns, and 100 ns NAND Flash timing
■ NAND sizes supported per chip select                         ■  Complies with the USB mass storage class specification
  ❐ 512 bytes for up to 1 Gb capacity                             revision 1.0
  ❐ 2K bytes for up to 8 Gb capacity                           The default firmware image implements a USB 2.0 NAND Flash
  ❐ 4K bytes for up to 16 Gb capacity                          controller. This controller adheres to the Mass Storage Class
■ 12 configurable GPIO pins                                    Bulk-Only Transport Specification. The USB port of the
                                                               NX2LP-Flex is connected to a host computer directly or through
  ❐ Two dedicated chip enable (CE#) pins
                                                               the downstream port of a USB hub. The host software issues
  ❐ Six configurable CE#/GPIO pins                             commands and data to the NX2LP-Flex and receives status and
     • Up to eight NAND Flash single-device (single-die) chips data from the NX2LP-Flex using standard USB protocol.
       are supported
                                                               The default firmware image supports industry leading 8-bit
     • Up to four NAND Flash dual-device (dual-die) chips are  NAND Flash interfaces and both common NAND page sizes of
       supported                                               512 and 2k bytes. Up to eight CE# pins enable the NX2LP-Flex
     • Compile option enables unused CE# pins to be configured to be connected to up to eight single or four dual-die NAND Flash
       as GPIOs                                                chips.
  ❐ Four dedicated GPIO pins
                                                               Complete source code and documentation for the default
■ Industry-standard ECC NAND flash correction                  firmware image are included in the NX2LP-Flex development kit
  ❐ 1-bit error correction for every 256 bytes                 to enable customization for meeting design requirements.
  ❐ 2-bit error detection for every 256 bytes
                                                               Additionally, compile options for the default firmware enable
                                                               quick configuration of some features to decrease design effort
                                                               and increase time-to-market advantages.
Document Number: 001-04247 Rev. *O                                                                                   Page 2 of 40


                                                                                                                                                    CY7C68033
                                                                                                                                                    CY7C68034
Contents
Overview ............................................................................ 4 AC Electrical Characteristics ........................................ 29
Applications ...................................................................... 4       USB Transceiver ....................................................... 29
Functional Overview ........................................................ 4              Slave FIFO Asynchronous Read ............................... 29
    USB Signaling Speed .................................................. 4                Slave FIFO Asynchronous Write ............................... 29
    8051 Microprocessor ................................................... 4               Slave FIFO Asynchronous Packet End Strobe ......... 30
    I2C Bus ........................................................................ 5      Slave FIFO Output Enable ........................................ 30
    Buses .......................................................................... 6      Slave FIFO Address to Flags/Data ............................ 31
    Enumeration ................................................................ 6          Slave FIFO Asynchronous Address .......................... 31
    Default Silicon ID Values ............................................. 7               Sequence Diagram .................................................... 32
    ReNumeration™ .......................................................... 7          Ordering Information ...................................................... 34
    Bus-powered Applications ........................................... 7                  Ordering Code Definitions ......................................... 34
    Interrupt System .......................................................... 7       Package Diagrams .......................................................... 35
    Reset and Wakeup ...................................................... 9           PCB Layout Recommendations .................................... 36
    Program/Data RAM ................................................... 10             Quad Flat Package No Leads (QFN)
    Register Addresses ................................................... 10           Package Design Notes ................................................... 36
    Endpoint RAM ........................................................... 11         Acronyms ........................................................................ 38
    External FIFO Interface ............................................. 13            Document Conventions ................................................. 38
    GPIF .......................................................................... 13      Units of Measure ....................................................... 38
    ECC Generation[5] ..................................................... 13          Document History Page ................................................. 39
    Autopointer Access ................................................... 14           Sales, Solutions, and Legal Information ...................... 40
    I2C Controller ............................................................ 14          Worldwide Sales and Design Support ....................... 40
Pin Assignments ............................................................ 15             Products .................................................................... 40
Register Summary .......................................................... 21              PSoC® Solutions ...................................................... 40
Absolute Maximum Ratings .......................................... 28                      Cypress Developer Community ................................. 40
Operating Conditions ..................................................... 28               Technical Support ..................................................... 40
DC Electrical Characteristics ........................................ 28
    USB Transceiver ....................................................... 28
Document Number: 001-04247 Rev. *O                                                                                                                            Page 3 of 40


                                                                                                                                                CY7C68033
                                                                                                                                                CY7C68034
Overview                                                               Figure 1. Example DVB Block Diagram
Cypress Semiconductor Corporation’s EZ-USB® NX2LP-Flex
(CY7C68033/CY7C68034) is a firmware-based, programmable                          NAND-Based                      Buttons
version of the EZ-USB NX2LP (CY7C68023/CY7C68024),                                DVB Unit
which is a fixed-function, low power USB 2.0 NAND Flash                                                             I/O
controller. By integrating the USB 2.0 transceiver, serial interface
engine (SIE), enhanced 8051 microcontroller, and a program-                         LCD              I/O                         CTL
mable peripheral interface in a single chip, Cypress has created                                                 NX2LP-         CE[7:0]
                                                                                                                                              NAND Bank(s)
a very cost-effective solution that enables feature-rich NAND                                                     Flex
                                                                                        D+/-
                                                                                                                                  I/O
Flash-based applications.
The ingenious architecture of NX2LP-Flex results in USB data                                                        I/O
transfer rates of over 53 Mbytes per second, the maximum
allowable USB 2.0 bandwidth, while still using a low cost 8051                                                    DVB
                                                                                 Audio / Video I/O
microcontroller in a small 56-pin QFN package. Because it                                                        Decoder
incorporates the USB 2.0 transceiver, the NX2LP-Flex is more
economical, providing a smaller footprint solution than external
USB 2.0 SIE or transceiver implementations. With EZ-USB
NX2LP-Flex, the Cypress Smart SIE handles most of the USB              Figure 2. Example GPS Block Diagram
1.1 and 2.0 protocol, freeing the embedded microcontroller for
application-specific functions and decreasing development time
                                                                                    NAND-Based                     Buttons
while ensuring USB compatibility.
                                                                                     GPS Unit
The GPIF and master/slave endpoint FIFO (8- or 16-bit data bus)
                                                                                                                          I/O
provide an easy and glueless interface to popular interfaces such
as UTOPIA, EPP, I2C, PCMCIA, and most DSP processors.
                                                                                        LCD                I/O                          CTL
                                                                                                                   NX2LP-                      NAND Bank(s)
Applications                                                                                                        Flex
                                                                                                                                   CE[7:0]
                                                                                            D+/-
                                                                                                                                        I/O
The NX2LP-Flex enables designers to add extra functionality to
basic NAND Flash mass storage designs, or to interface them                                                               I/O
with other peripheral devices. Applications may include:
■   NAND Flash-based GPS devices                                                                                    GPS
■   NAND Flash-based DVB video capture devices
■   Wireless pointer/presenter tools with NAND Flash storage
                                                                       The “Reference Designs” section of the Cypress web site
■   NAND Flash-based MPEG/TV conversion devices                        provides additional tools for typical USB 2.0 applications. Each
                                                                       reference design comes complete with firmware source and
■   Legacy conversion devices with NAND Flash storage                  object code, schematics, and documentation.
■   NAND Flash-based cameras
                                                                       Functional Overview
■   NAND Flash mass storage device with biometric (for example,
    fingerprint) security                                              USB Signaling Speed
■   Home PNA devices with NAND Flash storage                           NX2LP-Flex operates at two of the three rates defined in the USB
                                                                       Specification Revision 2.0, dated April 27, 2000:
■   Wireless LAN with NAND Flash storage
                                                                       ■   Full speed, with a signaling bit rate of 12 Mbps
■   NAND Flash-based MP3 players
                                                                       ■   High speed, with a signaling bit rate of 480 Mbps.
■   LAN networking with NAND Flash storage
                                                                       NX2LP-Flex does not support the low speed signaling mode of
                                                                       1.5 Mbps.
                                                                       8051 Microprocessor
                                                                       The 8051 microprocessor embedded in the NX2LP-Flex has
                                                                       256 bytes of register RAM, an expanded interrupt system and
                                                                       three timer/counters.
Document Number: 001-04247 Rev. *O                                                                                                                     Page 4 of 40


                                                                                                                CY7C68033
                                                                                                                CY7C68034
8051 Clock Frequency                                             Special Function Registers
NX2LP-Flex has an on-chip oscillator circuit that uses an        Certain 8051 SFR addresses are populated to provide fast
external 24 MHz (±100 ppm) crystal with the following            access to critical NX2LP-Flex functions. These SFR additions
characteristics:                                                 are shown in Table 1 on page 6. Bold type indicates
                                                                 non-standard, enhanced 8051 registers. The two SFR rows that
■  Parallel resonant                                             end with ‘0’ and ‘8’ contain bit-addressable registers. The four I/O
■  Fundamental mode                                              ports A–D use the SFR addresses used in the standard 8051 for
                                                                 ports 0–3, which are not implemented in NX2LP-Flex. Because
■  500 μW drive level                                            of the faster and more efficient SFR addressing, the NX2LP-Flex
■  12 pF (5% tolerance) load capacitors.                         I/O ports are not addressable in external RAM space (using the
                                                                 MOVX instruction).
An on-chip PLL multiplies the 24-MHz oscillator up to 480 MHz,
as required by the transceiver/PHY, and internal counters divide I2C Bus
it down for use as the 8051 clock. The default 8051 clock
                                                                 NX2LP supports the I2C bus as a master only at 100/400 kHz.
frequency is 12 MHz. The clock frequency of the 8051 can be
                                                                 SCL and SDA pins have open-drain outputs and hysteresis
changed by the 8051 through the CPUCS register, dynamically
                                                                 inputs. These signals must be pulled up to 3.3 V, even if no I2C
Figure 3. Crystal Configuration                                  device is connected. The I2C bus is disabled at startup and only
                      C1 24 MHz C2                               available for use after the initial NAND access.
                     12 pF              12 pF
                            20 × PLL
       12-pF capacitor values assumes a trace capacitance
              of 3 pF per side on a four-layer FR4 PCA
Document Number: 001-04247 Rev. *O                                                                                     Page 5 of 40


                                                                                                                   CY7C68033
                                                                                                                   CY7C68034
Table 1. Special Function Registers
    x              8x             9x                    Ax                    Bx               Cx         Dx         Ex      Fx
    0             IOA            IOB                   IOC                   IOD            SCON1        PSW        ACC      B
    1              SP            EXIF               INT2CLR                  IOE            SBUF1
    2            DPL0          MPAGE                INT4CLR                 OEA
    3            DPH0                                                       OEB
    4            DPL1                                                       OEC
    5            DPH1                                                       OED
    6             DPS                                                       OEE
    7           PCON
    8           TCON           SCON0                    IE                    IP            T2CON      EICON        EIE     EIP
    9           TMOD           SBUF0
    A             TL0       AUTOPTRH1             EP2468STAT             EP01STAT          RCAP2L
    B             TL1       AUTOPTRL1            EP24FIFOFLGS            GPIFTRIG          RCAP2H
    C             TH0        RESERVED            EP68FIFOFLGS                                 TL2
    D             TH1       AUTOPTRH2                                  GPIFSGLDATH            TH2
    E          CKCON        AUTOPTRL2                                 GPIFSGLDATLX
    F                        RESERVED           AUTOPTRSETUP        GPIFSGLDATLNOX
Buses
The NX2LP-Flex features an 8- or 16-bit ‘FIFO’ bidirectional data bus, multiplexed on I/O ports B and D.
The default firmware image implements an 8-bit data bus in GPIF master mode. It is recommended that additional interfaces added
to the default firmware image use this 8-bit data bus.
Enumeration
During the startup sequence, internal logic checks for the presence of NAND Flash with valid firmware. If valid firmware is found, the
NX2LP-Flex loads it and operates according to the firmware. If no NAND Flash is detected, or if no valid firmware is found, the
NX2LP-Flex uses the default values from internal ROM space for manufacturing mode operation. The two modes of operation are
described in the section Normal Operation Mode on page 7 and Manufacturing Mode on page 7.
Document Number: 001-04247 Rev. *O                                                                                      Page 6 of 40


                                                                                                                CY7C68033
                                                                                                                CY7C68034
Figure 4. NX2LP-Flex Enumeration Sequence                        Default Silicon ID Values
                                                                 To facilitate proper USB enumeration when no programmed
                             Start-up                            NAND Flash is present, the NX2LP-Flex has default silicon ID
                                                                 values stored in ROM space. The default silicon ID values should
                                                                 only be used for development purposes. Designers must use
                                                                 their own Vendor ID for final products. A Vendor ID is obtained
                                                                 through registration with the USB Implementor’s Forum
                                                                 (USB-IF). If the NX2LP-Flex is used as a mass storage class
                Yes        NAND Flash         No                 device, a unique USB serial number is required for each device
                            Present?                             to comply with the USB Mass Storage class specification.
                                                                 Cypress provides all the software tools and drivers necessary to
                                                                 properly programme and test the NX2LP-Flex. Refer to the
                                                                 documentation in the development kit for more information on
                                                                 these topics.
                                                                 Table 2. Default Silicon ID Values
           NAND Flash          No
         Programmed?                                                                    Default VID/PID/DID
                                                                  Vendor ID           0x04B4     Cypress Semiconductor
       Yes                                                        Product ID          0x8613     EZ-USB® Default
                                                                  Device release      0xAnnn     Depends on chip revision
                                                                                                 (nnn = chip revision, where first
                                                                                                 silicon = 001)
                                           Load Default
         Load Firmware
                                         Descriptors and
           From NAND
                                        Configuration Data       ReNumeration™
                                                                 Cypress’s ReNumeration feature is used in conjunction with the
                                                                 NX2LP-Flex manufacturing software tools to enable first-time
                                                                 NAND programming. It is only available when used in
                                                                 conjunction with the NX2LP-Flex manufacturing tools, and is not
                                                                 enabled during normal operation.
           Enumerate                      Enumerate As
          According To                    Unprogrammed           Bus-powered Applications
            Firmware                       NX2LP-Flex
                                                                 The NX2LP-Flex fully supports bus-powered designs by
                                                                 enumerating with less than 100 mA, as required by the USB 2.0
                                                                 specification.
                                                                 Interrupt System
        Normal Operation                  Manufacturing
               Mode                           Mode               INT2 Interrupt Request and Enable Registers
                                                                 NX2LP-Flex implements an autovector feature for INT2 and
                                                                 INT4. There are 27 INT2 (USB) vectors and 14 INT4
Normal Operation Mode
                                                                 (FIFO/GPIF) vectors. For more details, refer to the EZ-USB
In normal operation mode, the NX2LP-Flex behaves as a            Technical Reference Manual (TRM).
USB 2.0 Mass Storage Class NAND Flash controller. This
                                                                 USB-Interrupt Autovectors
includes all typical USB device states (powered, configured, and
so on). The USB descriptors are returned according to the data   The main USB interrupt is shared by 27 interrupt sources. To
stored in the configuration data memory area. Normal read and    save the code and processing time normally required to identify
write access to the NAND Flash is available in this mode.        the individual USB interrupt source, the NX2LP-Flex provides a
                                                                 second level of interrupt vectoring, called Autovectoring. When
Manufacturing Mode                                               a USB interrupt is asserted, the NX2LP-Flex pushes the program
In manufacturing mode, the NX2LP-Flex enumerates using the       counter to its stack and then jumps to address 0x0500; it expects
default descriptors and configuration data that are stored in    to find a ‘jump’ instruction to the USB Interrupt service routine
internal ROM space. This mode enables for first time             here.
programming of the configuration data memory area, and board     Developers familiar with Cypress’s programmable USB devices
level manufacturing tests.                                       should note that these interrupt vector values differ from those
                                                                 used in other EZ-USB microcontrollers. This is due to the
                                                                 additional NAND boot logic that is present in the NX2LP-Flex
                                                                 ROM space. Also, these values are fixed and cannot be changed
                                                                 in the firmware.
Document Number: 001-04247 Rev. *O                                                                                     Page 7 of 40


                                                                                                                 CY7C68033
                                                                                                                 CY7C68034
Table 3. INT2 USB Interrupts
                                                   USB Interrupt Table For INT2
       Priority       INT2VEC Value               Source                                          Notes
           1               0x500       SUDAV                         Setup data available
           2               0x504       SOF                           Start of frame (or microframe)
           3               0x508       SUTOK                         Setup token received
           4              0x50C        SUSPEND                       USB suspend request
           5               0x510       USB RESET                     Bus reset
           6               0x514       HISPEED                       Entered high speed operation
           7               0x518       EP0ACK                        NX2LP ACK’d the CONTROL handshake
           8              0x51C                                      Reserved
           9               0x520       EP0-IN                        EP0-IN ready to be loaded with data
          10               0x524       EP0-OUT                       EP0-OUT has USB data
          11               0x528       EP1-IN                        EP1-IN ready to be loaded with data
          12              0x52C        EP1-OUT                       EP1-OUT has USB data
          13               0x530       EP2                           IN: buffer available. OUT: buffer has data
          14               0x534       EP4                           IN: buffer available. OUT: buffer has data
          15               0x538       EP6                           IN: buffer available. OUT: buffer has data
          16              0x53C        EP8                           IN: buffer available. OUT: buffer has data
          17               0x540       IBN                           IN-Bulk-NAK (any IN endpoint)
          18               0x544                                     Reserved
          19               0x548       EP0PING                       EP0 OUT was pinged and it NAK’d
          20              0x54C        EP1PING                       EP1 OUT was pinged and it NAK’d
          21               0x550       EP2PING                       EP2 OUT was pinged and it NAK’d
          22               0x554       EP4PING                       EP4 OUT was pinged and it NAK’d
          23               0x558       EP6PING                       EP6 OUT was pinged and it NAK’d
          24              0x55C        EP8PING                       EP8 OUT was pinged and it NAK’d
          25               0x560       ERRLIMIT                      Bus errors exceeded the programmed limit
          26               0x564                                     Reserved
          27               0x568                                     Reserved
          28              0x56C                                      Reserved
          29               0x570       EP2ISOERR                     ISO EP2 OUT PID sequence error
          30               0x574       EP4ISOERR                     ISO EP4 OUT PID sequence error
          31               0x578       EP6ISOERR                     ISO EP6 OUT PID sequence error
          32              0x57C        EP8ISOERR                     ISO EP8 OUT PID sequence error
If autovectoring is enabled (AV2EN = 1 in the INTSET-UP register), the NX2LP-Flex substitutes its INT2VEC byte. Therefore, if the
high byte (‘page’) of a jump-table address is preloaded at location 0x544, the automatically inserted INT2VEC byte at 0x545 directs
the jump to the correct address out of the 27 addresses within the page.
FIFO/GPIF Interrupt (INT4)
Just as the USB Interrupt is shared among 27 individual USB-interrupt sources, the FIFO/GPIF interrupt is shared among 14 individual
FIFO/GPIF sources. The FIFO/GPIF Interrupt, such as the USB Interrupt, can employ autovectoring. Table 4 on page 9 shows the
priority and INT4VEC values for the 14 FIFO/GPIF interrupt sources.
Document Number: 001-04247 Rev. *O                                                                                    Page 8 of 40


                                                                                                                                             CY7C68033
                                                                                                                                             CY7C68034
Table 4. Individual FIFO/GPIF Interrupt Sources
        Priority             INT4VEC Value                     Source                                                   Notes
             1                    0x580                        EP2PF              Endpoint 2 programmable flag
             2                    0x584                        EP4PF              Endpoint 4 programmable flag
             3                    0x588                        EP6PF              Endpoint 6 programmable flag
             4                    0x58C                        EP8PF              Endpoint 8 programmable flag
             5                    0x590                        EP2EF              Endpoint 2 empty flag
             6                    0x594                        EP4EF              Endpoint 4 empty flag
             7                    0x598                        EP6EF              Endpoint 6 empty flag
             8                    0x59C                        EP8EF              Endpoint 8 empty flag
             9                    0x5A0                        EP2FF              Endpoint 2 full flag
            10                    0x5A4                        EP4FF              Endpoint 4 full flag
            11                    0x5A8                        EP6FF              Endpoint 6 full flag
            12                    0x5AC                         EP8FF             Endpoint 8 full flag
            13                    0x5B0                      GPIFDONE             GPIF operation complete
            14                    0x5B4                        GPIFWF             GPIF waveform
If autovectoring is enabled (AV4EN = 1 in the INTSET-UP                            used as the clock source for the NX2LP-Flex, the reset period
register), the NX2LP-Flex substitutes its INT4VEC byte.                            must enable the stabilization of the crystal and the PLL. This
Therefore, if the high byte (‘page’) of a jump-table address is                    reset period should be approximately 5 ms after VCC has
preloaded at location 0x554, the automatically inserted                            reached 3.0V. If the crystal input pin is driven by a clock signal,
INT4VEC byte at 0x555 directs the jump to the correct address                      the internal PLL stabilizes in 200 μs after VCC has reached
out of the 14 addresses within the page. When the ISR occurs,                      3.0 V[1]. Figure 5 shows a POR condition and a reset applied
the NX2LP-Flex pushes the program counter to its stack and                         during operation. A POR is defined as the time reset is asserted
then jumps to address 0x553; it expects to find a ‘jump’                           while power is being applied to the circuit. A powered reset is
instruction to the ISR Interrupt service routine here.                             defined to be when the NX2LP-Flex has previously been
                                                                                   powered on and operating and the RESET# pin is asserted.
Reset and Wakeup
                                                                                   For more information on power on reset implementation for the
Reset Pin
                                                                                   EZ-USB family of products, refer to the application note
The input pin RESET#, resets the NX2LP-Flex when asserted.                         EZ-USB FX2™/AT2™/SX2™.
This pin has hysteresis and is active LOW. When a crystal is
                                                               Figure 5. Reset Timing Plots
     RESET#                                                                   RESET#
                                                                  VIL                                                                         VIL
                                                                  3.3 V                                                                       3.3 V
                                                                  3.0 V
         VCC                                                                     VCC
                                                                   0V                                                                         0V
                                 TRESET                                                                   TRESET
                                  Power-on Reset                                                                Powered Reset
 Note
  1. If the external clock is powered at the same time as the CY7C68033/CY7C68034 and has a stabilization wait period, it must be added to the 200 μs.
Document Number: 001-04247 Rev. *O                                                                                                                   Page 9 of 40


                                                                                                                         CY7C68033
                                                                                                                         CY7C68034
Table 5. Reset Timing Values                                          Figure 6. Internal Code Memory
             Condition                           TRESET                                 FFFF         7.5 kBytes
 Power-on reset with crystal                       5 ms                                          USB registers
                                                                                                  and 4 kBytes
 Power-on reset with external       200 μs + Clock stability time                                 FIFO buffers
 clock source                                                                                      (RD#, WR#)
                                                                                        E200
 Powered reset                                   200 μs                                 E1FF
                                                                                              512 Bytes RAM Data
                                                                                        E000      (RD#, WR#)*
Wakeup Pins
The 8051 puts itself and the rest of the chip into a power down
mode by setting PCON.0 = 1. This stops the oscillator and PLL.
When WAKEUP is asserted by external logic, the oscillator                               3FFF
restarts, after the PLL stabilizes, and then the 8051 receives a
wakeup interrupt. This applies whether or not NX2LP-Flex is
                                                                                                 15 kBytes RAM
connected to the USB.                                                                            Code and Data
The NX2LP-Flex exits the power down (USB suspend) state                                          (PSEN#, RD#,
                                                                                                       WR#)*
using one of the following methods:
                                                                                        0500
■  USB bus activity (if D+/D– lines are left floating, noise on these
                                                                                        0000       1 kbyte ROM
   lines may indicate activity to the NX2LP-Flex and initiate a
   wakeup).                                                                        *SUDPTR, USB download, NAND boot access
■  External logic asserts the WAKEUP pin
■  External logic asserts the PA3/WU2 pin.
                                                                      Register Addresses
The second wakeup pin, WU2, can also be configured as a GPIO
pin. This enables a simple external R-C network to be used as a       Figure 7. Internal Register Addresses
periodic wakeup source. Note that WAKEUP is, by default, active
LOW.
                                                                                  FFFF
Program/Data RAM                                                                              4 KBytes EP2-EP8
                                                                                                     buffers
Internal ROM/RAM Size                                                                               (8 × 512)
The NX2LP-Flex has 1 kBytes ROM and 15 kBytes of internal
program/data RAM, where PSEN#/RD# signals are internally
                                                                                  F000
ORed to enable the 8051 to access it as both program and data                     EFFF
memory. No USB control registers appear in this space.
                                                                                             2 KBytes RESERVED
                                                                                  E800
Internal Code Memory
                                                                                  E7FF
This mode implements the internal block of RAM (starting at                                    64 Bytes EP1IN
                                                                                   E7C0
0x0500) as combined code and data memory, as shown in                              E7BF
                                                                                               64 Bytes EP1OUT
Figure 6.                                                                          E780
                                                                                   E77F
Only the internal and scratch pad RAM spaces have the following                    E740     64 Bytes EP0 IN/OUT
access:                                                                            E73F
                                                                                             64 Bytes RESERVED
                                                                                   E700
■  USB download (only supported by the Cypress manufacturing                       E6FF
                                                                                          8051 Addressable Registers
   tool)                                                                                              (512)
                                                                                   E500
■  Setup data pointer                                                              E4FF
                                                                                               Reserved (128)
                                                                                   E480
■  NAND boot access.                                                               E47F
                                                                                          128 bytes GPIF Waveforms
                                                                                   E400
                                                                                   E3FF       Reserved (512)
                                                                                   E200
                                                                                  E1FF
                                                                                                  512 bytes
                                                                                                8051 xdata RAM
                                                                                   E000
Document Number: 001-04247 Rev. *O                                                                                         Page 10 of 40


                                                                                                                       CY7C68033
                                                                                                                       CY7C68034
Endpoint RAM                                                          Setup Data Buffer
Size                                                                  A separate 8-byte buffer at 0xE6B8-0xE6BF holds the setup data
                                                                      from a CONTROL transfer.
■ 3 × 64 bytes     (Endpoints 0 and 1)
                                                                      Endpoint Configurations (High Speed Mode)
■ 8 × 512 bytes    (Endpoints 2, 4, 6, 8)
                                                                      Endpoints 0 and 1 are the same for every configuration. Endpoint
Organization                                                          0 is the only control endpoint, and endpoint 1 can be either bulk
                                                                      or interrupt. The endpoint buffers can be configured in any 1 of
■ EP0
                                                                      the 12 configurations shown in the vertical columns. When
  ❐ Bidirectional endpoint zero, 64-byte buffer                       operating in full speed bulk mode, only the first 64 bytes of each
■ EP1IN, EP1OUT                                                       buffer are used. For example, in high speed the max packet size
  ❐ 64-byte buffers, bulk or interrupt
                                                                      is 512 bytes, but in full speed it is 64 bytes. Even though a buffer
                                                                      is configured to be a 512 byte buffer, in full speed only the first
■ EP2, 4, 6, 8                                                        64 bytes are used. The unused endpoint buffer space is not
  ❐ Eight 512-byte buffers, bulk, interrupt, or isochronous.          available for other operations. The following is an example
  ❐ EP4 and EP8 can be double buffered, while EP2 and 6 can           endpoint configuration:
    be either double, triple, or quad buffered.                       EP2–1024 double buffered; EP6–512 quad buffered (column 8
For high speed endpoint configuration options, see Figure 8.          in Figure 8).
                                                    Figure 8. Endpoint Configuration
                EP0 IN&OUT   64    64     64       64     64     64   64      64     64      64     64     64
                     EP1 IN  64    64     64       64     64     64   64      64     64      64     64     64
                   EP1 OUT   64    64     64       64     64     64   64      64     64      64     64     64
                            EP2   EP2   EP2       EP2    EP2   EP2   EP2     EP2    EP2     EP2    EP2 EP2
                            512    512   512       512   512    512                         512
                                                                     1024    1024   1024
                             512   512   512                    512                         512    1024
                                                   512    512                                             1024
                                                                                            512
                            EP4   EP4   EP4
                            512    512   512       512   512   512                          EP6
                                                                     1024    1024   1024           1024
                                                                                                          1024
                            512    512   512       512   512    512                         512
                            EP6   EP6   EP6       EP6    EP6   EP6   EP6     EP6    EP6     512
                                                                                                   1024
                             512   512             512   512          512     512                  1024   1024
                                        1024                   1024                 1024    512
                             512   512             512    512         512     512
                            EP8                                      EP8                    EP8    EP8
                                                  EP8
                                                                                            512     512   1024
                            512    512  1024       512   512   1024  512      512   1024
                                                                      512                   512     512
                             512   512             512    512                 512
                             1      2      3        4      5      6    7       8      9      10      11    12
Document Number: 001-04247 Rev. *O                                                                                          Page 11 of 40


                                                                                                                                            CY7C68033
                                                                                                                                            CY7C68034
Default Full Speed Alternate Settings
Table 6. Default Full Speed Alternate Settings [2, 3]
        Alternate Setting                           0                              1                               2                               3
ep0                                  64                               64                            64                               64
ep1out                               0                                64 bulk                       64 int                           64 int
ep1in                                0                                64 bulk                       64 int                           64 int
ep2                                  0                                64 bulk out (2×)              64 int out (2×)                  64 iso out (2×)
ep4                                  0                                64 bulk out (2×)              64 bulk out (2×)                 64 bulk out (2×)
ep6                                  0                                64 bulk in (2×)               64 int in (2×)                   64 iso in (2×)
ep8                                  0                                64 bulk in (2×)               64 bulk in (2×)                  64 bulk in (2×)
Default High Speed Alternate Settings
Table 7. Default High Speed Alternate Settings[2, 3]
        Alternate Setting                           0                              1                               2                               3
ep0                                  64                               64                            64                               64
ep1out                               0                                512 bulk[4]                   64 int                           64 int
ep1in                                0                                512 bulk[4]                   64 int                           64 int
ep2                                  0                                512 bulk out (2×)             512 int out (2×)                 512 iso out (2×)
ep4                                  0                                512 bulk out (2×)             512 bulk out (2×)                512 bulk out (2×)
ep6                                  0                                512 bulk in (2×)              512 int in (2×)                  512 iso in (2×)
ep8                                  0                                512 bulk in (2×)              512 bulk in (2×)                 512 bulk in (2×)
Notes
 2. ‘0’ means ‘not implemented.’
 3. ‘2×’ means ‘double buffered.’
 4. Even though these buffers are 64 bytes, they are reported as 512 for USB 2.0 compliance. The user must never transfer packets larger than 64 bytes to EP1.
Document Number: 001-04247 Rev. *O                                                                                                                 Page 12 of 40


                                                                                                                                    CY7C68033
                                                                                                                                    CY7C68034
External FIFO Interface                                                               same configuration to implement 100-ns timing on the NAND bus
                                                                                      to support proper detection of all NAND Flash types.
Architecture
The NX2LP-Flex slave FIFO architecture has eight 512-byte                             GPIF
blocks in the endpoint RAM that directly serve as FIFO                                The GPIF is a flexible 8- or 16-bit parallel interface driven by a
memories, and are controlled by FIFO control signals (such as                         user-programmable finite state machine. It enables the
SLCS#, SLRD, SLWR, SLOE, PKTEND, and flags).                                          NX2LP-Flex to perform local bus mastering and can implement
In operation, some of the eight RAM blocks fill or empty from the                     a wide variety of protocols such as 8-bit NAND interface, printer
SIE, while the others are connected to the I/O transfer logic. The                    parallel port, and Utopia. The default NAND firmware and boot
transfer logic takes two forms: the GPIF for internally generated                     logic uses GPIF functionality to interface with NAND Flash.
control signals or the slave FIFO interface for externally                            The GPIF on the NX2LP-Flex features three programmable
controlled transfers.                                                                 control outputs (CTL) and two general purpose ready inputs
                                                                                      (RDY). The GPIF data bus width can be 8 or 16 bits. Because
Master/Slave Control Signals                                                          the default NAND firmware image implements an 8-bit data bus
The NX2LP-Flex endpoint FIFOS are implemented as eight                                and up to eight chip enable pins on the GPIF ports, it is
physically distinct 256 × 16 RAM blocks. The 8051/SIE can                             recommended that designs based upon the default firmware
switch any of the RAM blocks between two domains, the USB                             image also use an 8-bit data bus.
(SIE) domain and the 8051-I/O Unit domain. This switching is                          Each GPIF vector defines the state of the control outputs and
done virtually instantaneously, giving essentially zero transfer                      determines what state a ready input (or multiple inputs) must be
time between ‘USB FIFOS’ and ‘Slave FIFOS’. Since they are                            before proceeding. The GPIF vector can be programmed to
physically the same memory, no bytes are actually transferred                         advance a FIFO to the next data value, advance an address, and
between buffers.                                                                      so on. A sequence of the GPIF vectors make up a single
At any time, some RAM blocks are filling/emptying with USB data                       waveform that is executed to perform the desired data move
under SIE control, while other RAM blocks are available to the                        between the NX2LP-Flex and the external device.
8051 and/or the I/O control unit. The RAM blocks operate as
single-port in the USB domain and dual-port in the 8051-I/O                           Three Control OUT Signals
domain. The blocks can be configured as single, double, triple,                       The NX2LP-Flex exposes three control signals, CTL[2:0]. CTLx
or quad buffered as previously shown.                                                 waveform edges can be programmed to make transitions as fast
The I/O control unit implements either an internal-master (M for                      as once per clock (20.8 ns using a 48 MHz clock).
master) or external-master (S for Slave) interface.                                   Two Ready IN Signals
In master (M) mode, the GPIF internally controls FIFOADR[1:0]                         The 8051 programs the GPIF unit to test the RDY pins for GPIF
to select a FIFO. The two RDY pins can be used as flag inputs                         branching. The 56-pin package brings out two signals, RDY[1:0].
from an external FIFO or other logic if desired. The GPIF can be
run from an internally derived clock (IFCLK), at a rate that                          Long Transfer Mode
transfers data up to 96 Megabytes/s (48 MHz IFCLK with 16-bit
interface).                                                                           In GPIF master mode, the 8051 appropriately sets GPIF
                                                                                      transaction count registers (GPIFTCB3, GPIFTCB2, GPIFTCB1,
In slave (S) mode, the NX2LP-Flex accepts an internally derived                       or GPIFTCB0) for unattended transfers of up to 232 transactions.
clock (IFCLK, max. frequency 48 MHz) and SLCS#, SLRD,                                 The GPIF automatically throttles data flow to prevent underflow
SLWR, SLOE, PKTEND signals from external logic. Each                                  or overflow until the full number of requested transactions
endpoint can individually be selected for byte or word operation                      complete. The GPIF decrements the value in these registers to
by an internal configuration bit and a Slave FIFO output enable                       represent the current status of the transaction.
signal SLOE enables data of the selected width. External logic
must ensure that the output enable signal is inactive when writing                    ECC Generation[5]
data to a slave FIFO. The slave interface must operate
                                                                                      The NX2LP-Flex can calculate error correcting codes (ECCs) on
asynchronously, where the SLRD and SLWR signals act directly
                                                                                      data that passes across its GPIF or slave FIFO interfaces. There
as strobes, rather than a clock qualifier as in a synchronous
                                                                                      are two ECC configurations:
mode. The signals SLRD, SLWR, SLOE and PKTEND are gated
by the signal SLCS#.                                                                  ■  Two ECCs, each calculated over 256 bytes (SmartMedia
                                                                                         Standard)
GPIF and FIFO Clock Rates
                                                                                      ■  One ECC calculated over 512 bytes.
An 8051 register bit selects one of two frequencies for the
internally supplied interface clock: 30 MHz and 48 MHz. A bit                         The following two ECC configurations are selected by the ECCM
within the IFCONFIG register inverts the IFCLK signal.                                bit. The ECC can correct any one-bit error or detect any two-bit
                                                                                      error.
The default NAND firmware image implements a 48 MHz
internally supplied interface clock. The NAND boot logic uses the
 Note
  5. To use the ECC logic, the GPIF or Slave FIFO interface must be configured for byte-wide operation.
Document Number: 001-04247 Rev. *O                                                                                                        Page 13 of 40


                                                                                                                 CY7C68033
                                                                                                                 CY7C68034
ECCM = 0                                                           Autopointer Access
Two 3-byte ECCs, each calculated over a 256-byte block of data.    NX2LP-Flex provides two identical autopointers. They are
This configuration conforms to the SmartMedia Standard and is      similar to the internal 8051 data pointers, but with an additional
used by both the NAND boot logic and default NAND firmware         feature: they can optionally increment after every memory
image.                                                             access. Also, the autopointers can point to any NX2LP-Flex
When any value is written to ECCRESET and data is then             register or endpoint buffer space.
passed across the GPIF or slave FIFO interface, the ECC for the
first 256 bytes of data is calculated and stored in ECC1. The ECC  I2C Controller
for the next 256 bytes of data is stored in ECC2. After the second NX2LP has one I2C port that the 8051, once running uses to
ECC is calculated, the values in the ECCx registers do not         control external I2C devices. The I2C port operates in master
change until ECCRESET is written again, even if more data is       mode only. The I2C post is disabled at startup and only available
subsequently passed across the interface.                          for use after the initial NAND access.
ECCM = 1                                                           I2C Port Pins
One 3-byte ECC calculated over a 512-byte block of data.           The I2C pins SCL and SDA must have external 2.2-kΩ pull up
When any value is written to ECCRESET and data is then             resistors even if no EEPROM is connected to the NX2LP.
passed across the GPIF or slave FIFO interface, the ECC for the    I2C Interface General-Purpose Access
first 512 bytes of data is calculated and stored in ECC1; ECC2
is unused. After the ECC is calculated, the value in ECC1 does     The 8051 can control peripherals connected to the I2C bus using
not change until ECCRESET is written again, even if more data      the I2CTL and I2DATA registers. NX2LP provides I2C master
is subsequently passed across the interface                        control only and is never an I2C slave.
Document Number: 001-04247 Rev. *O                                                                                     Page 14 of 40


                                                                                                                CY7C68033
                                                                                                                CY7C68034
Pin Assignments                                                     default NAND firmware image, which actually utilizes GPIF
                                                                    Master mode. The signals on the left edge of the ‘Port’ column
Figure 9 and Figure 10 on page 16 identify all signals for the      are common to all modes of the NX2LP-Flex. The 8051 selects
56-pin NX2LP-Flex package.                                          the interface mode using the IFCONFIG[1:0] register bits. Port
                                                                    mode is the power-on default configuration.
Three modes of operation are available for the NX2LP-Flex: Port
mode, GPIF Master mode, and Slave FIFO mode. These modes            Figure 10 on page 16 details the pinout of the 56-pin package
define the signals on the right edge of each column in Figure 9.    and lists pin names for all modes of operation. Pin names with
The right-most column details the signal functionality from the     an asterisk (*) feature programmable polarity.
                                                 Figure 9. Port and Signal Mapping
                                                                                               Default NAND
                                Port               GPIF Master         Slave FIFO              Firmware Use
                                             PD7   ↔ FD[15]         ↔ FD[15]                   ↔ CE7#/GPIO7
                                             PD6   ↔ FD[14]         ↔ FD[14]                   ↔ CE6#/GPIO6
                                             PD5   ↔ FD[13]         ↔ FD[13]                   ↔ CE5#/GPIO5
                                             PD4   ↔ FD[12]         ↔ FD[12]                   ↔ CE4#/GPIO4
                                             PD3   ↔ FD[11]         ↔ FD[11]                   ↔ CE3#/GPIO3
                                             PD2   ↔ FD[10]         ↔ FD[10]                   ↔ CE2#/GPIO2
                                             PD1   ↔ FD[9]          ↔ FD[9]                    ↔ CE1#
                                             PD0   ↔ FD[8]          ↔ FD[8]                    ↔ CE0#
                                             PB7   ↔ FD[7]          ↔ FD[7]                    ↔ DD7
                                             PB6   ↔ FD[6]          ↔ FD[6]                    ↔ DD6
                                             PB5   ↔ FD[5]          ↔ FD[5]                    ↔ DD5
                        XTALIN               PB4   ↔ FD[4]          ↔ FD[4]                    ↔ DD4
                        XTALOUT              PB3   ↔ FD[3]          ↔ FD[3]                    ↔ DD3
                        RESET#               PB2   ↔ FD[2]          ↔ FD[2]                    ↔ DD2
                        WAKEUP#
                                             PB1   ↔ FD[1]          ↔ FD[1]                    ↔ DD1
                        SCL
                        SDATA
                                             PB0   ↔ FD[0]          ↔ FD[0]                    ↔ DD0
                                                   ← RDY0           ← SLRD                     ← R_B1#
                                                   ← RDY1           ← SLWR                     ← R_B2#
                                                   → CTL0           → FLAGA                    → WE#
                                                   → CTL1           → FLAGB                    → RE0#
                                                   → CTL2           → FLAGC                    → RE1#
                                             PA7   ↔ PA7            ↔ FLAGD/SLCS#/PA7          ↔ GPIO1
                                             PA6   ↔ PA6            ↔ PKTEND                   ↔ GPIO0
                                             PA5   ↔ PA5            ← FIFOADR1                 ← WP_SW#
                                             PA4   ↔ PA4            ← FIFOADR0                 ← WP_NF#
                        DPLUS           WU2/PA3    ↔ PA3/WU2        ← PA3/WU2                  → LED2#
                        DMINUS               PA2   ↔ PA2            ← SLOE                     → LED1#
                                       INT1#/PA1   ↔ PA1/INT1#      ← PA1/INT1#                ↔ ALE
                                      INTO#/PA0    ↔ PA0/INT0#      ↔ PA0/INT0#                ↔ CLE
                                             PE0   ↔ GPIO8          ↔ GPIO8                    ↔ GPIO8
                                             PE1   ↔ GPIO9          ↔ GPIO9                    ↔ GPIO9
Document Number: 001-04247 Rev. *O                                                                                   Page 15 of 40


                                                                                                                                                                                  CY7C68033
                                                                                                                                                                                  CY7C68034
                            Figure 10. CY7C68033/CY7C68034 56-pin QFN Pin Assignment
                                         GPIO9             PD7/FD15   PD6/FD14   PD5/FD13   PD4/FD12   PD3/FD11   PD2/FD10   PD1/FD9   PD0/FD8   *WAKEUP
                           GND   VCC             GND                                                                                                       VCC
                           56    55      54      53        52         51         50         49         48         47         46        45        44        43
        RDY0/*SLRD     1                                                                                                                                         42   RESET#
       RDY1/*SLWR      2                                                                                                                                         41   GND
               AVCC    3                                                                                                                                         40   PA7/*FLAGD/SLCS#
           XTALOUT     4                                                                                                                                         39   PA6/*PKTEND
             XTALIN    5                                                                                                                                         38   PA5/FIFOADR1
              AGND     6                                                                                                                                         37   PA4/FIFOADR0
               AVCC    7                                                                                                                                         36   PA3/*WU2
             DPLUS     8                                                                                                                                         35   PA2/*SLOE
            DMINUS     9                                                                                                                                         34   PA1/INT1#
              AGND 10                                                                                                                                            33   PA0/INT0#
                VCC 11                                                                                                                                           32   VCC
                GND 12                                                                                                                                           31   CTL2/*FLAGC
              GPIO8 13                                                                                                                                           30   CTL1/*FLAGB
        RESERVED# 14                                                                                                                                             29   CTL0/*FLAGA
                           15    16      17      18        19         20         21         22         23         24         25        26        27        28
                           SCL
                                 SDATA
                                         VCC
                                                 PB0/FD0   PB1/FD1    PB2/FD2    PB3/FD3    PB4/FD4    PB5/FD5    PB6/FD6    PB7/FD7
                                                                                                                                       GND       VCC       GND
Document Number: 001-04247 Rev. *O                                                                                                                                                   Page 16 of 40


                                                                                                                                             CY7C68033
                                                                                                                                             CY7C68034
Table 8. NX2LP-Flex Pin Descriptions [6]
  56-pin                                 NAND
              Default Pin                                    Pin    Default
QFN Pin                               Firmware                                                                     Description
                  Name                                      Type      State
 Number                                 Usage
     9      DMINUS                         N/A              I/O/Z        Z      USB D– Signal. Connect to the USB D– signal.
     8      DPLUS                          N/A              I/O/Z        Z      USB D+ Signal. Connect to the USB D+ signal.
    42      RESET#                         N/A              Input       N/A     Active LOW Reset. Resets the entire chip. See section Reset and
                                                                                Wakeup on page 9 for more details.
     5      XTALIN                         N/A              Input       N/A     Crystal Input. Connect this signal to a 24 MHz parallel-resonant,
                                                                                fundamental mode crystal and load capacitor to GND.
                                                                                It is also correct to drive XTALIN with an external 24 MHz square
                                                                                wave derived from another clock source. When driving from an
                                                                                external source, the driving signal should be a 3.3 V square wave.
     4      XTALOUT                        N/A             Output       N/A     Crystal Output. Connect this signal to a 24 MHz parallel-resonant,
                                                                                fundamental mode crystal and load capacitor to GND.
                                                                                If an external clock is used to drive XTALIN, leave this pin open.
    54      PE1 or GPIO9                GPIO9                O/Z    12 MHz GPIO9 is a bidirectional I/O port pin.
     1      RDY0 or SLRD                R_B1#               Input       N/A     Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                                                RDY0 is a GPIF input signal.
                                                                                SLRD is the input-only read strobe with programmable polarity
                                                                                (FIFOPINPOLAR[3]) for the slave FIFOs connected to FD[7:0] or
                                                                                FD[15:0].
                                                                                R_B1# is a NAND Ready/Busy input signal.
     2      RDY1 or SLWR                R_B2#               Input       N/A     Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                                                RDY1 is a GPIF input signal.
                                                                                SLWR is the input-only write strobe with programmable polarity
                                                                                (FIFOPINPOLAR[2]) for the slave FIFOs connected to FD[7:0] or
                                                                                FD[15:0].
                                                                                R_B2# is a NAND Ready/Busy input signal.
    29      CTL0 or                       WE#                O/Z         H      Multiplexed pin whose function is selected by IFCONFIG[1:0].
            FLAGA                                                               CTL0 is a GPIF control output.
                                                                                FLAGA is a programmable slave-FIFO output status flag signal.
                                                                                Defaults to programmable for the FIFO selected by the
                                                                                FIFOADR[1:0] pins.
                                                                                WE# is the NAND write enable output signal.
    30      CTL1 or                      RE0#                O/Z         H      Multiplexed pin whose function is selected by IFCONFIG[1:0].
            FLAGB                                                               CTL1 is a GPIF control output.
                                                                                FLAGB is a programmable slave-FIFO output status flag signal.
                                                                                Defaults to FULL for the FIFO selected by the FIFOADR[1:0] pins.
                                                                                RE0# is a NAND read enable output signal.
    31      CTL2 or                      RE1#                O/Z         H      Multiplexed pin whose function is selected by IFCONFIG[1:0].
            FLAGC                                                               CTL2 is a GPIF control output.
                                                                                FLAGC is a programmable slave-FIFO output status flag signal.
                                                                                Defaults to EMPTY for the FIFO selected by the FIFOADR[1:0] pins.
                                                                                RE1# is a NAND read enable output signal.
Note
 6. Unused inputs should not be left floating. Tie either HIGH or LOW as appropriate. Outputs should only be pulled up or down to ensure signals at power up and in
    standby. Note also that no pins should be driven while the device is powered down.
Document Number: 001-04247 Rev. *O                                                                                                                   Page 17 of 40


                                                                                                                 CY7C68033
                                                                                                                 CY7C68034
Table 8. NX2LP-Flex Pin Descriptions (continued)[6]
  56-pin                    NAND
            Default Pin                    Pin    Default
QFN Pin                   Firmware                                                       Description
              Name                        Type      State
 Number                     Usage
    13    PE0 or GPIO8      GPIO8         I/O/Z        I   GPIO8: is a bidirectional I/O port pin.
    14    Reserved#          N/A          Input      N/A   Reserved. Connect to ground.
    15    SCL                N/A           OD          Z   Clock for the I2C interface. Connect to VCC with a 2.2K resistor,
                                                           even if no I2C peripheral is attached.
    16    SDATA              N/A           OD          Z   Data for the I2C interface. Connect to VCC with a 2.2K resistor, even
                                                           if no I2C peripheral is attached.
    44    WAKEUP           Unused         Input      N/A   USB Wakeup. If the 8051 is in suspend, asserting this pin starts up
                                                           the oscillator and interrupts the 8051 to allow it to exit the suspend
                                                           mode. Holding WAKEUP asserted inhibits the EZ-USB chip from
                                                           suspending. This pin has programmable polarity, controlled by
                                                           WAKEUP[4].
Port A
    33    PA0 or INT0#       CLE          I/O/Z    I (PA0) Multiplexed pin whose function is selected by PORTACFG[0]
                                                           PA0 is a bidirectional I/O port pin.
                                                           INT0# is the active-LOW 8051 INT0 interrupt input signal, which is
                                                           either edge triggered (IT0 = 1) or level triggered (IT0 = 0).
                                                           CLE is the NAND Command Latch Enable signal.
    34    PA1 or INT1#       ALE          I/O/Z    I (PA1) Multiplexed pin whose function is selected by PORTACFG[1]
                                                           PA1 is a bidirectional I/O port pin.
                                                           INT1# is the active-LOW 8051 INT1 interrupt input signal, which is
                                                           either edge triggered (IT1 = 1) or level triggered (IT1 = 0).
                                                           ALE is the NAND Address Latch Enable signal.
    35    PA2 or SLOE       LED1#         I/O/Z    I (PA2) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PA2 is a bidirectional I/O port pin.
                                                           SLOE is an input-only output enable with programmable polarity
                                                           (FIFOPINPOLAR[4]) for the slave FIFOs connected to FD[7:0] or
                                                           FD[15:0].
                                                           LED1# is the data activity indicator LED sink pin.
    36    PA3 or WU2        LED2#         I/O/Z    I (PA3) Multiplexed pin whose function is selected by WAKEUP[7] and
                                                           OEA[3]
                                                           PA3 is a bidirectional I/O port pin.
                                                           WU2 is an alternate source for USB Wakeup, enabled by WU2EN
                                                           bit (WAKEUP[1]) and polarity set by WU2POL (WAKEUP[4]). If the
                                                           8051 is in suspend and WU2EN = 1, a transition on this pin starts
                                                           up the oscillator and interrupts the 8051 to allow it to exit the suspend
                                                           mode. Asserting this pin inhibits the chip from suspending, if
                                                           WU2EN = 1.
                                                           LED2# is the chip activity indicator LED sink pin.
    37    PA4 or           WP_NF#         I/O/Z    I (PA4) Multiplexed pin whose function is selected by IFCONFIG[1:0].
          FIFOADR0                                         PA4 is a bidirectional I/O port pin.
                                                           FIFOADR0 is an input-only address select for the slave FIFOs
                                                           connected to FD[7:0] or FD[15:0].
                                                           WP_NF# is the NAND write-protect control output signal.
    38    PA5 or          WP_SW#          I/O/Z    I (PA5) Multiplexed pin whose function is selected by IFCONFIG[1:0].
          FIFOADR1                                         PA5 is a bidirectional I/O port pin.
                                                           FIFOADR1 is an input-only address select for the slave FIFOs
                                                           connected to FD[7:0] or FD[15:0].
                                                           WP_SW# is the NAND write-protect switch input signal.
Document Number: 001-04247 Rev. *O                                                                                      Page 18 of 40


                                                                                                            CY7C68033
                                                                                                            CY7C68034
Table 8. NX2LP-Flex Pin Descriptions (continued)[6]
  56-pin                    NAND
            Default Pin                    Pin    Default
QFN Pin                   Firmware                                                      Description
              Name                        Type      State
 Number                     Usage
    39    PA6 or         GPIO0 (Input)    I/O/Z    I (PA6) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
          PKTEND                                           bits.
                                                           PA6 is a bidirectional I/O port pin.
                                                           PKTEND is an input used to commit the FIFO packet data to the
                                                           endpoint     and     whose     polarity  is   programmable    via
                                                           FIFOPINPOLAR[5].
                                                           GPIO1 is a general purpose I/O signal.
    40    PA7 or FLAGD   GPIO1 (Input)    I/O/Z    I (PA7) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
          or SLCS#                                         and PORTACFG[7] bits.
                                                           PA7 is a bidirectional I/O port pin.
                                                           FLAGD is a programmable slave-FIFO output status flag signal.
                                                           SLCS# gates all other slave FIFO enable/strobes
                                                           GPIO0 is a general purpose I/O signal.
Port B
    18    PB0 or FD[0]       DD0          I/O/Z    I (PB0) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB0 is a bidirectional I/O port pin.
                                                           FD[0] is the bidirectional FIFO/GPIF data bus.
                                                           DD0 is a bidirectional NAND data bus signal.
    19    PB1 or FD[1]       DD1          I/O/Z    I (PB1) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB1 is a bidirectional I/O port pin.
                                                           FD[1] is the bidirectional FIFO/GPIF data bus.
                                                           DD1 is a bidirectional NAND data bus signal.
    20    PB2 or FD[2]       DD2          I/O/Z    I (PB2) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB2 is a bidirectional I/O port pin.
                                                           FD[2] is the bidirectional FIFO/GPIF data bus.
                                                           DD2 is a bidirectional NAND data bus signal.
    21    PB3 or FD[3]       DD3          I/O/Z    I (PB3) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB3 is a bidirectional I/O port pin.
                                                           FD[3] is the bidirectional FIFO/GPIF data bus.
                                                           DD3 is a bidirectional NAND data bus signal.
    22    PB4 or FD[4]       DD4          I/O/Z    I (PB4) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB4 is a bidirectional I/O port pin.
                                                           FD[4] is the bidirectional FIFO/GPIF data bus.
                                                           DD4 is a bidirectional NAND data bus signal.
    23    PB5 or FD[5]       DD5          I/O/Z    I (PB5) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB5 is a bidirectional I/O port pin.
                                                           FD[5] is the bidirectional FIFO/GPIF data bus.
                                                           DD5 is a bidirectional NAND data bus signal.
    24    PB6 or FD[6]       DD6          I/O/Z    I (PB6) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB6 is a bidirectional I/O port pin.
                                                           FD[6] is the bidirectional FIFO/GPIF data bus.
                                                           DD6 is a bidirectional NAND data bus signal.
    25    PB7 or FD[7]       DD7          I/O/Z    I (PB7) Multiplexed pin whose function is selected by IFCONFIG[1:0].
                                                           PB7 is a bidirectional I/O port pin.
                                                           FD[7] is the bidirectional FIFO/GPIF data bus.
                                                           DD7 is a bidirectional NAND data bus signal.
 PORT D
    45    PD0 or FD[8]      CE0#          I/O/Z    I (PD0) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[8] is the bidirectional FIFO/GPIF data bus.
                                                           CE0# is a NAND chip enable output signal.
Document Number: 001-04247 Rev. *O                                                                              Page 19 of 40


                                                                                                            CY7C68033
                                                                                                            CY7C68034
Table 8. NX2LP-Flex Pin Descriptions (continued)[6]
  56-pin                    NAND
           Default Pin                     Pin    Default
QFN Pin                   Firmware                                                      Description
             Name                         Type      State
 Number                     Usage
    46    PD1 or FD[9]      CE1#          I/O/Z    I (PD1) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[9] is the bidirectional FIFO/GPIF data bus.
                                                           CE1# is a NAND chip enable output signal.
    47    PD2 or FD[10] CE2# or GPIO2     I/O/Z    I (PD2) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[10] is the bidirectional FIFO/GPIF data bus.
                                                           CE2# is a NAND chip enable output signal.
                                                           GPIO2 is a general purpose I/O signal.
    48    PD3 or FD[11] CE3# or GPIO3     I/O/Z    I (PD3) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[11] is the bidirectional FIFO/GPIF data bus.
                                                           CE3# is a NAND chip enable output signal.
                                                           GPIO3 is a general purpose I/O signal.
    49    PD4 or FD[12] CE4# or GPIO4     I/O/Z    I (PD4) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[12] is the bidirectional FIFO/GPIF data bus.
                                                           CE4# is a NAND chip enable output signal.
                                                           GPIO4 is a general purpose I/O signal.
    50    PD5 or FD[13] CE5# or GPIO5     I/O/Z    I (PD5) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[13] is the bidirectional FIFO/GPIF data bus.
                                                           CE5# is a NAND chip enable output signal.
                                                           GPIO5 is a general purpose I/O signal.
    51    PD6 or FD[14] CE6# or GPIO6     I/O/Z    I (PD6) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[14] is the bidirectional FIFO/GPIF data bus.
                                                           CE6# is a NAND chip enable output signal.
                                                           GPIO6 is a general purpose I/O signal.
    52    PD7 or FD[15] CE7# or GPIO7     I/O/Z    I (PD7) Multiplexed pin whose function is selected by the IFCONFIG[1:0]
                                                           and EPxFIFOCFG.0 (wordwide) bits.
                                                           FD[15] is the bidirectional FIFO/GPIF data bus.
                                                           CE7# is a NAND chip enable output signal.
                                                           GPIO7 is a general purpose I/O signal.
 Power and Ground
    3, 7  AVCC               N/A         Power        N/A  Analog VCC. Connect this pin to 3.3 V power source. This signal
                                                           provides power to the analog section of the chip.
   6, 10  AGND               N/A        Ground        N/A  Analog Ground. Connect to ground with as short a path as
                                                           possible.
  11, 17, VCC                N/A         Power        N/A  VCC. Connect to 3.3 V power source.
  27, 32,
  43, 55
  12, 26, GND                N/A        Ground        N/A  Ground.
  28, 41,
  53, 56
Document Number: 001-04247 Rev. *O                                                                             Page 20 of 40


                                                                                                                                    CY7C68033
                                                                                                                                    CY7C68034
Register Summary
NX2LP-Flex register bit definitions are described in the EZ-USB TRM in greater detail. Some registers that are listed here and in the
TRM do not apply to the NX2LP-Flex. They are kept here for consistency reasons only. Registers that do not apply to the NX2LP-Flex
should be left at their default power up values.
Table 9. NX2LP-Flex Register Summary
 Hex Size         Name                 Description              b7       b6       b5      b4        b3        b2        b1        b0    Default  Access
           GPIF Waveform Memories
E400 128   WAVEDATA             GPIF Waveform              D7       D6       D5       D4        D3       D2        D1        D0        xxxxxxxx RW
                                Descriptor 0, 1, 2, 3 data
E480 128   reserved
           GENERAL CONFIGURATION
E50D       GPCR2                General Purpose            reserved reserved reserved FULL_SPEE reserved reserved  reserved  reserved  00000000 R
                                Configuration Register 2                              D_ONLY
E600 1     CPUCS                CPU Control & Status       0        0        PORTCSTB CLKSPD1 CLKSPD0    CLKINV    CLKOE     8051RES   00000010 rrbbbbbr
E601 1     IFCONFIG             Interface Configuration    1        3048 MHz 0        IFCLKPOL ASYNC     GSTATE    IFCFG1    IFCFG0    10000000 RW
                                (Ports, GPIF, slave FIFOs)
E602 1     PINFLAGSAB   [7]     Slave FIFO FLAGA and FLAGB3         FLAGB2   FLAGB1   FLAGB0    FLAGA3   FLAGA2    FLAGA1    FLAGA0    00000000 RW
                                FLAGB Pin Configuration
                         [7]
E603 1     PINFLAGSCD           Slave FIFO FLAGC and FLAGD3         FLAGD2   FLAGD1   FLAGD0    FLAGC3   FLAGC2    FLAGC1    FLAGC0    00000000 RW
                                FLAGD Pin Configuration
E604 1     FIFORESET [7]        Restore FIFOS to default NAKALL     0        0        0         EP3      EP2       EP1       EP0       xxxxxxxx W
                                state
E605 1     BREAKPT              Breakpoint Control         0        0        0        0         BREAK    BPPULSE   BPEN      0         00000000 rrrrbbbr
E606 1     BPADDRH              Breakpoint Address H       A15      A14      A13      A12       A11      A10       A9        A8        xxxxxxxx RW
E607 1     BPADDRL              Breakpoint Address L       A7       A6       A5       A4        A3       A2        A1        A0        xxxxxxxx RW
E608 1     UART230              230 Kbaud internally       0        0        0        0         0        0         230UART1  230UART0  00000000 rrrrrrbb
                                generated ref. clock
E609 1     FIFOPINPOLAR [7]     Slave FIFO Interface pins 0         0        PKTEND   SLOE      SLRD     SLWR      EF        FF        00000000 rrbbbbbb
                                polarity
E60A 1     REVID                Chip Revision              rv7      rv6      rv5      rv4       rv3      rv2       rv1       rv0       RevA     R
                                                                                                                                       00000001
E60B 1     REVCTL   [7]         Chip Revision Control      0        0        0        0         0        0         dyn_out   enh_pkt   00000000 rrrrrrbb
           UDMA
E60C 1     GPIFHOLDAMOUNT MSTB Hold Time (for              0        0        0        0         0        0         HOLDTIME1 HOLDTIME0 00000000 rrrrrrbb
                                UDMA)
     3     reserved
           ENDPOINT CONFIGURATION
E610 1     EP1OUTCFG            Endpoint 1-OUT             VALID    0        TYPE1    TYPE0     0        0         0         0         10100000 brbbrrrr
                                Configuration
E611 1     EP1INCFG             Endpoint 1-IN              VALID    0        TYPE1    TYPE0     0        0         0         0         10100000 brbbrrrr
                                Configuration
E612 1     EP2CFG               Endpoint 2 Configuration   VALID    DIR      TYPE1    TYPE0     SIZE     0         BUF1      BUF0      10100010 bbbbbrbb
E613 1     EP4CFG               Endpoint 4 Configuration   VALID    DIR      TYPE1    TYPE0     0        0         0         0         10100000 bbbbrrrr
E614 1     EP6CFG               Endpoint 6 Configuration   VALID    DIR      TYPE1    TYPE0     SIZE     0         BUF1      BUF0      11100010 bbbbbrbb
E615 1     EP8CFG               Endpoint 8 Configuration   VALID    DIR      TYPE1    TYPE0     0        0         0         0         11100000 bbbbrrrr
     2     reserved
E618 1     EP2FIFOCFG [7]       Endpoint 2/slave FIFO      0        INFM1    OEP1     AUTOOUT   AUTOIN   ZEROLENIN 0         WORDWIDE 00000101  rbbbbbrb
                                configuration
E619 1     EP4FIFOCFG [7]       Endpoint 4/slave FIFO      0        INFM1    OEP1     AUTOOUT   AUTOIN   ZEROLENIN 0         WORDWIDE 00000101  rbbbbbrb
                                configuration
E61A 1     EP6FIFOCFG   [7]     Endpoint 6/slave FIFO      0        INFM1    OEP1     AUTOOUT   AUTOIN   ZEROLENIN 0         WORDWIDE 00000101  rbbbbbrb
                                configuration
                        [7]
E61B 1     EP8FIFOCFG           Endpoint 8/slave FIFO      0        INFM1    OEP1     AUTOOUT   AUTOIN   ZEROLENIN 0         WORDWIDE 00000101  rbbbbbrb
                                configuration
E61C 4     reserved
E620 1     EP2AUTOINLENH [7] Endpoint 2 AUTOIN             0        0        0        0         0        PL10      PL9       PL8       00000010 rrrrrbbb
                                Packet Length H
E621 1     EP2AUTOINLENL [7] Endpoint 2 AUTOIN             PL7      PL6      PL5      PL4       PL3      PL2       PL1       PL0       00000000 RW
                                Packet Length L
E622 1     EP4AUTOINLENH [7] Endpoint 4 AUTOIN             0        0        0        0         0        0         PL9       PL8       00000010 rrrrrrbb
                                Packet Length H
E623 1     EP4AUTOINLENL [7] Endpoint 4 AUTOIN             PL7      PL6      PL5      PL4       PL3      PL2       PL1       PL0       00000000 RW
                                Packet Length L
E624 1     EP6AUTOINLENH [7] Endpoint 6 AUTOIN             0        0        0        0         0        PL10      PL9       PL8       00000010 rrrrrbbb
                                Packet Length H
E625 1     EP6AUTOINLEN L [7] Endpoint 6 AUTOIN            PL7      PL6      PL5      PL4       PL3      PL2       PL1       PL0       00000000 RW
                                Packet Length L
E626 1     EP8AUTOINLENH [7] Endpoint 8 AUTOIN             0        0        0        0         0        0         PL9       PL8       00000010 rrrrrrbb
                                Packet Length H
E627 1     EP8AUTOINLENL [7] Endpoint 8 AUTOIN             PL7      PL6      PL5      PL4       PL3      PL2       PL1       PL0       00000000 RW
                                Packet Length L
E628 1     ECCCFG               ECC Configuration          0        0        0        0         0        0         0         ECCM      00000000 rrrrrrrb
Note
 7. The register can only be reset, it cannot be set.
Document Number: 001-04247 Rev. *O                                                                                                       Page 21 of 40


                                                                                                                                         CY7C68033
                                                                                                                                         CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size         Name                 Description            b7          b6          b5         b4          b3         b2     b1      b0     Default  Access
E629 1     ECCRESET              ECC Reset               x           x           x          x           x           x      x      x          00000000 W
E62A 1     ECC1B0                ECC1 Byte 0 Address     LINE15      LINE14      LINE13     LINE12      LINE11      LINE10 LINE9  LINE8      00000000 R
E62B 1     ECC1B1                ECC1 Byte 1 Address     LINE7       LINE6       LINE5      LINE4       LINE3       LINE2  LINE1  LINE0      00000000 R
E62C 1     ECC1B2                ECC1 Byte 2 Address     COL5        COL4        COL3       COL2        COL1        COL0   LINE17 LINE16     00000000 R
E62D 1     ECC2B0                ECC2 Byte 0 Address     LINE15      LINE14      LINE13     LINE12      LINE11      LINE10 LINE9  LINE8      00000000 R
E62E 1     ECC2B1                ECC2 Byte 1 Address     LINE7       LINE6       LINE5      LINE4       LINE3       LINE2  LINE1  LINE0      00000000 R
E62F 1     ECC2B2                ECC2 Byte 2 Address     COL5        COL4        COL3       COL2        COL1        COL0   0      0          00000000 R
E630 1     EP2FIFOPFH [8]        Endpoint 2/slave FIFO   DECIS       PKTSTAT     IN:PKTS[2] IN:PKTS[1]  IN:PKTS[0] 0       PFC9   PFC8       10001000 bbbbbrbb
H.S.                             Programmable Flag H                             OUT:PFC12  OUT:PFC11   OUT:PFC10
E630 1     EP2FIFOPFH [8]        Endpoint 2/slave FIFO   DECIS       PKTSTAT     OUT:PFC12  OUT:PFC11   OUT:PFC10 0        PFC9   IN:PKTS[2] 10001000 bbbbbrbb
F.S.                             Programmable Flag H                                                                              OUT:PFC8
E631 1     EP2FIFOPFL      [8]   Endpoint 2/slave FIFO   PFC7        PFC6        PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
H.S.                             Programmable Flag L
                           [8]
E631 1     EP2FIFOPFL            Endpoint 2/slave FIFO   IN:PKTS[1]  IN:PKTS[0]  PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
F.S                              Programmable Flag L     OUT:PFC7    OUT:PFC6
E632 1     EP4FIFOPFH [8]        Endpoint 4/slave FIFO   DECIS       PKTSTAT     0          IN: PKTS[1] IN: PKTS[0] 0      0      PFC8       10001000 bbrbbrrb
H.S.                             Programmable Flag H                                        OUT:PFC10 OUT:PFC9
E632 1     EP4FIFOPFH       [8]  Endpoint 4/slave FIFO   DECIS       PKTSTAT     0          OUT:PFC10 OUT:PFC9 0           0      PFC8       10001000 bbrbbrrb
F.S                              Programmable Flag H
                           [8]
E633 1     EP4FIFOPFL            Endpoint 4/slave FIFO   PFC7        PFC6        PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
H.S.                             Programmable Flag L
E633 1     EP4FIFOPFL [8]        Endpoint 4/slave FIFO   IN: PKTS[1] IN: PKTS[0] PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
F.S                              Programmable Flag L     OUT:PFC7 OUT:PFC6
E634 1     EP6FIFOPFH       [8]  Endpoint 6/slave FIFO   DECIS       PKTSTAT     IN:PKTS[2] IN:PKTS[1] IN:PKTS[0] 0        PFC9   PFC8       00001000 bbbbbrbb
H.S.                             Programmable Flag H                             OUT:PFC12  OUT:PFC11 OUT:PFC10
                            [8]
E634 1     EP6FIFOPFH            Endpoint 6/slave FIFO   DECIS       PKTSTAT     OUT:PFC12  OUT:PFC11 OUT:PFC10 0          PFC9   IN:PKTS[2] 00001000 bbbbbrbb
F.S                              Programmable Flag H                                                                              OUT:PFC8
E635 1     EP6FIFOPFL [8]        Endpoint 6/slave FIFO   PFC7        PFC6        PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
H.S.                             Programmable Flag L
E635 1     EP6FIFOPFL [8]        Endpoint 6/slave FIFO   IN:PKTS[1]  IN:PKTS[0]  PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
F.S                              Programmable Flag L     OUT:PFC7    OUT:PFC6
E636 1     EP8FIFOPFH       [8]  Endpoint 8/slave FIFO   DECIS       PKTSTAT     0          IN: PKTS[1] IN: PKTS[0] 0      0      PFC8       00001000 bbrbbrrb
H.S.                             Programmable Flag H                                        OUT:PFC10 OUT:PFC9
E636 1     EP8FIFOPFH       [8]  Endpoint 8/slave FIFO   DECIS       PKTSTAT     0          OUT:PFC10 OUT:PFC9 0           0      PFC8       00001000 bbrbbrrb
F.S                              Programmable Flag H
E637 1     EP8FIFOPFL [8]        Endpoint 8/slave FIFO   PFC7        PFC6        PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
H.S.                             Programmable Flag L
E637 1     EP8FIFOPFL      [8]   Endpoint 8/slave FIFO   IN: PKTS[1] IN: PKTS[0] PFC5       PFC4        PFC3        PFC2   PFC1   PFC0       00000000 RW
F.S                              Programmable Flag L     OUT:PFC7 OUT:PFC6
     8     reserved
E640 1     EP2ISOINPKTS          EP2 (if ISO) IN Packets AADJ        0           0          0           0           0      INPPF1 INPPF0     00000001 brrrrrbb
                                 per frame (1–3)
E641 1     EP4ISOINPKTS          EP4 (if ISO) IN Packets AADJ        0           0          0           0           0      INPPF1 INPPF0     00000001 brrrrrrr
                                 per frame (1–3)
E642 1     EP6ISOINPKTS          EP6 (if ISO) IN Packets AADJ        0           0          0           0           0      INPPF1 INPPF0     00000001 brrrrrbb
                                 per frame (1–3)
E643 1     EP8ISOINPKTS          EP8 (if ISO) IN Packets AADJ        0           0          0           0           0      INPPF1 INPPF0     00000001 brrrrrrr
                                 per frame (1–3)
E644 4     reserved
E648 1     INPKTEND [8]          Force IN Packet End     Skip        0           0          0           EP3         EP2    EP1    EP0        xxxxxxxx W
E649 7     OUTPKTEND [8]         Force OUT Packet End    Skip        0           0          0           EP3         EP2    EP1    EP0        xxxxxxxx W
           INTERRUPTS
E650 1     EP2FIFOIE [8]         Endpoint 2 slave FIFO   0           0           0          0           EDGEPF      PF     EF     FF         00000000 RW
                                 Flag Interrupt Enable
E651 1     EP2FIFOIRQ [8, 9]     Endpoint 2 slave FIFO   0           0           0          0           0           PF     EF     FF         00000000 rrrrrbbb
                                 Flag Interrupt Request
                       [8]
E652 1     EP4FIFOIE             Endpoint 4 slave FIFO   0           0           0          0           EDGEPF      PF     EF     FF         00000000 RW
                                 Flag Interrupt Enable
E653 1     EP4FIFOIRQ     [8, 9] Endpoint 4 slave FIFO   0           0           0          0           0           PF     EF     FF         00000000 rrrrrbbb
                                 Flag Interrupt Request
E654 1     EP6FIFOIE [8]         Endpoint 6 slave FIFO   0           0           0          0           EDGEPF      PF     EF     FF         00000000 RW
                                 Flag Interrupt Enable
E655 1     EP6FIFOIRQ     [8, 9] Endpoint 6 slave FIFO   0           0           0          0           0           PF     EF     FF         00000000 rrrrrbbb
                                 Flag Interrupt Request
                       [8]
E656 1     EP8FIFOIE             Endpoint 8 slave FIFO   0           0           0          0           EDGEPF      PF     EF     FF         00000000 RW
                                 Flag Interrupt Enable
E657 1     EP8FIFOIRQ [8, 9]     Endpoint 8 slave FIFO   0           0           0          0           0           PF     EF     FF         00000000 rrrrrbbb
                                 Flag Interrupt Request
E658 1     IBNIE                 IN-BULK-NAK Interrupt   0           0           EP8        EP6         EP4         EP2    EP1    EP0        00000000 RW
                                 Enable
E659 1     IBNIRQ  [8]           IN-BULK-NAK interrupt   0           0           EP8        EP6         EP4         EP2    EP1    EP0        00xxxxxx rrbbbbbb
                                 Request
E65A 1     NAKIE                 Endpoint Ping-NAK/IBN   EP8         EP6         EP4        EP2         EP1         EP0    0      IBN        00000000 RW
                                 Interrupt Enable
Notes
 8. The register can only be reset, it cannot be set.
 9. SFRs not part of the standard 8051 architecture.
Document Number: 001-04247 Rev. *O                                                                                                             Page 22 of 40


                                                                                                                            CY7C68033
                                                                                                                            CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size          Name                Description             b7       b6      b5      b4     b3       b2       b1       b0    Default  Access
E65B 1      NAKIRQ [10]          Endpoint Ping-NAK/IBN EP8         EP6     EP4     EP2     EP1     EP0      0        IBN      xxxxxx0x  bbbbbbrb
                                 Interrupt Request
E65C 1      USBIE                USB Int Enables           0       EP0ACK  HSGRANT URES    SUSP    SUTOK    SOF      SUDAV    00000000  RW
E65D 1      USBIRQ [10]          USB Interrupt Requests 0          EP0ACK  HSGRANT URES    SUSP    SUTOK    SOF      SUDAV    0xxxxxxx  rbbbbbbb
E65E 1      EPIE                 Endpoint Interrupt        EP8     EP6     EP4     EP2     EP1OUT  EP1IN    EP0OUT   EP0IN    00000000  RW
                                 Enables
E65F 1      EPIRQ [10]           Endpoint Interrupt        EP8     EP6     EP4     EP2     EP1OUT  EP1IN    EP0OUT   EP0IN    0         RW
                                 Requests
                    [10]
E660 1      GPIFIE               GPIF Interrupt Enable     0       0       0       0       0       0        GPIFWF   GPIFDONE 00000000  RW
E661 1      GPIFIRQ [10]         GPIF Interrupt Request 0          0       0       0       0       0        GPIFWF   GPIFDONE 000000xx  RW
E662 1      USBERRIE             USB Error Interrupt       ISOEP8  ISOEP6  ISOEP4  ISOEP2  0       0        0        ERRLIMIT 00000000  RW
                                 Enables
E663 1      USBERRIRQ [10]       USB Error Interrupt       ISOEP8  ISOEP6  ISOEP4  ISOEP2  0       0        0        ERRLIMIT 0000000x  bbbbrrrb
                                 Requests
E664 1      ERRCNTLIM            USB Error counter and     EC3     EC2     EC1     EC0     LIMIT3  LIMIT2   LIMIT1   LIMIT0   xxxx0100  rrrrbbbb
                                 limit
E665 1      CLRERRCNT            Clear Error Counter EC3:0 x       x       x       x       x       x        x        x        xxxxxxxx  W
E666 1      INT2IVEC             Interrupt 2 (USB)         0       I2V4    I2V3    I2V2    I2V1    I2V0     0        0        00000000  R
                                 Autovector
E667 1      INT4IVEC             Interrupt 4 (slave FIFO & 1       0       I4V3    I4V2    I4V1    I4V0     0        0        10000000  R
                                 GPIF) Autovector
E668 1      INTSET-UP            Interrupt 2&4 setup       0       0       0       0       AV2EN   0        INT4SRC  AV4EN    00000000  RW
E669 7      reserved
            INPUT/OUTPUT
E670 1      PORTACFG             I/O PORTA Alternate       FLAGD   SLCS    0       0       0       0        INT1     INT0     00000000  RW
                                 Configuration
E671 1      PORTCCFG             I/O PORTC Alternate       GPIFA7  GPIFA6  GPIFA5  GPIFA4  GPIFA3  GPIFA2   GPIFA1   GPIFA0   00000000  RW
                                 Configuration
E672 1      PORTECFG             I/O PORTE Alternate       GPIFA8  T2EX    INT6    RXD1OUT RXD0OUT T2OUT    T1OUT    T0OUT    00000000  RW
                                 Configuration
E673  4     XTALINSRC            XTALIN Clock Source       0       0       0       0       0       0        0        EXTCLK   00000000  rrrrrrrb
E677  1     reserved
E678  1     I2CS                 I2C Bus Control & Status  START   STOP    LASTRD  ID1     ID0     BERR     ACK      DONE     000xx000  bbbrrrrr
E679  1     I2DAT                I2C Bus Data              d7      d6      d5      d4      d3      d2       d1       d0       xxxxxxxx  RW
E67A  1     I2CTL                I2C Bus Control           0       0       0       0       0       0        STOPIE   400kHz   00000000  RW
E67B  1     XAUTODAT1            Autoptr1 MOVX access,     D7      D6      D5      D4      D3      D2       D1       D0       xxxxxxxx  RW
                                 when APTREN=1
E67C 1      XAUTODAT2            Autoptr2 MOVX access,     D7      D6      D5      D4      D3      D2       D1       D0       xxxxxxxx  RW
                                 when APTREN=1
            UDMA CRC
E67D 1      UDMACRCH [10]        UDMA CRC MSB              CRC15   CRC14   CRC13   CRC12   CRC11   CRC10    CRC9     CRC8     01001010  RW
E67E 1      UDMACRCL [10]        UDMA CRC LSB              CRC7    CRC6    CRC5    CRC4    CRC3    CRC2     CRC1     CRC0     10111010  RW
E67F 1      UDMACRC-             UDMA CRC Qualifier        QENABLE 0       0       0       QSTATE  QSIGNAL2 QSIGNAL1 QSIGNAL0 00000000  brrrbbbb
            QUALIFIER
            USB CONTROL
E680  1     USBCS                USB Control & Status      HSM     0       0       0       DISCON  NOSYNSOF RENUM    SIGRSUME x0000000  rrrrbbbb
E681  1     SUSPEND              Put chip into suspend     x       x       x       x       x       x        x        x        xxxxxxxx  W
E682  1     WAKEUPCS             Wakeup Control & Status   WU2     WU      WU2POL  WUPOL   0       DPEN     WU2EN    WUEN     xx000101  bbbbrbbb
E683  1     TOGCTL               Toggle Control            Q       S       R       I/O     EP3     EP2      EP1      EP0      x0000000  rrrbbbbb
E684  1     USBFRAMEH            USB Frame count H         0       0       0       0       0       FC10     FC9      FC8      00000xxx  R
E685  1     USBFRAMEL            USB Frame count L         FC7     FC6     FC5     FC4     FC3     FC2      FC1      FC0      xxxxxxxx  R
E686  1     MICROFRAME           Microframe count, 0–7     0       0       0       0       0       MF2      MF1      MF0      00000xxx  R
E687  1     FNADDR               USB Function address      0       FA6     FA5     FA4     FA3     FA2      FA1      FA0      0xxxxxxx  R
E688  2     reserved
            ENDPOINTS
E68A  1     EP0BCH [10]          Endpoint 0 Byte Count H (BC15)    (BC14)  (BC13)  (BC12)  (BC11)  (BC10)   (BC9)    (BC8)    xxxxxxxx  RW
E68B  1     EP0BCL [10]          Endpoint 0 Byte Count L (BC7)     BC6     BC5     BC4     BC3     BC2      BC1      BC0      xxxxxxxx  RW
E68C  1     reserved
E68D  1     EP1OUTBC             Endpoint 1 OUT Byte       0       BC6     BC5     BC4     BC3     BC2      BC1      BC0      0xxxxxxx  RW
                                 Count
E68E  1     reserved
E68F  1     EP1INBC              Endpoint 1 IN Byte Count 0        BC6     BC5     BC4     BC3     BC2      BC1      BC0      0xxxxxxx  RW
E690  1     EP2BCH [10]          Endpoint 2 Byte Count H 0         0       0       0       0       BC10     BC9      BC8      00000xxx  RW
E691  1     EP2BCL [10]          Endpoint 2 Byte Count L BC7/SKIP  BC6     BC5     BC4     BC3     BC2      BC1      BC0      xxxxxxxx  RW
E692  2     reserved
E694  1     EP4BCH [10]          Endpoint 4 Byte Count H 0         0       0       0       0       0        BC9      BC8      000000xx  RW
E695  1     EP4BCL [10]          Endpoint 4 Byte Count L BC7/SKIP  BC6     BC5     BC4     BC3     BC2      BC1      BC0      xxxxxxxx  RW
E696  2     reserved
E698  1     EP6BCH [10]          Endpoint 6 Byte Count H 0         0       0       0       0       BC10     BC9      BC8      00000xxx  RW
E699  1     EP6BCL [10]          Endpoint 6 Byte Count L BC7/SKIP  BC6     BC5     BC4     BC3     BC2      BC1      BC0      xxxxxxxx  RW
Note
 10. The register can only be reset, it cannot be set.
Document Number: 001-04247 Rev. *O                                                                                              Page 23 of 40


                                                                                                                                 CY7C68033
                                                                                                                                 CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size          Name                 Description            b7        b6        b5        b4        b3      b2      b1      b0   Default  Access
E69A  2     reserved
E69C  1     EP8BCH [11]          Endpoint 8 Byte Count H 0           0         0         0         0       0       BC9     BC8     000000xx RW
E69D  1     EP8BCL [11]          Endpoint 8 Byte Count L BC7/SKIP    BC6       BC5       BC4       BC3     BC2     BC1     BC0     xxxxxxxx RW
E69E  2     reserved
E6A0  1     EP0CS                Endpoint 0 Control and    HSNAK     0         0         0         0       0       BUSY    STALL   10000000 bbbbbbrb
                                 Status
E6A1 1      EP1OUTCS             Endpoint 1 OUT Control    0         0         0         0         0       0       BUSY    STALL   00000000 bbbbbbrb
                                 and Status
E6A2 1      EP1INCS              Endpoint 1 IN Control and 0         0         0         0         0       0       BUSY    STALL   00000000 bbbbbbrb
                                 Status
E6A3 1      EP2CS                Endpoint 2 Control and    0         NPAK2     NPAK1     NPAK0     FULL    EMPTY   0       STALL   00101000 rrrrrrrb
                                 Status
E6A4 1      EP4CS                Endpoint 4 Control and    0         0         NPAK1     NPAK0     FULL    EMPTY   0       STALL   00101000 rrrrrrrb
                                 Status
E6A5 1      EP6CS                Endpoint 6 Control and    0         NPAK2     NPAK1     NPAK0     FULL    EMPTY   0       STALL   00000100 rrrrrrrb
                                 Status
E6A6 1      EP8CS                Endpoint 8 Control and    0         0         NPAK1     NPAK0     FULL    EMPTY   0       STALL   00000100 rrrrrrrb
                                 Status
E6A7 1      EP2FIFOFLGS          Endpoint 2 slave FIFO     0         0         0         0         0       PF      EF      FF      00000010 R
                                 Flags
E6A8 1      EP4FIFOFLGS          Endpoint 4 slave FIFO     0         0         0         0         0       PF      EF      FF      00000010 R
                                 Flags
E6A9 1      EP6FIFOFLGS          Endpoint 6 slave FIFO     0         0         0         0         0       PF      EF      FF      00000110 R
                                 Flags
E6AA 1      EP8FIFOFLGS          Endpoint 8 slave FIFO     0         0         0         0         0       PF      EF      FF      00000110 R
                                 Flags
E6AB 1      EP2FIFOBCH           Endpoint 2 slave FIFO     0         0         0         BC12      BC11    BC10    BC9     BC8     00000000 R
                                 total byte count H
E6AC 1      EP2FIFOBCL           Endpoint 2 slave FIFO     BC7       BC6       BC5       BC4       BC3     BC2     BC1     BC0     00000000 R
                                 total byte count L
E6AD 1      EP4FIFOBCH           Endpoint 4 slave FIFO     0         0         0         0         0       BC10    BC9     BC8     00000000 R
                                 total byte count H
E6AE 1      EP4FIFOBCL           Endpoint 4 slave FIFO     BC7       BC6       BC5       BC4       BC3     BC2     BC1     BC0     00000000 R
                                 total byte count L
E6AF 1      EP6FIFOBCH           Endpoint 6 slave FIFO     0         0         0         0         BC11    BC10    BC9     BC8     00000000 R
                                 total byte count H
E6B0 1      EP6FIFOBCL           Endpoint 6 slave FIFO     BC7       BC6       BC5       BC4       BC3     BC2     BC1     BC0     00000000 R
                                 total byte count L
E6B1 1      EP8FIFOBCH           Endpoint 8 slave FIFO     0         0         0         0         0       BC10    BC9     BC8     00000000 R
                                 total byte count H
E6B2 1      EP8FIFOBCL           Endpoint 8 slave FIFO     BC7       BC6       BC5       BC4       BC3     BC2     BC1     BC0     00000000 R
                                 total byte count L
E6B3 1      SUDPTRH              Setup Data Pointer high   A15       A14       A13       A12       A11     A10     A9      A8      xxxxxxxx RW
                                 address byte
E6B4 1      SUDPTRL              Setup Data Pointer low    A7        A6        A5        A4        A3      A2      A1      0       xxxxxxx0 bbbbbbbr
                                 address byte
E6B5 1      SUDPTRCTL            Setup Data Pointer Auto   0         0         0         0         0       0       0       SDPAUTO 00000001 RW
                                 Mode
      2     reserved
E6B8 8      SET-UPDAT            8 bytes of setup data     D7        D6        D5        D4        D3      D2      D1      D0      xxxxxxxx R
                                 SET-UPDAT[0] =
                                 bmRequestType
                                 SET-UPDAT[1] =
                                 bmRequest
                                 SET-UPDAT[2:3] =
                                 wValue
                                 SET-UPDAT[4:5] =
                                 wIndex
                                 SET-UPDAT[6:7] =
                                 wLength
            GPIF
E6C0 1      GPIFWFSELECT         Waveform Selector         SINGLEWR1 SINGLEWR0 SINGLERD1 SINGLERD0 FIFOWR1 FIFOWR0 FIFORD1 FIFORD0 11100100 RW
E6C1 1      GPIFIDLECS           GPIF Done, GPIF IDLE      DONE      0         0         0         0       0       0       IDLEDRV 10000000 RW
                                 drive mode
E6C2  1     GPIFIDLECTL          Inactive Bus, CTL states  0         0         CTL5      CTL4      CTL3    CTL2    CTL1    CTL0    11111111 RW
E6C3  1     GPIFCTLCFG           CTL Drive Type            TRICTL    0         CTL5      CTL4      CTL3    CTL2    CTL1    CTL0    00000000 RW
E6C4  1     GPIFADRH [11]        GPIF Address H            0         0         0         0         0       0       0       GPIFA8  00000000 RW
E6C5  1     GPIFADRL [11]        GPIF Address L            GPIFA7    GPIFA6    GPIFA5    GPIFA4    GPIFA3  GPIFA2  GPIFA1  GPIFA0  00000000 RW
            FLOWSTATE
E6C6 1      FLOWSTATE            Flowstate Enable and      FSE       0         0         0         0       FS2     FS1     FS0     00000000 brrrrbbb
                                 Selector
E6C7 1      FLOWLOGIC            Flowstate Logic           LFUNC1    LFUNC0    TERMA2    TERMA1    TERMA0  TERMB2  TERMB1  TERMB0  00000000 RW
Note
 11. The register can only be reset, it cannot be set.
Document Number: 001-04247 Rev. *O                                                                                                   Page 24 of 40


                                                                                                                                CY7C68033
                                                                                                                                CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size          Name                Description             b7        b6        b5        b4       b3      b2     b1       b0    Default  Access
E6C8 1      FLOWEQ0CTL           CTL-Pin States in         CTL0E3    CTL0E2    CTL0E1 /  CTL0E0 / CTL3    CTL2   CTL1    CTL0      00000000 RW
                                 Flowstate (when                               CTL5      CTL4
                                 Logic = 0)
E6C9 1      FLOWEQ1CTL           CTL-Pin States in         CTL0E3    CTL0E2    CTL0E1 /  CTL0E0 / CTL3    CTL2   CTL1    CTL0      00000000 RW
                                 Flowstate (when                               CTL5      CTL4
                                 Logic = 1)
E6CA 1      FLOWHOLDOFF          Holdoff Configuration     HOPERIOD3 HOPERIOD2 HOPERIOD1 HOPERIOD HOSTATE HOCTL2 HOCTL1  HOCTL0    00010010 RW
                                                                                         0
E6CB 1      FLOWSTB              Flowstate Strobe          SLAVE     RDYASYNC CTLTOGL    SUSTAIN  0       MSTB2  MSTB1   MSTB0     00100000 RW
                                 Configuration
E6CC 1      FLOWSTBEDGE          Flowstate Rising/Falling 0          0         0         0        0       0      FALLING RISING    00000001 rrrrrrbb
                                 Edge Configuration
E6CD 1      FLOWSTBPERIOD        Master-Strobe Half-Period D7        D6        D5        D4       D3      D2     D1      D0        00000010 RW
E6CE 1      GPIFTCB3 [12]        GPIF Transaction Count TC31         TC30      TC29      TC28     TC27    TC26   TC25    TC24      00000000 RW
                                 Byte 3
E6CF 1      GPIFTCB2 [12]        GPIF Transaction Count TC23         TC22      TC21      TC20     TC19    TC18   TC17    TC16      00000000 RW
                                 Byte 2
E6D0 1      GPIFTCB1 [12]        GPIF Transaction Count TC15         TC14      TC13      TC12     TC11    TC10   TC9     TC8       00000000 RW
                                 Byte 1
E6D1 1      GPIFTCB0   [12]      GPIF Transaction Count TC7          TC6       TC5       TC4      TC3     TC2    TC1     TC0       00000001 RW
                                 Byte 0
      2     reserved                                                                                                               00000000 RW
            reserved
            reserved                                                           1
E6D2  1     EP2GPIFFLGSEL [12] Endpoint 2 GPIF Flag        0         0         0         0        0       0      FS1     FS0       00000000 RW
                                 select
E6D3  1     EP2GPIFPFSTOP        Endpoint 2 GPIF stop      0         0         0         0        0       0      0       FIFO2FLAG 00000000 RW
                                 transaction on prog. flag
E6D4  1     EP2GPIFTRIG     [12] Endpoint 2 GPIF Trigger   x         x         x         x        x       x      x       x         xxxxxxxx W
      3     reserved
            reserved
            reserved
E6DA  1     EP4GPIFFLGSEL [12] Endpoint 4 GPIF Flag        0         0         0         0        0       0      FS1     FS0       00000000 RW
                                 select
E6DB  1     EP4GPIFPFSTOP        Endpoint 4 GPIF stop      0         0         0         0        0       0      0       FIFO4FLAG 00000000 RW
                                 transaction on GPIF Flag
E6DC  1     EP4GPIFTRIG     [12] Endpoint 4 GPIF Trigger   x         x         x         x        x       x      x       x         xxxxxxxx W
      3     reserved
            reserved
            reserved
E6E2  1     EP6GPIFFLGSEL [12] Endpoint 6 GPIF Flag        0         0         0         0        0       0      FS1     FS0       00000000 RW
                                 select
E6E3  1     EP6GPIFPFSTOP        Endpoint 6 GPIF stop      0         0         0         0        0       0      0       FIFO6FLAG 00000000 RW
                                 transaction on prog. flag
                            [12]
E6E4  1     EP6GPIFTRIG          Endpoint 6 GPIF Trigger   x         x         x         x        x       x      x       x         xxxxxxxx W
      3     reserved
            reserved
            reserved
E6EA  1     EP8GPIFFLGSEL [12] Endpoint 8 GPIF Flag        0         0         0         0        0       0      FS1     FS0       00000000 RW
                                 select
E6EB  1     EP8GPIFPFSTOP        Endpoint 8 GPIF stop      0         0         0         0        0       0      0       FIFO8FLAG 00000000 RW
                                 transaction on prog. flag
E6EC  1     EP8GPIFTRIG [12]     Endpoint 8 GPIF Trigger   x         x         x         x        x       x      x       x         xxxxxxxx W
      3     reserved
E6F0  1     XGPIFSGLDATH         GPIF Data H               D15       D14       D13       D12      D11     D10    D9      D8        xxxxxxxx RW
                                 (16-bit mode only)
E6F1  1     XGPIFSGLDATLX        Read/Write GPIF Data L &  D7        D6        D5        D4       D3      D2     D1      D0        xxxxxxxx RW
                                 trigger transaction
E6F2  1     XGPIFSGLDATLNOX Read GPIF Data L, no           D7        D6        D5        D4       D3      D2     D1      D0        xxxxxxxx R
                                 transaction trigger
E6F3  1     GPIFREADYCFG         Internal RDY, Sync/Async, INTRDY    SAS       TCXRDY5   0        0       0      0       0         00000000 bbbrrrrr
                                 RDY pin states
E6F4  1     GPIFREADYSTAT        GPIF Ready Status         0         0         RDY5      RDY4     RDY3    RDY2   RDY1    RDY0      00xxxxxx R
E6F5  1     GPIFABORT            Abort GPIF Waveforms      x         x         x         x        x       x      x       x         xxxxxxxx W
E6F6  2     reserved
            ENDPOINT BUFFERS
E740  64    EP0BUF               EP0-IN/-OUT buffer        D7        D6        D5        D4       D3      D2     D1      D0        xxxxxxxx RW
E780  64    EP10UTBUF            EP1-OUT buffer            D7        D6        D5        D4       D3      D2     D1      D0        xxxxxxxx RW
E7C0  64    EP1INBUF             EP1-IN buffer             D7        D6        D5        D4       D3      D2     D1      D0        xxxxxxxx RW
      2048 reserved                                                                                                                         RW
Note
 12. The register can only be reset, it cannot be set.
Document Number: 001-04247 Rev. *O                                                                                                   Page 25 of 40


                                                                                                                             CY7C68033
                                                                                                                             CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size             Name                 Description              b7     b6      b5     b4     b3     b2        b1       b0   Default      Access
F000 1024 EP2FIFOBUF                 512/1024-byte EP 2/slave D7       D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
                                     FIFO buffer (IN or OUT)
F400 512     EP4FIFOBUF              512 byte EP 4/slave FIFO D7       D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
                                     buffer (IN or OUT)
F600 512     reserved
F800 1024 EP6FIFOBUF                 512/1024-byte EP 6/slave D7       D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
                                     FIFO buffer (IN or OUT)
FC00 512     EP8FIFOBUF              512 byte EP 8/slave FIFO D7       D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
                                     buffer (IN or OUT)
FE00 512     reserved
xxxx         I²C Configuration Byte                             0      DISCON 0       0      0      0        0        400 kHz  xxxxxxxx[14] n/a
             Special Function Registers (SFRs)
80      1    IOA [13]                Port A (bit addressable)   D7     D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
81      1    SP                      Stack Pointer              D7     D6     D5      D4     D3     D2       D1       D0       00000111     RW
82      1    DPL0                    Data Pointer 0 L           A7     A6     A5      A4     A3     A2       A1       A0       00000000     RW
83      1    DPH0                    Data Pointer 0 H           A15    A14    A13     A12    A11    A10      A9       A8       00000000     RW
84      1    DPL1 [13]               Data Pointer 1 L           A7     A6     A5      A4     A3     A2       A1       A0       00000000     RW
85      1    DPH1 [13]               Data Pointer 1 H           A15    A14    A13     A12    A11    A10      A9       A8       00000000     RW
86      1    DPS [13]                Data Pointer 0/1 select    0      0      0       0      0      0        0        SEL      00000000     RW
87      1    PCON                    Power Control              SMOD0  x      1       1      x      x        x        IDLE     00110000     RW
88      1    TCON                    Timer/Counter Control (bit TF1    TR1    TF0     TR0    IE1    IT1      IE0      IT0      00000000     RW
                                     addressable)
89      1    TMOD                    Timer/Counter Mode         GATE   CT     M1      M0     GATE   CT       M1       M0       00000000     RW
                                     Control
8A      1    TL0                     Timer 0 reload L           D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
8B      1    TL1                     Timer 1 reload L           D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
8C      1    TH0                     Timer 0 reload H           D15    D14    D13     D12    D11    D10      D9       D8       00000000     RW
8D      1    TH1                     Timer 1 reload H           D15    D14    D13     D12    D11    D10      D9       D8       00000000     RW
8E      1    CKCON [13]              Clock Control              x      x      T2M     T1M    T0M    MD2      MD1      MD0      00000001     RW
8F      1    reserved
90      1    IOB [13]                Port B (bit addressable)   D7     D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
91      1    EXIF [13]               External Interrupt Flag(s) IE5    IE4    I²CINT  USBNT  1      0        0        0        00001000     RW
92      1    MPAGE [13]              Upper Addr Byte of MOVX    A15    A14    A13     A12    A11    A10      A9       A8       00000000     RW
                                     using @R0/@R1
93      5    reserved
98      1    SCON0                   Serial Port 0 Control (bit SM0_0  SM1_0  SM2_0   REN_0  TB8_0  RB8_0    TI_0     RI_0     00000000     RW
                                     addressable)
99      1    SBUF0                   Serial Port 0 Data Buffer  D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
9A      1    AUTOPTRH1     [13]      Autopointer 1 Address H    A15    A14    A13     A12    A11    A10      A9       A8       00000000     RW
9B      1    AUTOPTRL1 [13]          Autopointer 1 Address L    A7     A6     A5      A4     A3     A2       A1       A0       00000000     RW
9C      1    reserved
9D      1    AUTOPTRH2 [13]          Autopointer 2 Address H    A15    A14    A13     A12    A11    A10      A9       A8       00000000     RW
9E      1    AUTOPTRL2 [13]          Autopointer 2 Address L    A7     A6     A5      A4     A3     A2       A1       A0       00000000     RW
9F      1    reserved
A0      1    IOC [13]                Port C (bit addressable)   D7     D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
A1      1    INT2CLR [13]            Interrupt 2 clear          x      x      x       x      x      x        x        x        xxxxxxxx     W
A2      1    INT4CLR [13]            Interrupt 4 clear          x      x      x       x      x      x        x        x        xxxxxxxx     W
A3      5    reserved
A8      1    IE                      Interrupt Enable (bit      EA     ES1    ET2     ES0    ET1    EX1      ET0      EX0      00000000     RW
                                     addressable)
A9      1    reserved
AA      1    EP2468STAT    [13]      Endpoint 2,4,6,8 status    EP8F   EP8E   EP6F    EP6E   EP4F   EP4E     EP2F     EP2E     01011010     R
                                     flags
AB      1    EP24FIFOFLGS       [13] Endpoint 2,4 slave FIFO    0      EP4PF  EP4EF   EP4FF  0      EP2PF    EP2EF    EP2FF    00100010     R
                                     status flags
AC      1    EP68FIFOFLGS [13] Endpoint 6,8 slave FIFO          0      EP8PF  EP8EF   EP8FF  0      EP6PF    EP6EF    EP6FF    01100110     R
                                     status flags
AD      2    reserved
AF      1    AUTOPTRSET-UP [13] Autopointer 1&2 setup           0      0      0       0      0      APTR2INC APTR1INC APTREN   00000110     RW
B0      1    IOD [13]                Port D (bit addressable)   D7     D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
B1      1    IOE [13]                Port E (NOT bit            D7     D6     D5      D4     D3     D2       D1       D0       xxxxxxxx     RW
                                     addressable)
B2      1    OEA [13]                Port A Output Enable       D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
B3      1    OEB [13]                Port B Output Enable       D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
B4      1    OEC [13]                Port C Output Enable       D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
B5      1    OED   [13]              Port D Output Enable       D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
B6      1    OEE [13]                Port E Output Enable       D7     D6     D5      D4     D3     D2       D1       D0       00000000     RW
B7      1    reserved
Notes
 13. SFRs not part of the standard 8051 architecture.
 14. If no NAND is detected by the SIE then the default is 00000000.
Document Number: 001-04247 Rev. *O                                                                                               Page 26 of 40


                                                                                                                                CY7C68033
                                                                                                                                CY7C68034
Table 9. NX2LP-Flex Register Summary (continued)
 Hex Size             Name                 Description              b7     b6     b5     b4     b3     b2        b1           b0       Default  Access
B8      1    IP                     Interrupt Priority (bit     1      PS1    PT2    PS0    PT1    PX1      PT0          PX0          10000000 RW
                                    addressable)
B9      1    reserved
BA      1    EP01STAT [15]          Endpoint 0&1 Status         0      0      0      0      0      EP1INBSY EP1OUTBS EP0BSY           00000000 R
                                                                                                            Y
BB      1    GPIFTRIG      [15, 16] Endpoint 2,4,6,8 GPIF       DONE   0      0      0      0      RW       EP1          EP0          10000xxx brrrrbbb
                                    slave FIFO Trigger
BC      1    reserved
BD      1    GPIFSGLDATH [15]       GPIF Data H (16-bit mode D15       D14    D13    D12    D11    D10      D9           D8           xxxxxxxx RW
                                    only)
BE      1    GPIFSGLDATLX [15]      GPIF Data L w/Trigger       D7     D6     D5     D4     D3     D2       D1           D0           xxxxxxxx RW
BF      1    GPIFSGLDAT             GPIF Data L w/No Trigger D7        D6     D5     D4     D3     D2       D1           D0           xxxxxxxx R
             LNOX [15]
C0      1    SCON1 [15]             Serial Port 1 Control (bit SM0_1   SM1_1  SM2_1  REN_1  TB8_1  RB8_1    TI_1         RI_1         00000000 RW
                                    addressable)
C1      1    SBUF1    [15]          Serial Port 1 Data Buffer D7       D6     D5     D4     D3     D2       D1           D0           00000000 RW
C2      6    reserved
C8      1    T2CON                  Timer/Counter 2 Control     TF2    EXF2   RCLK   TCLK   EXEN2  TR2      CT2          CPRL2        00000000 RW
                                    (bit addressable)
C9      1    reserved
CA      1    RCAP2L                 Capture for Timer 2,        D7     D6     D5     D4     D3     D2       D1           D0           00000000 RW
                                    auto-reload, up-counter
CB      1    RCAP2H                 Capture for Timer 2,        D7     D6     D5     D4     D3     D2       D1           D0           00000000 RW
                                    auto-reload, up-counter
CC      1    TL2                    Timer 2 reload L            D7     D6     D5     D4     D3     D2       D1           D0           00000000 RW
CD      1    TH2                    Timer 2 reload H            D15    D14    D13    D12    D11    D10      D9           D8           00000000 RW
CE      2    reserved
D0      1    PSW                    Program Status Word (bit CY        AC     F0     RS1    RS0    OV       F1           P            00000000 RW
                                    addressable)
D1      7    reserved
D8      1    EICON [15]             External Interrupt Control SMOD1   1      ERESI  RESI   INT6   0        0            0            01000000 RW
D9      7    reserved
E0      1    ACC                    Accumulator (bit            D7     D6     D5     D4     D3     D2       D1           D0           00000000 RW
                                    addressable)
E1      7    reserved
E8      1    EIE [15]               External Interrupt          1      1      1      EX6    EX5    EX4      EI²C         EUSB         11100000 RW
                                    Enable(s)
E9      7    reserved
F0      1    B                      B (bit addressable)         D7     D6     D5     D4     D3     D2       D1           D0           00000000 RW
F1      7    reserved
F8      1    EIP [15]               External Interrupt Priority 1      1      1      PX6    PX5    PX4      PI²C         PUSB         11100000 RW
                                    Control
F9      7    reserved
                                                                                                               R = all bits read-only
                                                                                                               W = all bits write-only
                                                                                                               r = read-only bit
                                                                                                               w = write-only bit
                                                                                                               b = both read/write bit
Notes
 15. SFRs not part of the standard 8051 architecture.
 16. If no NAND is detected by the SIE then the default is 00000000.
Document Number: 001-04247 Rev. *O                                                                                                      Page 27 of 40


                                                                                                                                                    CY7C68033
                                                                                                                                                    CY7C68034
Absolute Maximum Ratings                                                             Static Discharge Voltage ......................................... > 2000 V
                                                                                     Max Output Current, per I/O port ................................ 10 mA
Exceeding maximum ratings may impair the useful life of the
device. These user guidelines are not tested.                                        Operating Conditions
Storage Temperature ............................... –65 °C to +150 °C
                                                                                     TA (Ambient Temperature Under Bias)
Ambient Temperature                                                                  Commercial ................................................... 0 °C to +70 °C
with Power Supplied (Commercial) ............... 0 °C to +70 °C
                                                                                     TA (Ambient Temperature Under Bias)
Ambient Temperature                                                                  Industrial .................................................. –40 °C to +105 °C
with Power Supplied (Industrial) .............. –40 °C to +105 °C
                                                                                     Supply Voltage .........................................+3.00 V to +3.60 V
Supply Voltage to Ground Potential .............–0.5 V to +4.0 V
                                                                                     Ground Voltage ................................................................ 0 V
DC Input Voltage to any Input Pin ....................... +5.25 V[17]
                                                                                     FOSC (Oscillator or Crystal
DC Voltage Applied to                                                                Frequency) ............. 24 MHz ± 100 ppm (Parallel Resonant)
Outputs in High Z State ...................... –0.5 V to VCC + 0.5 V
Power Dissipation .................................................... 300 mW
DC Electrical Characteristics
   Parameter                      Description                                    Conditions                           Min               Typ            Max        Unit
VCC                  Supply voltage                                                                                  3.00                3.3           3.60          V
VCC ramp up          0 to 3.3 V                                                                                       200                 –              –          μs
VIH                  Input HIGH voltage                                                                                 2                 –            5.25          V
VIL                  Input LOW voltage                                                                               –0.5                 –             0.8          V
VIH_X                Crystal input HIGH voltage                                                                         2                 –            5.25          V
VIL_X                Crystal input LOW voltage                                                                       –0.5                 –             0.8          V
II                   Input leakage current                           0< VIN < VCC                                       –                 –            ±10         μA
VOH                  Output voltage HIGH                             IOUT = 4 mA                                      2.4                 –              –           V
VOL                  Output LOW voltage                              IOUT = –4 mA                                       –                 –             0.4          V
IOH                  Output current HIGH                                                                                –                 –              4         mA
IOL                  Output current LOW                                                                                 –                 –              4         mA
CIN                  Input pin capacitance                           Except D+/D–                                       –                 –             10          pF
                                                                     D+/D–                                              –                 –             15         pF
ISUSP                Suspend current                                 Connected                                          –               300          380 [18]      μA
                     CY7C68034                                       Disconnected                                       –               100          150 [18]      μA
                                                                                                                                                          [18]
                     Suspend current                                 Connected                                          –                0.5         1.2           mA
                     CY7C68033                                       Disconnected                                       –                0.3         1.0 [18]      mA
ICC                  Supply current                                  8051 running, connected to USB HS                  –                43              –         mA
                                                                     8051 running, connected to USB FS                  –                35              –         mA
IUNCONFIG            Unconfigured current                            Before bMaxPower granted by host                   –                43              –         mA
TRESET               Reset time after valid power                    VCC min = 3.0 V                                  5.0                 –              –         ms
                     Pin reset after powered on                                                                       200                 –              –          μs
USB Transceiver
USB 2.0-compliant in full and high speed modes.
Notes
 17. Applying power to I/O pins when the chip is not powered is not recommended.
 18. .Measured at Max VCC, 25 °C.
Document Number: 001-04247 Rev. *O                                                                                                                         Page 28 of 40


                                                                                                             CY7C68033
                                                                                                             CY7C68034
AC Electrical Characteristics
USB Transceiver
USB 2.0-compliant in full and high speed modes.
Slave FIFO Asynchronous Read
                                         Figure 11. Slave FIFO Asynchronous Read Timing Diagram [19]
                                                                                               tRDpwh
                                      SLRD                              tRDpwl
                                                                                             tXFLG
                                     FLAGS                                tXFD
                                      DATA                     N                N+1
                                                             tOEon                             tOEoff
                                      SLOE
Table 10. Slave FIFO Asynchronous Read Parameters [20]
   Parameter                                                    Description                              Min   Max     Unit
tRDpwl               SLRD pulse width LOW                                                                50      –      ns
tRDpwh               SLRD pulse width HIGH                                                               50     –       ns
tXFLG                SLRD to FLAGS output propagation delay                                               –     70      ns
tXFD                 SLRD to FIFO data output propagation delay                                           –     15      ns
tOEon                SLOE turn on to FIFO data valid                                                      –    10.5     ns
tOEoff               SLOE turn off to FIFO data hold                                                      –    10.5     ns
Slave FIFO Asynchronous Write
                                        Figure 12. Slave FIFO Asynchronous Write Timing Diagram [19]
                                                                                    tWRpwh
                                    SLWR/SLCS#                     tWRpwl
                                                                        tSFD   tFDH
                                           DATA
                                          FLAGS                           tXFD
Table 11. Slave FIFO Asynchronous Write Parameters with Internally Sourced IFCLK [21]
   Parameter                                                    Description                              Min   Max     Unit
tWRpwl               SLWR pulse LOW                                                                      50     –       ns
tWRpwh               SLWR pulse HIGH                                                                     70     –       ns
tSFD                 SLWR to FIFO DATA setup time                                                        10      –      ns
tFDH                 FIFO DATA to SLWR hold time                                                         10      –      ns
tXFD                 SLWR to FLAGS output propagation delay                                               –     70      ns
Notes
 19. Dashed lines denote signals with programmable polarity.
 20. Slave FIFO asynchronous parameter values use internal IFCLK setting at 48 MHz.
 21. GPIF asynchronous RDYx signals have a minimum setup time of 50 ns when using internal 48 MHz IFCLK.
Document Number: 001-04247 Rev. *O                                                                              Page 29 of 40


                                                                                                        CY7C68033
                                                                                                        CY7C68034
Slave FIFO Asynchronous Packet End Strobe
                               Figure 13. Slave FIFO Asynchronous Packet End Strobe Timing Diagram [22]
                                                                                          tPEpwh
                                               PKTEND                           tPEpwl
                                                FLAGS
                                                                                 tXFLG
Table 12. Slave FIFO Asynchronous Packet End Strobe Parameters [23]
  Parameter                                                   Description                           Min   Max     Unit
tPEpwl               PKTEND pulse width LOW                                                         50     –       ns
tPWpwh               PKTEND pulse width HIGH                                                        50     –       ns
tXFLG                PKTEND to FLAGS output propagation delay                                        –    115      ns
Slave FIFO Output Enable
                                            Figure 14. Slave FIFO Output Enable Timing Diagram [24]
                                         SLOE
                                                                                       tOEoff
                                                                            tOEon
                                         DATA
Table 13. Slave FIFO Output Enable Parameters
  Parameter                                                   Description                           Min   Max     Unit
tOEon                SLOE assert to FIFO DATA output                                                 –    10.5     ns
tOEoff               SLOE deassert to FIFO DATA hold                                                 –    10.5     ns
Notes
 22. SFRs not part of the standard 8051 architecture.
 23. Slave FIFO asynchronous parameter values use internal IFCLK setting at 48 MHz.
 24. Dashed lines denote signals with programmable polarity.
Document Number: 001-04247 Rev. *O                                                                         Page 30 of 40


                                                                                                           CY7C68033
                                                                                                           CY7C68034
Slave FIFO Address to Flags/Data
                                       Figure 15. Slave FIFO Address to Flags/Data Timing Diagram [25]
                                       FIFOADR [1.0]
                                                                                 tXFLG
                                             FLAGS
                                                                                    tXFD
                                              DATA                                   N   N+1
Table 14. Slave FIFO Address to Flags/Data Parameters
   Parameter                                                  Description                              Min   Max     Unit
tXFLG               FIFOADR[1:0] to FLAGS output propagation delay                                      –    10.7     ns
tXFD                FIFOADR[1:0] to FIFODATA output propagation delay                                   –    14.3     ns
Slave FIFO Asynchronous Address
                                      Figure 16. Slave FIFO Asynchronous Address Timing Diagram [25]
                              SLCS/FIFOADR [1:0]
                                                                                             tFAH
                                                                         tSFA
                             SLRD/SLWR/PKTEND
Table 15. Slave FIFO Asynchronous Address Parameters [26]
   Parameter                                                  Description                              Min   Max     Unit
tSFA                FIFOADR[1:0] to SLRD/SLWR/PKTEND Setup Time                                        10     –       ns
tFAH                RD/WR/PKTEND to FIFOADR[1:0] Hold Time                                             10     –       ns
Notes
 25. Dashed lines denote signals with programmable polarity.
 26. Slave FIFO asynchronous parameter values use internal IFCLK setting at 48 MHz.
Document Number: 001-04247 Rev. *O                                                                            Page 31 of 40


                                                                                                                                                        CY7C68033
                                                                                                                                                        CY7C68034
Sequence Diagram
Sequence Diagram of a Single and Burst Asynchronous Read
                               Figure 17. Slave FIFO Asynchronous Read Sequence and Timing Diagram [27]
                               tSFA                 tFAH                     tSFA                                                        tFAH
     FIFOADR
                       t=0
                                       tRDpwl    tRDpwh              T=0              tRDpwl     tRDpwh    tRDpwl    tRDpwh     tRDpwl  tRDpwh
      SLRD
                                   t=2      t=3                                  T=2       T=3                   T=5
                                                                                                       T=4                  T=6
      SLCS
                                                                                                                                                  tXFLG
                                                        tXFLG
     FLAGS
                                          tXFD                                          tXFD                  tXFD                 tXFD
                              Data (X)
      DATA                   Driven            N                                N                N+1                  N+2            N+3
                                tOEon                  tOEoff                tOEon                                                            tOEoff
      SLOE
                         t=1                    t=4                     T=1                                                             T=7
                                   Figure 18. Slave FIFO Asynchronous Read Sequence of Events Diagram
                                SLOE                SLRD        SLRD       SLOE            SLOE         SLRD       SLRD       SLRD        SLRD           SLOE
    FIFO POINTER          N                   N               N       N+1            N+1            N+1        N+1        N+2         N+2          N+3          N+3
    FIFO DATA BUS Not Driven             Driven: X            N        N          Not Driven         N         N+1        N+1         N+2           N+2      Not Driven
Figure 17 shows the timing relationship of the SLAVE FIFO                                    ■  The data that is driven, after asserting SLRD, is the updated
signals during an asynchronous FIFO read. It shows a single                                     data from the FIFO. This data is valid after a propagation delay
read followed by a burst read.                                                                  of tXFD from the activating edge of SLRD. In Figure 17, data N
                                                                                                is the first valid data read from the FIFO. For data to appear on
■  At t = 0 the FIFO address is stable and the SLCS signal is                                   the data bus during the read cycle (that is SLRD is asserted),
   asserted.                                                                                    SLOE MUST be in an asserted state. SLRD and SLOE can
■  At t = 1, SLOE is asserted. This results in the data bus being                               also be tied together.
   driven. The data that is driven on to the bus is previous data,                           The same sequence of events is also shown for a burst read
   it data that was in the FIFO from a prior read cycle.                                     marked with T = 0 through 5.
■  At t = 2, SLRD is asserted. The SLRD must meet the minimum                                Note In burst read mode, during SLOE is assertion, the data bus
   active pulse of tRDpwl and minimum deactive pulse width of                                is in a driven state and outputs the previous data. After SLRD is
   tRDpwh. If SLCS is used then, SLCS must be in asserted with                               asserted, the data from the FIFO is driven on the data bus (SLOE
   SLRD or before SLRD is asserted (that is the SLCS and SLRD                                must also be asserted) and then the FIFO pointer is
   signals must both be asserted to start a valid read condition).                           incremented.
 Note
  27. Dashed lines denote signals with programmable polarity.
Document Number: 001-04247 Rev. *O                                                                                                                         Page 32 of 40


                                                                                                                                        CY7C68033
                                                                                                                                        CY7C68034
Sequence Diagram of a Single and Burst Asynchronous Write
                                  Figure 19. Slave FIFO Asynchronous Write Sequence and Timing Diagram [28]
                        tSFA                  tFAH           tSFA                                                                           tFAH
    FIFOADR
                    t=0                                  T=0
                                 tWRpwl    tWRpwh                    tWRpwl    tWRpwh     tWRpwl     tWRpwh     tWRpwl   tWRpwh
       SLWR
                             t =1       t=3                      T=1       T=3        T=4        T=6        T=7        T=9
       SLCS
                                                                                                                                       tXFLG
                                                 tXFLG
      FLAGS
                                    tSFD tFDH                           tSFD tFDH             tSFD tFDH             tSFD tFDH
       DATA                               N                                   N+1                  N+2                    N+3
                                  t=2                                 T=2                   T=5                   T=8
                                                                                                                                tPEpwl   tPEpwh
    PKTEND
Figure 19 shows the timing relationship of the SLAVE FIFO write                           The FIFO flag is also updated after tXFLG from the deasserting
in an asynchronous mode. The diagram shows a single write                                 edge of SLWR.
followed by a burst write of three bytes and committing the                               The same sequence of events are shown for a burst write and is
4-byte-short packet using PKTEND.                                                         indicated by the timing marks of T = 0 through 5.
■  At t = 0 the FIFO address is applied, insuring that it meets the                       Note In the burst write mode, after SLWR is deasserted, the data
   setup time of tSFA. If SLCS is used, it must also be asserted                          is written to the FIFO and then the FIFO pointer is incremented
   (SLCS may be tied low in some applications).                                           to the next byte in the FIFO. The FIFO pointer is post
■  At t = 1 SLWR is asserted. SLWR must meet the minimum                                  incremented.
   active pulse of tWRpwl and minimum de-active pulse width of                            As shown in Figure 19 after the four bytes are written to the FIFO
   tWRpwh. If the SLCS is used, it must be in asserted with SLWR                          and SLWR is deasserted, the short 4-byte packet can be
   or before SLWR is asserted.                                                            committed to the host using the PKTEND. The external device
                                                                                          should be designed to not assert SLWR and the PKTEND signal
■  At t = 2, data must be present on the bus tSFD before the                              at the same time. It should be designed to assert the PKTEND
   deasserting edge of SLWR.                                                              after SLWR is deasserted and met the minimum de-asserted
At t = 3, deasserting SLWR causes the data to be written from                             pulse width. The FIFOADDR lines are to be held constant during
the data bus to the FIFO and then increments the FIFO pointer.                            the PKTEND assertion.
 Note
  28. Dashed lines denote signals with programmable polarity.
Document Number: 001-04247 Rev. *O                                                                                                               Page 33 of 40


                                                                                                  CY7C68033
                                                                                                  CY7C68034
Ordering Information
                           Ordering Code                                              Description
Silicon for battery-powered applications
CY7C68034-56LTXC                                                   8 × 8 mm, 56-pin QFN (Sawn)
CY7C68034-56LTXI                                                   8 × 8 mm, 56-pin QFN (Sawn)
Silicon for non-battery-powered applications
CY7C68033-56LTXC                                                   8 × 8 mm, 56-pin QFN (Sawn)
Development Kit
CY3686                                                             EZ-USB NX2LP-Flex Development Kit
Ordering Code Definitions
    CY 7     C   68   03X - 56 LT     X X    X
                                               X = T or blank
                                               T = Tape and Reel; blank = Tube
                                               Temperature Range: X = C or I
                                               C = Commercial; I = Industrial
                                               X = Pb-free (RoHS Compliant)
                                               Package Type:
                                               LT = QFN package
                                               No. of pins in package: 56-pin
                                               Part Number: 03X = 034 or 033
                                               Family Code: 68 = USB
                                               Technology Code: C = CMOS
                                               Marketing Code: 7 = SRAM
                                               Company ID: CY = Cypress
Document Number: 001-04247 Rev. *O                                                                   Page 34 of 40


                                                                                                     CY7C68033
                                                                                                     CY7C68034
Package Diagrams
           Figure 20. 56-pin QFN (8 × 8 × 1.0 mm) LT56B 4.5 × 5.2 EPAD (Sawn) Package Outline, 001-53450
                                                                                            001-53450 *D
Document Number: 001-04247 Rev. *O                                                                       Page 35 of 40


                                                                                                                           CY7C68033
                                                                                                                           CY7C68034
PCB Layout Recommendations                                                 Quad Flat Package No Leads (QFN) Package
                                                                           Design Notes
Follow these recommendations [29] to ensure reliable high
performance operation:                                                     Electrical contact of the part to the printed circuit board (PCB) is
■ At least a four-layer impedance controlled boards is                     made by soldering the leads on the bottom surface of the
  recommended to maintain signal quality.                                  package to the PCB. Therefore, special attention is required to
                                                                           the heat transfer area below the package to provide a good
■ Specify impedance targets (ask your board vendor what they               thermal bond to the circuit board. Design a copper (Cu) fill into
  can achieve) to meet USB specifications.                                 the PCB as a thermal pad under the package. Heat is transferred
                                                                           from the NX2LP-Flex to the PCB through the device’s metal
■ To control impedance, maintain trace widths and trace spacing.
                                                                           paddle on the bottom side of the package. It is then conducted
■ Minimize any stubs to avoid reflected signals.                           from the PCB’s thermal pad to the inner ground plane by a
                                                                           5 × 5 array of vias. A via is a plated through hole in the PCB with
■ Connections between the USB connector shell and signal                   a finished diameter of 13 mil. The QFN’s metal die paddle must
  ground must be done near the USB connector.                              be soldered to the PCB’s thermal pad. Solder mask is placed on
■ Bypass/flyback       caps    on    VBUS,   near    connector,  are       the board top side over each via to resist solder flow into the via.
  recommended.                                                             The mask on the top side also minimizes outgassing during the
                                                                           solder reflow process.
■ DPLUS and DMINUS trace lengths should be kept to within
                                                                           For further information on this package design, refer to the
  2 mm of each other in length, with preferred length of
                                                                           application note Application Note for Surface Mount Assembly of
  20–30 mm.
                                                                           Amkor’s Eutectic and Lead-Free CSPnl™ Wafer Level Chip
■ Maintain a solid ground plane under the DPLUS and DMINUS                 Scale Packages. This application note provides detailed
  traces. Do not allow the plane to be split under these traces.           information on board mounting guidelines, soldering flow, rework
                                                                           process, and so on.
■ No vias should be placed on the DPLUS or DMINUS trace
  routing unless absolutely necessary.
■ Isolate the DPLUS and DMINUS traces from all other signal
  traces as much as possible.
Note
 29. Source for recommendations: EZ-USB FX2™PCB Design Recommendations and High Speed USB Platform Design Guidelines.
Document Number: 001-04247 Rev. *O                                                                                                Page 36 of 40


                                                                                                                                        CY7C68033
                                                                                                                                        CY7C68034
Figure 21 displays a cross-sectional area underneath the package. The cross section is of only one via. The solder paste template
needs to be designed to enable at least 50% solder coverage. The thickness of the solder paste template should be 5 mil. It is
recommended that ‘No Clean’ type 3 solder paste is used for mounting the part. Nitrogen purge is recommended during reflow.
Figure 22 is a plot of the solder mask pattern and Figure 23 displays an X-Ray image of the assembly (darker areas indicate solder).
                                  Figure 21. Cross-section of the Area Underneath the QFN Package.
                                                                       0.017” dia
                                                                     Solder Mask
                                                             Cu Fill                     Cu Fill
                                                                      0.013” dia
                                        PCB Material                                           PCB Material
                       Via hole for thermally connecting the                      This figure only shows the top three layers of the
                       QFN to the circuit board ground plane.                     circuit board: Top Solder, PCB Dielectric, and the Ground Plane.
                                                Figure 22. Plot of the Solder Mask (White Area)
                                                     Figure 23. X-ray Image of the Assembly
Document Number: 001-04247 Rev. *O                                                                                                             Page 37 of 40


                                                                                                  CY7C68033
                                                                                                  CY7C68034
Acronyms                                                Document Conventions
                                                        Units of Measure
 Acronym                       Description
ASIC       application specific integrated circuit        Symbol                     Unit of Measure
CPU        central processing unit                      °C         degree Celsius
DSP        digital signal processor                     kHz        kilohertz
ECC        error correcting codes                       MHz        megahertz
EEPROM     electrically erasable programmable read only µA         microampere
           memory
                                                        µs         microsecond
FIFO       first in first out
GPIF       general programmable interface               µW         microwatt
GPIO       general purpose input/output                 mA         milliampere
I/O        input/output                                 mm         millimeter
LAN        local area network                           ms         millisecond
LSB        least-significant bit                        mV         millivolt
MSB        most-significant bit                         mW         milliwatt
PLL        phase locked loop                            ns         nanosecond
PCB        printed circuit board                        Ω          ohms
PSoC       programmable system-on-chip                  %          percent
QFN        quad flat no leads
                                                        pF         picofarad
RAM        random access memory
                                                        ppm        parts per million
ROM        read only memory
                                                        V          volt
SCL        serial clock
SDA        serial data line
SIE        serial interface engine
USB        universal serial bus
Document Number: 001-04247 Rev. *O                                                                   Page 38 of 40


                                                                                                            CY7C68033
                                                                                                            CY7C68034
Document History Page
 Document Title: CY7C68033/CY7C68034, EZ-USB® NX2LP-Flex™ Flexible USB NAND Flash Controller
 Document Number: 001-04247
                       Orig. of   Submission
   Rev.    ECN No.                                                        Description of Change
                       Change         Date
     **     388499       GIR        See ECN   Preliminary draft
    *A      394699       XUT        See ECN   Minor Change: Upload data sheet to external website. Publicly announcing the
                                              parts. No physical changes to document were made
    *B      400518       GIR        See ECN   Took ‘Preliminary’ off the top of all pages. Corrected the first bulleted item.
                                              Corrected Figure 3-2 caption. Added new logo
    *C      433952      RGL         See ECN   Added I2C functionality
    *D      498295       KKU        See ECN   Updated Data sheet format
                                              Changed In/Output reference from I/O to I/O
                                              Changed set-up to setup
                                              Changed IFCLK and CLKOUT pins to GPIO8 and GPIO9. Removed external
                                              IFCLK
    *E     2717536       DPT       06/11/2009 Added 56 QFN (8 X 8 mm) package diagram and added CY7C68033-56LTXC
                                              and CY7C68034-56LTXC part information in the Ordering Information table
    *F     2728424      GNKK       07/02/2009 Updated revision in the footer
    *G     2896281      ODC        03/19/2010 Removed inactive parts.Updated package diagram. Added table of
                                              contents.Updated links in Sales, Solutions and Legal Information.
    *H     2933818     SHAH /      05/18/2010 Added Contents and Acronyms
                        AESA                  Updated Default NAND Firmware Features
                                              Formatted table footnotes.
     *I    3349690      ODC        08/25/2011 Updated Package Diagrams (Removed Package Drawing 51-85144).
                                              Added Units of Measure.
                                              Updated to new template.
    *J     3668026      GAYA       07/06/2012 Updated Ordering Information (with part number CY7C68034-56LTXI).
    *K     3711000      GAYA       08/13/2012 Updated Absolute Maximum Ratings.
                                              Updated Operating Conditions.
    *L     4505623      GAYA       09/23/2014 Updated ECC NAND Flash correction feature details.
                                              Updated Package Diagrams
    *M     4612073      GAYA       01/12/2015 Updated Pin Assignments:
                                              Updated Figure 9.
                                              Updated Table 8:
                                              Updated details in “Default Pin Name” column corresponding to 56-pin QFN
                                              Pin Number 54 and 13.
                                              Updated to new template.
    *N     4928521      GAYA       09/21/2015 No technical updates.
                                              Completing Sunset Review.
    *O     5755453      HARA       05/30/2017 Updated logo and copyright.
Document Number: 001-04247 Rev. *O                                                                                 Page 39 of 40


                                                                                                                                                                              CY7C68033
                                                                                                                                                                              CY7C68034
Sales, Solutions, and Legal Information
Worldwide Sales and Design Support
Cypress maintains a worldwide network of offices, solution centers, manufacturer’s representatives, and distributors. To find the office
closest to you, visit us at Cypress Locations.
Products                                                                                                   PSoC® Solutions
Automotive                                            cypress.com/go/automotive                            psoc.cypress.com/solutions
Clocks & Buffers                                              cypress.com/go/clocks                        PSoC 1 | PSoC 3 | PSoC 4 | PSoC 5LP
Interface                                                 cypress.com/go/interface
                                                                                                           Cypress Developer Community
Lighting & Power Control                              cypress.com/go/powerpsoc
                                                                                                           Community | Forums | Blogs | Video | Training
Memory                                                     cypress.com/go/memory
PSoC                                                             cypress.com/go/psoc                       Technical Support
Touch Sensing                                                  cypress.com/go/touch                        cypress.com/go/support
USB Controllers                                                  cypress.com/go/USB
Wireless/RF                                                cypress.com/go/wireless
© Cypress Semiconductor Corporation, 2005–2017. This document is the property of Cypress Semiconductor Corporation and its subsidiaries, including Spansion LLC ("Cypress"). This document,
including any software or firmware included or referenced in this document ("Software"), is owned by Cypress under the intellectual property laws and treaties of the United States and other countries
worldwide. Cypress reserves all rights under such laws and treaties and does not, except as specifically stated in this paragraph, grant any license under its patents, copyrights, trademarks, or other
intellectual property rights. If the Software is not accompanied by a license agreement and you do not otherwise have a written agreement with Cypress governing the use of the Software, then Cypress
hereby grants you a personal, non-exclusive, nontransferable license (without the right to sublicense) (1) under its copyright rights in the Software (a) for Software provided in source code form, to
modify and reproduce the Software solely for use with Cypress hardware products, only internally within your organization, and (b) to distribute the Software in binary code form externally to end users
(either directly or indirectly through resellers and distributors), solely for use on Cypress hardware product units, and (2) under those claims of Cypress's patents that are infringed by the Software (as
provided by Cypress, unmodified) to make, use, distribute, and import the Software solely for use with Cypress hardware products. Any other use, reproduction, modification, translation, or compilation
of the Software is prohibited.
TO THE EXTENT PERMITTED BY APPLICABLE LAW, CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THIS DOCUMENT OR ANY SOFTWARE
OR ACCOMPANYING HARDWARE, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. To the extent
permitted by applicable law, Cypress reserves the right to make changes to this document without further notice. Cypress does not assume any liability arising out of the application or use of any
product or circuit described in this document. Any information provided in this document, including any sample design information or programming code, is provided only for reference purposes. It is
the responsibility of the user of this document to properly design, program, and test the functionality and safety of any application made of this information and any resulting product. Cypress products
are not designed, intended, or authorized for use as critical components in systems designed or intended for the operation of weapons, weapons systems, nuclear installations, life-support devices or
systems, other medical devices or systems (including resuscitation equipment and surgical implants), pollution control or hazardous substances management, or other uses where the failure of the
device or system could cause personal injury, death, or property damage ("Unintended Uses"). A critical component is any component of a device or system whose failure to perform can be reasonably
expected to cause the failure of the device or system, or to affect its safety or effectiveness. Cypress is not liable, in whole or in part, and you shall and hereby do release Cypress from any claim,
damage, or other liability arising from or related to all Unintended Uses of Cypress products. You shall indemnify and hold Cypress harmless from and against all claims, costs, damages, and other
liabilities, including claims for personal injury or death, arising from or related to any Unintended Uses of Cypress products.
Cypress, the Cypress logo, Spansion, the Spansion logo, and combinations thereof, WICED, PSoC, CapSense, EZ-USB, F-RAM, and Traveo are trademarks or registered trademarks of Cypress in
the United States and other countries. For a more complete list of Cypress trademarks, visit cypress.com. Other names and brands may be claimed as property of their respective owners.
Document Number: 001-04247 Rev. *O                                                                Revised May 30, 2017                                                                 Page 40 of 40


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Cypress Semiconductor:
 CY7C68034-56LTXI CY7C68034-56LTXC CY7C68033-56LTXC CY7C68034-56LFXC CY7C68033-56LFXC
