                                                                                                           EZ-PD™ CCG3
                                                                           USB Type-C Port Controller
General Description
EZ-PD™ CCG3 is a highly integrated USB Type-C controller that complies with the latest USB Type-C and PD standards. EZ-PD
CCG3 provides a complete USB Type-C and USB-Power Delivery port control solution for notebooks, dongles, monitors, docking
stations and power adapters. CCG3 uses Cypress’s proprietary M0S8 technology with a 32-bit, 48-MHz ARM® Cortex® -M0 processor
with 128-KB flash, 8-KB SRAM, 20 GPIOs, full-speed USB device controller, a Crypto engine for authentication, a 20V-tolerant
regulator, and a pair of FETs to switch a 5V (VCONN) supply, which powers cables. CCG3 also integrates two pairs of gate drivers to
control external VBUS FETs and system level ESD protection. CCG3 is available in 40-QFN, 32-QFN, and 42-WLCSP packages.
Features                                                           Clocks and Oscillators
                                                                   ■ Integrated oscillator eliminating the need for external clock
Type-C and USB-PD Support
■ Integrated USB Power Delivery 3.0 support                        Power
■ Integrated USB-PD BMC transceiver                                ■ 2.7 V to 21.5 V operation
■ Integrated VCONN FETs
                                                                   ■ 2x Integrated dual-output gate drivers for external VBUS FET
■ Configurable resistors RA, RP, and RD                              switch control
■ Dead Battery Detection support
                                                                   ■ Independent supply voltage pin for GPIO that allows 1.71 V to
■ Integrated fast role swap and extended data messaging              5.5 V signaling on the I/Os
■ Supports one USB Type-C port
                                                                   ■ Reset: 30 µA, Deep Sleep: 30 µA, Sleep: 3.5 mA
■ Integrated Hardware based overcurrent protection (OCP) and
  overvoltage protection (OVP)                                     System-Level ESD Protection
                                                                   ■ On CC, SBU, DPLUS, DMINUS and VBUS pins
32-bit MCU Subsystem
                                                                   ■ ± 8-kV Contact Discharge and ±15-kV Air Gap Discharge based
■ 48-MHz ARM Cortex-M0 CPU                                           on IEC61000-4-2 level 4C
■ 128-KB Flash
                                                                   Packages
■ 8-KB SRAM
                                                                   ■ 40-pin QFN, 32-pin QFN, and 42-ball CSP for
Integrated Digital Blocks                                            Notebooks/Accessories
■ Hardware Crypto block enables Authentication
                                                                   ■ Supports industrial temperature range (–40 °C to +105 °C)
■ Full-Speed USB Device Controller supporting Billboard Device
  Class
■ Integrated timers and counters to meet response times
  required by the USB-PD protocol
■ Four run-time reconfigurable serial communication blocks
  (SCBs) with reconfigurable I2C, SPI, or UART functionality
Cypress Semiconductor Corporation            •  198 Champion Court        •    San Jose, CA 95134-1709           •     408-943-2600
Document Number: 002-03288 Rev. *J                                                                       Revised February 23, 2018


                                   EZ-PD™ CCG3
Logic Block Diagram
Document Number: 002-03288 Rev. *J       Page 2 of 45


                                                                                                                                             EZ-PD™ CCG3
Contents
EZ-PD CCG3 Block Diagram ............................................ 4                  Electrical Specifications ................................................ 23
Functional Overview ........................................................ 5               Absolute Maximum Ratings ....................................... 23
    CPU and Memory Subsystem ..................................... 5                         Device-Level Specifications ...................................... 24
    Crypto Block ................................................................ 5          Digital Peripherals ..................................................... 26
    Integrated Billboard Device ......................................... 5                  System Resources .................................................... 28
    USB-PD Subsystem (USBPD SS) .............................. 5                         Ordering Information ...................................................... 34
    Full-Speed USB Subsystem ........................................ 6                      Ordering Code Definitions ......................................... 34
    Peripherals .................................................................. 6     Packaging ........................................................................ 35
    GPIO ........................................................................... 7   Acronyms ........................................................................ 38
Power Systems Overview ................................................ 8                Document Conventions ................................................. 39
Pinouts .............................................................................. 9     Units of Measure ....................................................... 39
Available Firmware and Software Tools ....................... 13                             References and Links to Applications Collaterals ..... 40
    EZ-PD Configuration Utility ....................................... 13               Document History Page ................................................. 41
CCG3 Programming and Bootloading .......................... 14                           Sales, Solutions, and Legal Information ...................... 45
    Programming the Device Flash over SWD                                                    Worldwide Sales and Design Support ....................... 45
    Interface ..................................................................... 14       Products .................................................................... 45
    Application Firmware Update over Specific                                                PSoC® Solutions ...................................................... 45
    Interfaces (I2C, CC, USB) ......................................... 14                   Cypress Developer Community ................................. 45
Applications .................................................................... 17         Technical Support ..................................................... 45
Document Number: 002-03288 Rev. *J                                                                                                                              Page 3 of 45


                                                                                                                                                                                                                             EZ-PD™ CCG3
EZ-PD CCG3 Block Diagram
                                                 Figure 1. EZ-PD CCG3 Block Diagram[1]
                                             CPU Subsystem
                      CCG3
                                                            SWD/TC                                      SPCIF
                                                    Cortex
                       32-bit                                                                       FLASH                                                        SRAM                                                           ROM
                                                      M0
                                                                                                    2x64 KB                                                       8 KB                                                          8 KB
                                                    48 MHz
                     AHB-Lite                     FAST MUL
                                                                                                Read Accelerator                                 SRAM Controller                                                             ROM Controller
                                                 NVIC, IRQMX
                    System Resources
                          Lite
                                                                                      System Interconnect (Single Layer AHB)
                          Power
                       Sleep Control         Peripherals
                           WIC
                       POR     REF
                         PWRSYS
                                                 PCLK                                          Peripheral Interconnect (MMIO)
                           Clock
                        Clock Control
                       IMO
                            WDT
                                ILO
                                                                                                                               USB-PD SS                                                                                          USB-FS
                                                 IOSS GPIO (3 x ports)
                                                                         4 x TCPWM             CRYPTO
                                                                                     4 x SCB
                          Reset
                       Reset Control
                          XRES
                                                                                                                                     2 x 2 ANALOG XBAR                   2 X GATE DRIVER
                                                                                                                                                         2 X VCONN FET
                                                                                                                HV REG                                                                     CHG DET   CC BB PHY   ADC / ACA
                           Test
                        DFT Logic                                                                                        OVP   OCP
                        DFT Analog
                                                                                                                               Pads, ESD                                                                                          FS-PHY
                       Power Modes                      High Speed I/O Matrix
                       Active/Sleep
                        Deep Sleep
                                                               22 x GPIOs, 2 x OVTs
                                                 I/O Subsystem
Note
 1. See Acronyms section for more details.
Document Number: 002-03288 Rev. *J                                                                                                                                                                                                            Page 4 of 45


                                                                                                           EZ-PD™ CCG3
Functional Overview
CPU and Memory Subsystem                                            USB-PD Subsystem (USBPD SS)
CPU                                                                 The USB-PD subsystem contains all of the blocks related to USB
                                                                    Type-C and Power Delivery. The subsystem consists of the
The Cortex-M0 CPU in EZ-PD CCG3 is part of the 32-bit MCU           following:
subsystem, which is optimized for low-power operation with
extensive clock gating. It mostly uses 16-bit instructions and      ■ Biphase Marked Coding (BMC) PHY: USB-PD Transceiver with
executes a subset of the Thumb-2 instruction set. This enables        Fast Role Swap (FRS) transmit and detect
fully compatible binary upward migration of the code to higher
performance processors such as the Cortex-M3 and M4, thus           ■ VCONN power FETs for the CC lines
enabling upward compatibility. The Cypress implementation           ■ VCONN RA Termination and Leakers
includes a hardware multiplier that provides a 32-bit result in one
cycle. It includes a nested vectored interrupt controller (NVIC)    ■ Analog Crossbar to switch between the SBU1/SBU2 and
block with 32 interrupt inputs and also includes a Wakeup             AUX_P/AUX_N pins
Interrupt Controller (WIC). The WIC can wake the processor up       ■ Programmable pull-up and pull-down termination on the
from the Deep Sleep mode, allowing power to be switched off to        AUX_P/AUX_N pins
the main processor when the chip is in the Deep Sleep mode.
The Cortex-M0 CPU provides a Non-Maskable Interrupt (NMI)           ■ Hot Plug Detect (HPD) processor
input, which is made available to the user when it is not in use
for system functions requested by the user.                         ■ VBUS_C regulator (20V LDO)
The CPU also includes a serial wire debug (SWD) interface,          ■ Power switch between VSYS supply and VBUS_C regulator
which is a two-wire form of JTAG. The debug configuration used        output
for EZ-PD CCG3 has four break-point (address) comparators           ■ VBUS_C overvoltage (OV) and undervoltage (UV) detectors
and two watchpoint (data) comparators.
                                                                    ■ Current sense amplifier (CSA) for overcurrent detection
Flash
The EZ-PD CCG3 device has a flash module with two banks of          ■ Gate Drivers for VBUS_P and VBUS_C external Power FETs
64 KB flash, a flash accelerator, tightly coupled to the CPU to     ■ VBUS_C discharge switch
improve average access times from the flash block. The flash
block is designed to deliver 1 wait-state (WS) access time at       ■ USB2.0 Full-Speed (FS) PHY with integrated 5.0 V to 3.3 V
48 MHz and with 0-WS access time at 24 MHz. The flash                 regulator
accelerator delivers 85% of single-cycle SRAM access                ■ Charger Detection/Emulation for USB BC1.2 and other
performance on average. Part of the flash module can be used          proprietary protocols
to emulate EEPROM operation if required.
                                                                    ■ Two instances of 8-bit SAR ADCs
SROM
A supervisory ROM that contains boot and configuration routines     ■ 8-kV IEC ESD Protection on the following pins: VBUS_C, CC1,
is provided.                                                          CC2, SBU1, SBU2, DP, DM
                                                                    The EZ-PD CCG3 USB-PD subsystem interfaces to the pins of
Crypto Block                                                        a USB Type-C connector. It includes a USB Type-C baseband
CCG3 integrates a crypto block for hardware assisted                transceiver and physical-layer logic. This transceiver performs
authentication of firmware images. It also supports field           the BMC and the 4b/5b encoding and decoding functions as well
upgradeability of firmware in a trusted ecosystem. The CCG3         as integrating the 1.2-V analog front end (AFE). This subsystem
Crypto block provides cryptography functionality. It includes       integrates the required terminations to identify the role of the
hardware acceleration blocks for Advanced Encryption Standard       CCG3 device, including RP and RD for UFP/DFP roles and RA
(AES) block cipher, Secure Hash Algorithm (SHA-1 and SHA-2),        for EMCA/VCONN powered accessories. The programmable
Cyclic Redundancy Check (CRC), and pseudo random number             VCONN leakers are included to discharge VCONN capacitance
generation.                                                         during a disconnect event. It also integrates power FETs for
                                                                    supplying VCONN power to the CC1/CC2 pins from the V5V pin.
Integrated Billboard Device                                         The analog crossbar enables connecting either of the
                                                                    SBU1/SBU2 pins to either of the AUX_P/AUX_N pins to support
CCG3 integrates a complete full speed USB 2.0 device controller     DisplayPort sideband signaling. The integrated HPD processor
capable of functioning as a Billboard class device. The USB 2.0     can be used to control or monitor the HPD signal of a DisplayPort
device controller can also support other device classes.            source or sink.
Document Number: 002-03288 Rev. *J                                                                                      Page 5 of 45


                                                                                                                                            EZ-PD™ CCG3
The Overvoltage/Undervoltage (OV/UV) block monitors the                                   The USB-PD subsystem also contains two 8-bit Successive
VBUS_C supply for programmable overvoltage and                                            Approximation Register (SAR) ADCs for analog to digital
undervoltage conditions. The CSA amplifies the voltage across                             conversions. The voltage reference for the ADCs is generated
an external sense resistor, which is proportional to the current                          from the VDDD supply. Each ADC includes an 8-bit DAC and a
being drawn from the external DC-DC VBUS supply converter.                                comparator. The DAC output forms the positive input of the
The CSA output can either be measured with an ADC or                                      comparator. The negative input of the comparator is from a
configured to detect an overcurrent condition. The VBUS_P and                             4-input multiplexer. The four inputs of the multiplexer are a pair
VBUS_C gate drivers control the gates of external power FETs                              of global analog multiplex busses, an internal bandgap voltage
for the VBUS_C and VBUS_P supplies. The gate drivers can be                               and an internal voltage proportional to the absolute temperature.
configured to support both P and N type external power FETs.                              Each GPIO pin can be connected to the global Analog Multiplex
The gate drivers are configured by default for nFET devices. In                           Busses through a switch, which allows either ADC to sample the
applications using pFETs, the gate drivers must be appropriately                          pin voltage. When sensing the GPIO pin voltage with an ADC,
configured. The OV/UV and CSA blocks can generate interrupts                              the pin voltage cannot exceed the VDDIO supply value.
to automatically turn off the power FETs for the programmed
overvoltage and overcurrent conditions. The VBUS_C discharge
switch allows for discharging the VBUS_C line through an
external resistor.
                                                                 Figure 2. USB-PD Subsystem
                                                                                      CONSUMER N/PFETs
                             charger
                                                                 PRODUCER N/PFETs
                             dc-dc
                                                                      VBUS_P_CTRL       VBUS_C_CTRL
                                               VBUS_P            OC
                                                                        Gate              Gate                VBUS_DISCHARGE
                                                                        Driver            Driver
                                                         CSA
                                       VDDD
                                       VSYS                              POWER                                VBUS_C
                                                                                          LDO
                                                                         SWITCH
                                     VCONN
                                                         RA                               OV/UV
                                                                           VCONN
                                                        Leaker             SWITCH                             CC1
                                                                                                                          USB Type-C Port
                                         V5V
                                                                                                              CC2
                                                    PROGRAMMABLE                               BMC
                                                  PULL-UP, PULL-DOWN                         PHY w/ FRS
                                       AUX_P                                                                  SBU1
                                                                                             ANALOG
                                     AUX_N                                                  CROSS-BAR         SBU2
                                                                                                              DP
                                        HPD                       2x        USB 2.0
                                                  HPD                                         CHARGER
                                                                 ADCs       FS PHY
                                                                                               DETECT         DM
                                               USB PD SubSystem
Full-Speed USB Subsystem                                                                  In the I2C mode, the SCB blocks are capable of operating at
                                                                                          speeds of up to 1 Mbps (Fast Mode Plus) and have flexible
The FSUSB subsystem contains a full-speed USB device
                                                                                          buffering options to reduce interrupt overhead and latency for the
controller as described in the Integrated Billboard Device
                                                                                          CPU. These blocks also support I2C that creates a mailbox
section.
                                                                                          address range in the memory of EZ-PD CCG3 and effectively
Peripherals                                                                               reduce I2C communication to reading from and writing to an
                                                                                          array in memory. In addition, the blocks support 8-deep FIFOs
Serial Communication Blocks (SCB)                                                         for receive and transmit which, by increasing the time given for
                                                                                          the CPU to read data, greatly reduce the need for clock
EZ-PD CCG3 has four SCBs, which can be configured to
                                                                                          stretching caused by the CPU not having read data on time.
implement an I2C, SPI, or UART interface. The hardware I2C
blocks implement full multi-master and slave interfaces capable                           The I2C peripherals are compatible with the I2C Standard-mode,
of multimaster arbitration. In the SPI mode, the SCB blocks can                           Fast-mode, and Fast-mode Plus devices as defined in the NXP
be configured to act as master or slave.                                                  I2C-bus specification and user manual (UM10204).
                                                                                          The I2C bus I/Os are implemented with GPIO in open-drain
                                                                                          modes.
Document Number: 002-03288 Rev. *J                                                                                                               Page 6 of 45


                                                                                                           EZ-PD™ CCG3
The I2C port on SCB 1-3 blocks of EZ-PD CCG3 are not               GPIO
completely compliant with the I2C specification in the following
                                                                   EZ-PD CCG3 has up to 20 GPIOs (these GPIOs can be
aspects:
                                                                   configured for GPIOs, SCB, SBU, and Aux signals) and SWD
                                                                   pins, which can also be used as GPIOs. The I2C pins from SCB
■ The GPIO cells for SCB 1's I2C port are not overvoltage-tolerant
                                                                   0 are overvoltage-tolerant.
  and, therefore, cannot be hot-swapped or powered up
  independently of the rest of the I2C system.                     The GPIO block implements the following:
                                                                   ■ Seven drive strength modes:
■ Fast-mode Plus has an IOL specification of 20 mA at a VOL of
                                                                     ❐ Input only
  0.4 V. The GPIO cells can sink a maximum of 8-mA IOL with a
                                                                     ❐ Weak pull-up with strong pull-down
  VOL maximum of 0.6 V.
                                                                     ❐ Strong pull-up with weak pull-down
■ Fast-mode and Fast-mode Plus specify minimum Fall times,           ❐ Open drain with strong pull-down
  which are not met with the GPIO cell; Slow strong mode can         ❐ Open drain with strong pull-up
  help meet this spec depending on the bus load.                     ❐ Strong pull-up with strong pull-down
                                                                     ❐ Weak pull-up with weak pull-down
Timer/Counter/PWM Block (TCPWM)
                                                                   ■ Input threshold select (CMOS or LVTTL)
EZ-PD CCG3 has four TCPWM blocks. Each implements a
16-bit timer, counter, pulse-width modulator (PWM), and            ■ Individual control of input and output buffer enabling/disabling
quadrature decoder functionality.                                    in addition to the drive strength modes
                                                                   ■ Hold mode for latching previous state (used for retaining I/O
                                                                     state in Deep Sleep mode)
                                                                   ■ Selectable slew rates for dV/dt related noise control to improve
                                                                     EMI
                                                                   During power-on and reset, the I/O pins are forced to the disable
                                                                   state so as not to crowbar any inputs and/or cause excess
                                                                   turn-on current. A multiplexing network known as a high-speed
                                                                   I/O matrix is used to multiplex between various signals that may
                                                                   connect to an I/O pin.
Document Number: 002-03288 Rev. *J                                                                                      Page 7 of 45


                                                                                                                  EZ-PD™ CCG3
Power Systems Overview
Figure 3 shows an overview of the CCG3 power system                      core using regulators. Besides Reset mode, CCG3 has three
requirement. CCG3 shall be able to operate from two possible             different power modes: Active, Sleep and Deep Sleep,
external supply sources VBUS (4.0 V–21.5 V) or VSYS (2.7 V–              transitions between which are managed by the Power System.
5.5 V). The VBUS supply is regulated inside the chip with a              A separate power domain VDDIO is provided for the GPIOs. The
low-dropout regulator (LDO) down to 3.3-V level. The chip’s              VDDD and VCCD pins, both the output of regulators are brought
internal VDDD rail is intelligently switched between the output of       out for connecting a 1-µF capacitor for the regulator stability only.
the VBUS regulator and unregulated VSYS. The switched                    These pins are not supported as power supplies. When CCG3 is
supply, VDDD is either used directly inside some analog blocks           powered from VSYS that is greater than 3.3 V, the dedicated
or further regulated down to VCCD which powers majority of the           USB regulator allows USB operation.
                                          Figure 3. EZ-PD CCG3 Power System Block Diagram
                                     VSYS                 Switch            LDO                  VBUS
                              1uF                                                                         1uF
                                  VBUS_P                                                         VBUS_DISCHARGE
                                       OC      OCP                          OVP    Gate Driver   VBUS_C_CTRL
                         VBUS_P_CTRL             Gate Driver                                     VDDD
                                                                                                          1uF
                                                                                USB Regulator
                                                 RA
                                   VCONN                         Regulator        FS-USB
                                                                                                 DP, DM
                                                                                   TX/RX
                                     VCCD
                              1uF
                                    VDDIO                                           CC
                                                                   Core                          CC1, CC2
                                                    GPIO                           Tx/Rx
                                      VSS                                                        VSS
                                                                  CCG3
Table 1. CCG3 Power Modes
               Mode                                                                Description
                                       Power is Valid and XRES is not asserted. An internal reset source is asserted or SleepController
 RESET
                                       is sequencing the system out of reset.
 ACTIVE                                Power is Valid and CPU is executing instructions.
                                       Power is Valid and CPU is not executing instructions. All logic that is not operating is clock gated
 SLEEP
                                       to save power.
                                       Main regulator and most hard-IP are shut off. Deep Sleep regulator powers logic, but only
 DEEP SLEEP
                                       low-frequency clock is available.
Document Number: 002-03288 Rev. *J                                                                                              Page 8 of 45


                                                                                                    EZ-PD™ CCG3
Pinouts
Table 2. CCG3 Pin Description for 42-CSP, 32-QFN, and 40-QFN Devices
   Pin Map       Pin Map        Pin Map            Name                                Description
   42-CSP        32-QFN         40-QFN
      A5            1               1         VBUS_P_CTRL1     VBUS Gate Driver Control 1 for Producer Switch
      A6            1               2         VBUS_P_CTRL0     VBUS Gate Driver Control 0 for Producer Switch
      B6             2              3               CC2        USB PD connector detect/Configuration Channel 2
      C5           N/A             N/A              CC2        USB PD connector detect/Configuration Channel 2
                                                               Input Supply Voltage for VCONN FETs
      D4            3               4               V5V        V5V = 5.0V – 5.5V to supply VCONN > 4.75V @ 1.5W
                                                               V5V = 3.5V – 5.5V to supply VCONN > 3.00V @ 1W
      C6            4               5               CC1        USB PD connector detect/Configuration Channel 1
      D6           N/A             N/A              CC1        USB PD connector detect/Configuration Channel 1
                                                               VCONN Input - provides RA termination for cable
      E6           N/A              6             VCONN
                                                               applications
      F6             5              7               P1.0       GPIO/UART_2_TX / SPI_2_MISO
      D5           N/A              8               P1.1       GPIO/UART_2_RX / SPI_2_SEL
                                                               GPIO/UART_0_RX/ UART_3_CTS/ SPI_3_MOSI/
      E5             6              9               P1.2
                                                               I2C_3_SCL
                                                               GPIO/UART_0_TX/ UART_3_RTS/ SPI_3_CLK/
      G6             7             10               P1.3
                                                               I2C_3_SDA
                                                               DisplayPort AUX_P signal / GPIO / UART_1_TX /
      E4           N/A             11          AUX_P / P1.6
                                                               SPI_1_MISO
                                                               USB Type-C SBU1 signal / GPIO / UART_3_TX/
      F5             8             12           SBU1 / P1.4
                                                               SPI_3_MISO/ SWD_1_CLK
                                                               USB Type-C SBU2 signal / GPIO / UART_3_RX/
      G5            9              13           SBU2 / P1.5
                                                               SPI_3_SEL/ SWD_1_DAT
                                                               DisplayPort AUX_N signal / GPIO / UART_1_RX /
      G4           N/A             14          AUX_N / P1.7
                                                               SPI_1_SEL
                                                               GPIO / UART_1_CTS / SPI_1_CLK/ I2C_1_SCL /
      F4            10             15               P2.0
                                                               SWD_0_DAT
                                                               GPIO / UART_1_RTS / SPI_1_MOSI/ I2C_1_SDA /
      G3            11             16               P2.1
                                                               SWD_0_CLK
      G2            13             17              VDDD        VDDD supply Input / Output (2.7 V–5.5 V)
                                                               1.71 V–5.5 V supply for I/Os. This supply also powers the
      F3            14             18             VDDIO
                                                               global analog multiplex buses.
      F2            15             19              VCCD        1.8-V regulator output for filter capacitor
      G1            16             20              VSYS        System power supply (2.7 V–5.5 V)
      F1            17             21             DPLUS        USB 2.0 DP
      E1            18             22            DMINUS        USB 2.0 DM
      E2            19             23               P2.4       GPIO
      D3            20             24               P2.5       GPIO / UART_0_TX/ SPI_0_MOSI
      D2           N/A             25               P2.6       GPIO / UART_0_RX/ SPI_0_CLK
      D1            21             26              XRES        External Reset Input. Internally pulled-up to VDDIO.
                                                               I2C_0_SDA / GPIO_OVT / UART_0_CTS / SPI_0_SEL/
      C3            22             27               P0.0
                                                               TCPWM0
Document Number: 002-03288 Rev. *J                                                                             Page 9 of 45


                                                                                                EZ-PD™ CCG3
Table 2. CCG3 Pin Description for 42-CSP, 32-QFN, and 40-QFN Devices (continued)
   Pin Map       Pin Map        Pin Map            Name                              Description
   42-CSP        32-QFN         40-QFN
                                                               I2C_0_SCL / GPIO_OVT / UART_0_RTS / SPI_0_MISO/
      C2            23             28              P0.1
                                                               TCPWM1
      C1            24             29         VBUS_C_CTRL1     VBUS Gate Driver Control 1 for Consumer Switch
      C4            24             30         VBUS_C_CTRL0     VBUS Gate Driver Control 0 for Consumer Switch
      B1            25             31              VBUS        VBUS Input
      A1            26             32       VBUS_DISCHARGE VBUS Discharge Control output
                  12, 27           33               VSS
      E3                                                       Ground Supply (GND)
                  EPAD            EPAD              VSS
      A2            28             34              P3.2         GPIO / TCPWM0
      B2           N/A             35              P3.3         GPIO / TCPWM1
                                                               GPIO / UART_2_CTS / SPI_2_MOSI/ I2C_2_SDA /
      B3            29             36              P3.4
                                                               TCPWM2
      A3            30             37              P3.5        GPIO / UART_2_RTS / SPI_2_CLK/ I2C_2_SCL / TCPWM3
      B4           N/A             38              P3.6        GPIO
      A4            31             39               OC         Overcurrent sensor input
      B5            32             40            VBUS_P        VBUS producer input
Document Number: 002-03288 Rev. *J                                                                       Page 10 of 45


                                                                                                                                                                    EZ-PD™ CCG3
                                     Figure 4. Pinout of 40-QFN Package (Top View)
                                                                                                                        VBUS_DISCHARGE
                                                 VBUS_P            GPIO                                                                  VBUS
                                                                          GPIO
                                                          OC              GPIO        GPIO    GPIO    GND
                                                 40       39       38
                                                                          37
                                                                                      35      34      33
                                                                                                                        32
                                                                          36                                            31
                           VBUS_P_CTRL1      1                                                                                                  30   VBUS_C_CTRL0
                           VBUS_P_CTRL0      2                                                                                                  29   VBUS_C_CTRL1
                                    CC2      3                                                                                                  28   GPIO_OVT
                                    V5V      4                                                                                                  27   GPIO_OVT
                                    CC1      5                                                                                                  26   XRES
                                                                               EPAD
                                 VCONN       6                                                                                                  25   GPIO
                                   GPIO      7                                                                                                  24   GPIO
                                     GPIO    8                                                                                                  23   GPIO
                                     GPIO    9                                                                                                  22   DMINUS
                                     GPIO    10                                                                                                 21   DPLUS
                                                 11
                                                          12              14
                                                                                      16      17      18
                                                                                                                        19
                                                          13              15                                            20
                                                                          AUX_N
                                                 AUX_P
                                                          SBU1     SBU2               GPIO    VDDD    VDDIO             VCCD             VSYS
                                                                           GPIO
                                     Figure 5. Pinout of 32-QFN Package (Top View)
                                                                                                       VBUS_DISCHARGE
                                                          VBUS_P                                                           VBUS
                                                                    OC
                                                                    GPIO       GPIO    GPIO    VSS
                                                          32
                                                                   31
                                                                   30          29     28      27      26                  25
                            VBUS_P_CTRL      1                                                                                                  24   VBUS_C_CTRL
                                    CC2      2                                                                                                  23   GPIO_OVT
                                    V5V      3                                                                                                  22   GPIO_OVT
                                    CC1      4                                                                                                  21   XRES
                                                                               EPAD
                                     GPIO    5                                                                                                  20   GPIO
                                     GPIO    6                                                                                                  19   GPIO
                                     GPIO    7                                                                                                  18   DMINUS
                                     SBU1    8                                                                                                  17   DPLUS
                                                                   10     11
                                                                               12
                                                          9                    13             14      15                  16
                                                          SBU2                         VDDD            VCCD
                                                                    GPIO
                                                                                              VDDIO
                                                                               VSS
                                                                    GPIO                                                   VSYS
Document Number: 002-03288 Rev. *J                                                                                                                                       Page 11 of 45


                                                                                         EZ-PD™ CCG3
                                Figure 6. Pinout of 42-WLCSP Bottom (Balls Up) View
                                 6         5         4        3         2         1
                             VBUS_P_CT VBUS_P_CT             GPIO     GPIO   VBUS_DISC A
                                                     OC
                                RL0       RL1                P3.5      P3.2    HARGE
                                                    GPIO     GPIO     GPIO             B
                                CC2     VBUS_P                                  VBUS
                                                    P3.6     P3.4      P3.3
                                                 VBUS_C_CT GPIO_OVT GPIO_OVT VBUS_C_CT C
                                CC1       CC2
                                                    RL0      P0.0      P0.1      RL1
                                         GPIO                GPIO     GPIO             D
                                CC1                 V5V                         XRES
                                          P1.1               P2.5      P2.6
                                         GPIO                         GPIO             E
                               VCONN               AUX_P     VSS              DMINUS
                                          P1.2                         P2.4
                                GPIO                GPIO                               F
                                         SBU1               VDDIO     VCCD     DPLUS
                                P1.0                P2.0
                                GPIO                         GPIO                      G
                                         SBU2      AUX_N              VDDD      VSYS
                                P1.3                         P2.1
Document Number: 002-03288 Rev. *J                                                            Page 12 of 45


                                                                                                            EZ-PD™ CCG3
Available Firmware and Software Tools
EZ-PD Configuration Utility
The EZ-PD Configuration Utility is a GUI-based Microsoft Windows application developed by Cypress to guide a CCGx user through
the process of configuring and programming the chip. The utility allows users to:
 1. Select and configure the parameters they want to modify
 2. Program the resulting configuration onto the target CCGx device.
The utility works with the Cypress supplied CCG1, CCG2, CCG3, and CCG4 kits, which host the CCGx controllers along with a USB
interface. This version of the EZ-PD Configuration Utility supports configuration and firmware update operations on CCGx controllers
implementing EMCA and Display Dongle applications. Support for other applications, such as Power Adapters and Notebook port
controllers, will be provided in later versions of the utility.
You can download the EZ-PD Configuration Utility and its associated documentation at the following link:
http://www.cypress.com/documentation/software-and-drivers/ez-pd-configuration-utility
Document Number: 002-03288 Rev. *J                                                                                    Page 13 of 45


                                                                                                            EZ-PD™ CCG3
CCG3 Programming and Bootloading                                    As shown in the block diagram in Figure 7, the SWD_0_DAT and
                                                                    SWD_0_CLK pins are connected to the host programmer's
There are two ways to program application firmware into a CCG3      SWDIO (data) and SWDCLK (clock) pins respectively. During
device:                                                             SWD programming, the device can be powered by the host
 1. Programming the device flash over SWD Interface                 programmer by connecting its VTARG (power supply to the
                                                                    target device) to VSYS pin of CCG3 device. If the CCG3 device
 2. Application firmware update over specific interfaces (CC,       is powered using an on-board power supply, it can be
    USB, I2C)                                                       programmed using the “Reset Programming” option. For more
Generally, the CCG3 devices are programmed over SWD                 details, refer to the CYPD3XXX Programming Specifications.
interface only during development or during the manufacturing       The CYPD3105 device for Thunderbolt cable applications is
process of the end product. Once the end product is manufac-        pre-programmed with a micro-bootloader that allows users to
tured, the CCG3 device's application firmware can be updated        program the flash using the alternate SWD pins (SBU1 for
via the appropriate bootloader interface.                           SWD_1_CLK and SBU2 for SWD_1_DAT) that can be
                                                                    connected to the SBU interface of a Type-C connector. Note that
Programming the Device Flash over SWD Interface                     this interface can be used to program the flash only once. Subse-
The CCG3 family of devices can be programmed using the SWD          quent re-programming of this device can be done through the
interface. Cypress provides a programming kit (CY8CKIT-002          primary SWD interface (SWD_0_CLK and SWD_0_DAT pins).
MiniProg3 Kit) called MiniProg3 which can be used to program        Irrespective of which SWD interface is used for programming the
the flash as well as debug firmware. The flash is programmed by     device, once the device is programmed with the hex file provided
downloading the information from a hex file. This hex file is a     by Cypress for thunderbolt cable application, subsequent
binary file generated as an output of building the firmware project updates to the application firmware can be done over the CC
in PSoC Creator Software. Click here for more information on        line. Refer to Application Firmware Update over Specific Inter-
how to use the MiniProg3 programmer. There are many                 faces (I2C, CC, USB) for more details.
third-party programmers that support mass programming in a
manufacturing environment.
                                    Figure 7. Connecting the Programmer to CYPD3xxx Device
                                       3.0 V
                                       VDD
             Host Programmer                                               CYPD3xxx
                                                                                                VCCD                  1F
                                                                                                                      10V
                             VDD                               VSYS                                                  X7R
                       SWDCLK                                 SWD_0_CLK
                         SWDIO                                SWD_0_DAT                        VDDD                        1F
                                                                                                                          10V
                          XRES                                 XRES
                                                                                                                          X7R
                                                                                                VDDIO
                           GND                                  VSS
                                                      GND
Application Firmware Update over Specific Interfaces                Application Firmware Update over I2C Interface
(I2C, CC, USB)                                                      This method primarily applies to CYPD3122, CYPD3125, and
The application firmware can be updated over three different        CYPD3126 devices of the CCG3 family. In these applications,
interfaces depending on the default firmware programmed into        the CCG3 device interfaces to an on-board application
the CCG3 device. Refer to Table 38 for more details on default      processor or an embedded controller over I2C interface. Refer to
firmware that various part numbers of the CCG3 family of            Figure 8 for more details. Cypress provides pseudo-code for the
devices are pre-programmed with (note that some of the devices      host processor for updating the CCG3 device firmware.
have bootloader only and some have bootloader plus application
firmware). The application firmware provided by Cypress for all
CCG3 applications have dual images. This allows fail-safe
update of the alternate image while executing from the current
image. For more information, refer to the EZ-PD Configuration
Utility User Manual.
Document Number: 002-03288 Rev. *J                                                                                      Page 14 of 45


                                                                                                             EZ-PD™ CCG3
                                     Figure 8. Application Firmware Update over I2C Interface
                                                                   VDDD
                                              2.2K   2.2K   2.2K
                                                                                              I2C_SDA
                   Embedded Controller/                                                        I2C_SCL
                   Application Processor                                                       I2C_INT
                                                                                                 CYPD3xxx Device
                                                                                                 To be Programmed
Application Firmware Update over CC Line                               CY4531 CCG3 EVK is connected to the system containing the
This method primarily applies to the CYPD3135 device of the            CCG3 device on one end and a Windows PC running the
CCG3 family. In these applications, the CY4531 CCG3 EVK can            EZ-PDTM Configuration Utility as shown in Figure 9 on the other
be used to send programming and configuration data as Cypress          end to program the CCG3 device.
specific Vendor Defined Messages (VDMs) over the CC line. The
                                       Figure 9. Application Firmware Update over CC Line
                                                           USB Serial Device of
                                                           CCG3 Daughter Card
               PC                 USB Mini-B
                                                                      I2C                      CC Line
            Running                  cable                                                                    CYPD3135 device
     EZ-PD Configuration                                                                                      to be Programmed
                                                            CCG3 Device on
             Utility
                                                           CCG3 Daughter Card
                                Mini-B                   CY4531 CCG3 EVK                      Type-C
                             Receptacle                                                     Receptacle
Application Firmware Update over USB                                   user has a Type-A to Type-C cable. This option requires that the
This method primarily applies to the CYPD3120 and CYPD3121             system contain the CCG3 device to be programmed to have a
devices of the CCG3 family. In these applications, the firmware        Type-C receptacle. The other option (Option 3) is to have a
update can be performed over the D+/D- lines (USB2.0) using            Windows PC with a native Type-C connector as shown in
various possible options as shown in Figure 10. Option 1 is to         Figure 10.
have a Windows PC running EZ-PD Configuration Utility
connected to the device to be programmed via the CY4531
CCG3 EVK. This setup can be avoided using option 2, where the
Document Number: 002-03288 Rev. *J                                                                                      Page 15 of 45


                                                                                           EZ-PD™ CCG3
                                  Figure 10. Application Firmware Update over USB
        Option 1
                 PC          USB Type-A to
                              Type-B cable
                                                D+/D-                                   CYPD 312x device
              Running
         EZ-PD Configuration                                                            to be Programmed
               Utility
                                 Type-B
                               Receptacle
                                                CY4531 CCG3 EVK           Type-C
                                                                        Receptacle
                                                    OR
        Option 2
                 PC                              USB Type-A to
              Running                             Type-C cable                          CYPD 312x device
         EZ-PD Configuration                                                            to be Programmed
                Utility
                                                     OR
        Option 3
          Windows PC with
           Native Type-C
                                                                                        CYPD 312x device
         Connector Running
                                                                                        to be Programmed
         EZ-PD Configuration
               Utility
                                                                            Type-C plug
                                    Type-C
                                   Receptacle
Document Number: 002-03288 Rev. *J                                                                    Page 16 of 45


                                                                                                                                                EZ-PD™ CCG3
Applications
Figure 11 illustrates the application diagram of a power adapter                      The power provider FETs are controlled by high-voltage gate
using a CCG3 device. In this application, CCG3 is used as DFP                         driver outputs (VBUS_P_CTRL0 and VBUS_P_CTRL1 pins of
(power provider) only. The maximum power profile that can be                          CCG3 device). The CCG3 device is also capable of supporting
supported by power adapters is up to 20 V, 100 W using 40-pin                         proprietary charging protocols over the DP and DM lines of the
QFN CCG3 devices. CCG3 has the ability to drive both types of                         Type-C receptacle. By providing a 5-V source at the V5V pin of
FETs and the state of GPIO P1.0 (floating or grounded) indicates                      the CCG3 device, the device becomes capable of delivering the
the type of FET (N-MOS or P-MOS FET) being used in the power                          VCONN supply over either the CC1 or CC2 pins of the Type-C
provider path.                                                                        connector.
CCG3 integrates all termination resistors and uses GPIOs                              The CCG3 family's power adapter parts are shipped with
(VSEL0 and VSEL1) to indicate the negotiated power profile. If                        bootloader and application firmware with limited functionality. Its
required, the power profile can also be selected using CCG3                           purpose is to facilitate application flashing over CC line using the
serial interfaces (I2C, SPI) or PWM. The VBUS voltage on the                          EZ-PD Configuration Utility. The power adapter requires an
Type-C port is monitored using internal circuits to detect under-                     explicit power contract to be negotiated prior to enabling the
voltage and overvoltage conditions. To ensure quick discharge                         EZ-PD Configuration utility to flash the application firmware. This
of VBUS when the power adapter cable is detached, a discharge                         application firmware, based on the state of the GPIO (P1.0),
path is provided with a resistor connected to the VBUS_DIS-                           determines the type of provider load switch (NFET/PFET) and
CHARGE pin of the CCG3 device.                                                        supplies the 5-V VBUS over Type-C.
Overcurrent protection is enabled by sensing the current through
the 10-m sense resistor using the “OC” and “VBUS_P” pins of
the CCG3 device. The VBUS provider through the Type-C
connector can be turned on or off using the provider path FETs.
                                   Figure 11. Power Adapter Application Diagram (40-QFN Device)
                                                         VBUS_OC
             DC/DC           VBUS_IN                                                                                                 VBUS_OUT
               OR                                                      DMN3018SSD-13             DMN3018SSD-13
                                                                                                                                                    VBUS
       AC-DC Secondary                     10 m 1%
                                                                       D
                                                                         G
                                                                           S                       S
                                                                                                        G
                                                                                                           D
             (5-20V)                                                                                                  10F
                                                                                                                      50V
                                                                                10M           10M
            VSEL1 VSEL2                                                                                                                   100
                                                               39          2
                                                             OC     VBUS_P_CTRL0
                                               28                                                   1
                                                   VSEL2/P0.0                      VBUS_P_CTRL1
                                               27
                                                   VSEL1/P0.1                                      32
                                                                                VBUS_DISCHARGE
                                               40                                             CC2 3
                                                   VBUS_P                                                                                           CC2
                                               31                                                   5
                                  1F              VBUS                                       CC1                                                   CC1
                                  50V          33                                                  29
                                                                                   VBUS_C_CTRL1        X                         390pF      390pF
                                                   GND
                                  X7R
                                                                                                                                  5%          5%
                                                                                                                                                        Type-C
                                            X
                                               20
                                                   VSYS      CYPD3135-40LQXIT                                                     X7R        X7R      Receptacle
                                                                                                    30 X            VBUS_OUT
                                               17                     40QFN VBUS_C_CTRL0                     5V
                                                   VDDD                                             4
                                                                                              V5V                        100K
                                               18
                                                   VDDIO                                            23
                                                                                              P2.4
                                               11                                                                         10K
                                 1F        X      AUX_P                                           21
                                                                                            DPLUS
                                10V            14
                                            X       AUX_N                                          22
                                X7R                                                       DMINUS
                                                6
                                             X      VCONN                                              8, 9, 10, 15, 16, 24, 25,
                                                                                             GPIO
                                                                                                       34, 35, 36, 37, 38
                                                      XRES        VCCD   SBU1 SBU2      P1.0
                                                         26         19       12    13      7
                                                            1.3F          X      X      X
                                                             10V                             P1.0 indicates FET type in design.
                                                             X7R
                                                                                             Floating condition indicates NFETs
                                                                                             and connected to GND indicates                         GND
                                                  0.1F
                                                                                             PFETs in provider path.
Document Number: 002-03288 Rev. *J                                                                                                                       Page 17 of 45


                                                                                                                                                          EZ-PD™ CCG3
Figure 12 illustrates a power bank application diagram using a                                           The CCG3 device negotiates power contracts between the
CCG3 device. In this application, the Type-C receptacle is used                                          power bank and the sink/source device connected to the Type-C
for providing as well as consuming power. The consumer path                                              receptacle. The CCG3 device also controls and drives the
will be active when the battery is charged using a Type-C power                                          provider and consumer path FETs and can monitor overcurrent
source that is connected to the Type-C receptacle in Figure 12.                                          and overvoltage conditions on the Type-C VBUS line.
The provider path will be active when the power bank is used for
providing power to a sink device connected to the Type-C recep-
tacle. Additionally, a Type-A receptacle can also be provided for
providing power to the sinks that have a legacy USB interface.
                                               Figure 12. Power Bank Application Diagram (40-QFN Device)
                                 Consumer Path                                                      DMN3018SSD-13         DMN3018SSD-13
                                                                                                                                          CCG3 gate driver control configuration
                                                                                                                D   S   S      D
                                                                                                                  G          G
                                                                                                                                          needs to be appropriately set, based
             Power                                                                                                                        on the VBUS FET type (nFET/pFET).
                                                                                                            10M     10M
           Subsystem
                +                                                                                                                               VBUS
             Battery              Provider Path
                                                                       DMN3018SSD-13         DMN3018SSD-13
                                                                           D    S          S      D
                                         10 m 1%               1F
                                                                              G                G                                10F
                                                                35V
                                                                                     10M            10M                        50V
                                                                X7R
                                                             39                 2                1
                                                           OC            VBUS_P_CTRL0 VBUS_P_CTRL1
                                       VBUS             4                                                  29
                                                     X     V5V                            VBUS_C_CTRL1
                                                       31
                                                           VBUS
                                                       40
                        VBATT                              VBUS_P
                                                       20                                                                                                          VBUS
                                                          VSYS
     0.1F 0.1F     1F                                                                                   30                             100
      10V   10V      10V           7, 8, 15, 16, 23,                                      VBUS_C_CTRL0
                                                           GPIO
                                   24, 25, 27, 28, 38                                                      32
                                                                                       VBUS_DISCHARGE
                                                       17                                             CC2 3
                                                                                                                                                                   CC2
                                                          VDDD      CYPD3121-40LQXIT                        5
                                                       18                                             CC1                                                           CC1
                   0.1F    0.1F      1F
                                                          VDDIO              40QFN
                    10V      10V       10V
                                                                                                            6                        390pF            390pF             Type-C
                                                                                                   VCONN      X                                        5%
                                                      12
                                                                                                                                       5%
                                                                                                                                                       X7R
                                                                                                                                                                     Receptacle
                                                     X     GPIO/SBU1                                        21                        X7R
                                                                                                   DPLUS
                                                      13
                                                     X     GPIO/SBU2                                        22
                                                                                                 DMINUS
                                                       37
                                                          I2C_SCL/GPIO                                     11
                                                                                             AUX_P/GPIO       X
                                                       36
                                                          I2C_SDA/GPIO                                     14
                                                                                             AUX_N/GPIO       X
                                                       34                                                                                                   X      SS
                                                          GPIO                                             26
                                                                                                     XRES                                                          DP
                                                                                                           33             0.1F                                    DN
                                                                                  I2C_      I2C_      GND                  10V
                                                              GPIO      VCCD                                                                                       GND
                                                                              SCL/GPIO SDA/GPIO                            X7R
                                                                35        19         9          10
                                                                    1uF
                                                                   10V
                                                                   X7R                                                                      From Power
                                                                                                                                                                    VBUS
                                                                                                                                            Subsystem
                                                                                                                                                                        Type-A
                                                                                                                          Discrete Ckts to
                                                                                                   CCG3                                                              Receptacle
                                                                                                    GPIO
                                                                                                                          support Legacy
                                                                                                                           Charge Source                            DP
                                                                                                                                                                    DN
                                                                                                                                                                    GND
Document Number: 002-03288 Rev. *J                                                                                                                                      Page 18 of 45


                                                                                                                                EZ-PD™ CCG3
Figure 13 illustrates a USB Type-C to DisplayPort (4-lane) adapter application, which enables connectivity between a PC that supports
a Type-C port with DisplayPort Alternate Mode support and a legacy monitor that has a DisplayPort interface.
The application meets the requirements described in Section 4.2 of the VESA DisplayPort Alt Mode on USB Type-C Standard Version
1.0 (Scenarios 2a and 2b USB Type-C to DisplayPort Cables).
                                     Figure 13. USB Type-C to DisplayPort Adapter Application Diagram
                                                                      39                2             1
                                                                    OC            VBUS_P_CTRL0 VBUS_P_CTRL1
                                                                 4                                             29
                                                                    V5V                         VBUS_C_CTRL1
                                                                31
                                                                    VBUS
                                             1F                40                                                                   VBUS
                                  VCONN                             VBUS_P                                      6
                                             10V                                                        VCONN                        VCONN
                                                                20
                                                                   VSYS                                             0.1F
                           0.1F     1F                                                                             10V
                                                                                                               30
                            10V      10V      7, 8, 15, 16, 24,                                 VBUS_C_CTRL0
                                                                    GPIO
                                              25, 27, 28, 38                                                   32
                                                                                              VBUS_DISCHARGE
                                                                17                                         CC2 3
                                                                   VDDD      CYPD3120-40LQXIT                   5
                                       0.1F     1F            18                                         CC1                       CC
                                1F
                                        10V      10V
                                                                   VDDIO              40QFN
                                10V
                                                                37                                                 390pF
   mDP/                                                            I2C_SCL / P3.5
                                                                                                                    5%                Type-C Plug
                                                                36
    DP                                                             I2C_SDA / P3.4                       DPLUS
                                                                                                                21 X7R
                                                                                                                                     DP
                                                                34
                                                                   I2C_INT / P3.2                               22
                                                                                                      DMINUS                         DN
                                                                11                                             12
                                                                    AUX_P                                SBU1                        SBU1
                                                                14                                             13
                                                                    AUX_N                                SBU2                        SBU2
                              HotPlug Detect                    35
                                                                    HOTPLUG_DET / P3.3                         26
                                                                                                          XRES                       SS
                                                                                                               33         0.1F
                                                                                       MUX_I2C_ MUX_I2C_ GND               10V
                                                                       P2.4      VCCD                                                GND
                                                                                       SCL/P1.2 SDA/P1.3                   X7R
                                                                          23       19      9         10
                                                                         X   1F
                                                                             10V
            P2.4 indicates type of end application. Floating                 X7R
            condition indicates usage for Type-C to DP
            application and connected to GND indicates
            usage for Type-C to HDMI adapter application.
                                    Display Port Data Lanes
Document Number: 002-03288 Rev. *J                                                                                                   Page 19 of 45


                                                                                                                                                      EZ-PD™ CCG3
Figure 14 illustrates a USB Type-C to HDMI adapter application, which enables connectivity between a PC that supports a Type-C
port with DisplayPort Alternate Mode support and a legacy monitor that has HDMI interface. It enables users of any Notebook that
implements USB-Type C to connect to other display types.
This application meets the requirements described in Section 4.3 of the VESA DisplayPort Alt Mode on USB Type-C Standard Version
1.0. This application supports display output at a resolution of up to 4K Ultra HD (3840x2160) at 60 Hz.
                                                         Figure 14. USB Type-C to HDMI Adapter Application
                                1.2V                                                           VBUS
                                                           5V
                          3.3V                                                        Power            VCONN
                                           Regulator              BuckBoost
                                                                                       OR
                                                              5V BuckBoost not
                                                              needed for DVI/VGA
                                                            39                 2             1
                                                          OC             VBUS_P_CTRL0 VBUS_P_CTRL1            P2.4 indicates type of end application.
                                                                                                       29
                                                                                                              Floating condition indicates usage for
                                                       4                               VBUS_C_CTRL1           Type-C to DP application and connected
                                                          V5V                                                 to GND indicates usage for Type-C to
                                                                                                       23
                                                      31                                          P2.4
                                                          VBUS                                                HDMI adapter application.
                                   1uF                40                                                                                                  VBUS
                      VCONN                               VBUS_P                                        6
                                   10V                                                         VCONN                                                      VCONN
                                                      20
                                                         VSYS                                                 0.1uF
               0.1uF      1uF                                                                                  10V
                                                                                                       30
                10V       10V       7, 8, 15, 16, 24,                                  VBUS_C_CTRL0
                                                          GPIO
                                    25, 27, 28, 38                                                     32
                                                                                     VBUS_DISCHARGE
                                             3.3V
      HDMI/                                           18                                          CC2 3
       DVI/                                               VDDIO   CYPD3120-40LQXIT                      5
                                                      17                                          CC1                                                     CC
      VGA                                                 VDDD               40QFN
                    1uF      0.1uF      1uF           37
                                                          I2C_SCL / P3.5                                   390pF                                              Type-C
                    10V       10V       10V
                                                      36                                                    5%
                                                                                                        21 X7R
                                                                                                                                                               Plug
                                                          I2C_SDA / P3.4                       DPLUS                                                      DP
                                                      34
                                                          I2C_INT / P3.2                                22
                                                                                             DMINUS                                                       DN
                                                      11                                               12
                                                          AUX_P                                 SBU1                                                      SBU1
                                                      14                                               13
                                                          AUX_N                                 SBU2                                                      SBU2
                                                                                                       26
                                                                                                 XRES                                                     SS
                                                                                                       33              0.1uF
                          AUX_P/N                     35 HOTPLUG_             MUX_I2C_ MUX_I2C_ GND                     10V
                                                           DET / P3.3 VCCD SCL/P1.2 SDA/P1.3                            X7R
                                                                                                                                                          GND
                                                                          19      9         10
                                                   HotPlug          1uF
                                                                    10V
                                                    Detect          X7R
                        1.2V
                  3.3V
                                     DP to HDMI/
                                        DVI/VGA                                Display Port
                                       Convertor                               Data Lanes
Document Number: 002-03288 Rev. *J                                                                                                                            Page 20 of 45


                                                                                                                                                                           EZ-PD™ CCG3
Figure 15 illustrates a Notebook DRP application diagram using a CCG3 device. The Type-C port can be used as a power provider
or a power consumer. The CCG3 device communicates with the embedded controller (EC) over I2C. It also controls the Data Mux to
route the HighSpeed signals either to the USB chipset (during normal mode) or the DisplayPort Chipset (during Alternate Mode). The
SBU, SuperSpeed, and HighSpeed lines are routed directly from the Display Mux of the notebook to the Type-C receptacle.
                                                                            Figure 15. DRP Application Diagram
                                                           VINT20
                                                                                                                           DMN3018SSD-13      DMN3018SSD-13
                                           Charger                                                                                   D   S  S      D
                                                                                                                                       G         G
                                                                                                                                  10M   10M
                                                                                                                                                                   VBUS
                                                      VBUS_SUPPLY
                                                                                                 DMN3018SSD-13       DMN3018SSD-13
                                            DC/DC                                                   D              S     D
                                                                    10 m 1%              1uF            S
                                                                                                       G              G                             10uF
                                                                                          35V
                                                                                                             10M           10M                     50V
                                                                                          X7R
      V3P3 and V5P0 are 3.3V and 5V                                                   39                 2              1
      supplies coming from the motherboard.
                                                                                    OC            VBUS_P_CTRL0 VBUS_P_CTRL1
                                                                        V5P0
      CCG3 gate driver control configuration                      VBUS           4                                               29
                                                                                    V5V                           VBUS_C_CTRL1
      needs to be appropriately set, based                                      31
                                                                                    VBUS
      on the VBUS FET type (nFET/pFET).                                         40
                                                   V3P3                             VBUS_P
                                                                                20                                                                                                VBUS
                                                                                   VSYS
                    0.1uF  0.1uF      1uF                                                                                        30                           100
                     10V    10V       10V                     7, 8, 15, 16, 23,                                   VBUS_C_CTRL0
                                                                                    GPIO
                                                              24, 25, 27, 28, 38                                                 32
                                                                                                               VBUS_DISCHARGE
                                                  VDDD                                                                       CC2 3
                                                                                17                                                                                                CC2
                                                                                   VDDD     CYPD3125-40LQXIT                      5
                                                                                18                                           CC1                                                  CC1
                    0.1uF
                     10V
                            0.1uF
                             10V
                                       1uF
                                       10V
                                                                                   VDDIO              40QFN
                                                                                                                                  6                      390pF            390pF       Type-C
                                                VDDD                                                                      VCONN      X                                     5%
                                                                                12
                                                                                                                                                           5%
                                                                                                                                                                           X7R
                                                                                                                                                                                    Receptacle
                                                                             X     SBU1                                           21                      X7R
                                                                                                                          DPLUS
                             2.2K   2.2K                                      13
                                            2.2K                            X     SBU2                                           22
                                                                                                                        DMINUS
                                                                                37
                                                                                   I2C_SCL / P3.5                                11
                                                                                                                           AUX_P     X
                                                                                36
                                                                                                                                 14
             Embedded                                                              I2C_SDA / P3.4                          AUX_N     X
             Controller                                                         34
                                                                                   I2C_INT / P3.2                                26
                                                                                                                            XRES                                                  SS
                                                                                                                                 33           0.1uF                          D+/- DP/DN
                                                                                    HOTPLUG_           MUX_I2C_ MUX_I2C_ GND                   10V
                                                                                     DET / P3.3 VCCD SCL/P1.2 SDA/P1.3                         X7R
                                                                                                                                                                                  GND
                                   D+/-                                                   35       19        9         10
                USB                                                                           1uF
                                                                                              10V
               Chipset                                          HPD                          X7R
                                   SS
                                                                                                                                                                    HS/SS/
             DisplayPort                                                                                                                                            DP/SBU
                                     HPD
               Chipset                                                                                     SCL  SDA                                                  Lines
                                                                                      SS
                                                     DP0/1/2/3
                                                      AUX+/-                                             Data Mux
Document Number: 002-03288 Rev. *J                                                                                                                                                    Page 21 of 45


                                                                                                                   EZ-PD™ CCG3
Figure 16 illustrates a CCG3 device based Charge-through                    This application enables connectivity between a USB Type-C
Dongle application block diagram. This Charge-through dongle                Notebook and HDMI Display, legacy USB device and Gigabit
application also implements Cypress’s USB SuperSpeed Hub                    Ethernet while also connecting a USB Type-C charging cable.
controller HX3 (CYUSB3304-68LTXI) available in 68-QFN                       The Charge-Through Dongle solution allows simultaneous HDMI
package, Low-power single chip USB 3.0 to Gigabit Ethernet                  display, Superspeed data transfers, Ethernet connection and
Bridge Controller GX3 (CYUSB3610-68LTXC) available in                       charging of a USB Type-C Notebook. Charge-Through Dongle is
68-QFN package and the CCG2 (CYPD2122-24LQXI) which                         also widely known as Multiport Adapter. More details including
acts as an Upstream Facing Port (UFP) and sinks power when                  the schematic of the CCG3 device based Charge-through
connected to USB Type-C chargers.                                           Dongle reference design can be found here.
                         Figure 16. Charge-through Dongle Application Block Diagram (40-QFN Device)
                      VBUS_C                       5.0V
                      VBUS_N                       3.3V                         3.3V      1.2V              5V
                                 Power
                     VCONN_N                       1.2V
                                                                                  DP to HDMI
                               4                            2x lane DP        Protocol Convertor                HDMI         To Display
                                                                                  MegaChips                  Receptacle
                                                                                  MCDP2900
                                                                                               VBUS_A
                                                                                             SS/HS lines       USB3.1
                                                            DS1                                                Type-A
                                                                                                                             Legacy USB
                              4 SS lines            Cypress                                                  Receptacle
                                                                                                                                devices
                                                      HX3    DS2
                       8                  CYUSB304CYUSB3304
                                 HS lines           68-QFN
                                                            DS3                      3.3V 1.2V   5V
 To Notebook
                                                                                       Cypress GX3
                              VBUS_N                                                   CYUSB3610            Ethernet Port
           Type-C plug                                                                   68-QFN
                                                                     HS lines
                             VCONN_N
                                                                                               VBUS_C
                                          CCG3
                               CC                 DRP                                                    Type-C receptacle   From DFP
                                        CYPD3123                                         CCG2               for Charging      Charger
                                         40-QFN                       I2C                 UFP     CC
                                                                                      CYPD2122
                                                                                        24-QFN
Document Number: 002-03288 Rev. *J                                                                                           Page 22 of 45


                                                                                                EZ-PD™ CCG3
Electrical Specifications
Absolute Maximum Ratings
Table 3. Absolute Maximum Ratings
  Parameter                  Description              Min  Typ    Max      Units           Details/Conditions
VSYS_MAX        Digital supply relative to VSS        –0.5  –       6        V
V5V             Max supply voltage relative to VSS      –   –       6        V
                Max supply voltage relative to VSS,
VBUS_MAX_ON                                             –   –      26        V
                VBUS regulator enabled
                Max supply voltage relative to VSS,
                VBUS regulator enabled 100% of the      –   –     24.5       V
                time
VBUS_MAX_OFF
                Max supply voltage relative to VSS,
                VBUS regulator enabled 25% of the       –   –      26        V   Absolute max
                time
VDDIO_MAX       Max supply voltage relative to VSS      –   –       6        V
VGPIO_ABS       GPIO voltage                          –0.5  –  VDDIO + 0.5   V
 VGPIO_OVT_ABS OVT GPIO voltage                       –0.5  –       6       V
IGPIO_ABS       Maximum current per GPIO              –25   –      25       mA
VCONN_MAX       Max voltage relative to VSS             –   –       6        V
VCC_ABS         Max voltage on CC1 and CC2 pins         –   –       6       V
                GPIO injection current, Max for VIH >
IGPIO_INJECTION                                       –0.5  –      0.5      mA   Absolute max, current injected per pin
                VDDD, and Min for VIL < VSS
                Electrostatic discharge human body
ESD_HBM                                               2200  –       –        V                      –
                model
                Electrostatic discharge charged
ESD_CDM                                                500  –       –        V                      –
                device model
LU              Pin current for latch-up              –100  –     100       mA   Tested at 125 °C
                                                                                 Contact discharge on CC1, CC2, VBUS,
ESD_IEC_CON Electrostatic discharge IEC61000-4-2 8000       –       –       V
                                                                                 DPLUS, DMINUS, SBU1 and SBU2 pins
                                                                                 Air discharge for CC1, CC2, VBUS,
ESD_IEC_AIR     Electrostatic discharge IEC61000-4-2 15000  –       –       V
                                                                                 DPLUS, DMINUS, SBU1 and SBU2 pins
Document Number: 002-03288 Rev. *J                                                                        Page 23 of 45


                                                                                                                            EZ-PD™ CCG3
Device-Level Specifications
All specifications are valid for –40 °C  TA  105 °C and TJ  120 °C, except where noted.
Table 4. DC Specifications
      Spec ID        Parameter            Description                 Min      Typ       Max      Units              Details/Conditions
SID.PWR#1           VSYS                          –                    2.7       –        5.5       V    UFP Mode.
SID.PWR#1_A         VSYS                          –                     3        –        5.5       V    DFP/DRP or Gate Driver Modes
                                  Power Supply Input
SID.PWR#23          VCONN                                              2.7       –        5.5       V                         –
                                  Voltage
SID.PWR#13          VDDIO         IO Supply Voltage                   1.71       –      5.5[2]      V    2.7V < VDDD < 5.5 V
                                  Output Voltage for core
SID.PWR24           VCCD                                                –       1.8        –        V                         –
                                  Logic
                                                                                                         From VSYS or VBUS
                                                                                                         VBUS = 5V,
SID.PWR#4           IDD           Supply current                        –       25         –       mA    TA = 25 °C / VSYS = 5 V, TA = 25 °C
                                                                                                         FS USB, CC IO in Tx or Rx, no I/O sourcing
                                                                                                         current, 2 SCBs at 1 Mbps, CPU at 24 MHz.
                                  Power supply for USB
SID.PWR#1_B         VSYS                                               4.5       –        5.5       V    USB configured, USB Regulator enabled
                                  operation
                                  Power supply for USB
SID.PWR#1_C         VSYS                                              3.15       –       3.45       V    USB configured, USB Regulator disabled
                                  operation
                                  Power supply for charger
SID.PWR#1_D         VSYS          detect/emulation                    3.15       –        5.5       V    –40 °C to +85 °C TA
                                  operation
                                  Power supply input                                                     FS USB disabled. Total current consumption
SID.PWR#27          VBUS                                               3.5       –       21.5       V
                                  voltage                                                                from VBUS <15 mA.
                                  Power supply input
SID.PwR#28          VBUS                                               4.5       –       21.5       V    FS USB configured, USB Regulator disabled
                                  voltage for USB operation
                                  Power supply input
SID.PWR#30          VBUS_P                                            4.00       –       21.5       V
                                  voltage
                                  External regulator voltage
SID.PWR#15          Cefc                                                1       1.3       1.6      µF    X5R ceramic or better
                                  bypass for VCCD
                                  Power supply decoupling
SID.PWR#16          Cexc                                               0.8       1         –       µF    X5R ceramic or better
                                  capacitor for VSYS
Sleep Mode. VSYS = 2.7 V to 5.5 V. Typical values measured at VDD = 3.3 V and TA = 25 °C.
                                  CC, I2C, WDT wakeup                                                    VSYS = 3.3 V, TA = 25 °C, All blocks except
SID25A              IDD20A        on.                                   –       3.5        –       mA    CPU are on, CC IO on, USB in Suspend
                                  IMO at 48 MHz.                                                         Mode, no I/O sourcing current
Deep Sleep Mode
                                  VSYS = 3.0 to 3.6 V. CC                                                Power Source = VSYS, DFP Mode, Type-C
SID_DS              IDD_DS        Attach, I2C, WDT                      –       30         –       µA    Not Attached. CC Attach, I2C and WDT
                                  Wakeup on.                                                             enabled for Wakeup.
XRES Current
                                  Supply current while
                                  XRES asserted.
                                                                                                         Power Source = VSYS = 3.3 V, Type-C
                                  This does not include
SID307              IDD_XR                                              –       30         –       µA    device not attached,
                                  current drawn due to the
                                                                                                         TA = 25 °C
                                  XRES internal pull-up
                                  resistor.
Note
 2. If VDDIO > VDDD, GPIO P2.4 cannot be used. It must be left unconnected. See Table 2 for pin numbers.
Document Number: 002-03288 Rev. *J                                                                                                     Page 24 of 45


                                                                                                     EZ-PD™ CCG3
Table 5. AC Specifications (Guaranteed by Characterization)
    Spec ID     Parameter                   Description               Min    Typ Max Units          Details/Conditions
 SID.CLK#4    FCPU          CPU input frequency                        DC     –      48 MHz All VDDD
 SID.PWR#20 TSLEEP          Wakeup from sleep mode                      –     0       –  µs                   –
 SID.PWR#21 TDEEPSLEEP      Wakeup from Deep Sleep mode                 –     –      35  µs                   –
 SID.XRES#5 TXRES           External reset pulse width                  5     –       –  µs   All VDDIO
                            Power-up to “Ready to accept I2C/CC
 SYS.FES#1    T_PWR_RDY                                                 –     5      25  ms                   –
                            command”
I/O
Table 6. I/O DC Specifications
    Spec ID      Parameter            Description              Min      Typ       Max     Units        Details/Conditions
 SID.GIO#37   VIH_CMOS       Input voltage HIGH threshold 0.7 × VDDIO     –          –       V    CMOS input
 SID.GIO#38   VIL_CMOS       Input voltage LOW threshold        –         –   0.3 × VDDIO    V    CMOS input
 SID.GIO#39   VIH_VDDIO2.7-  LVTTL input, VDDIO < 2.7 V    0.7× VDDIO     –          –       V                  –
 SID.GIO#40   VIL_VDDIO2.7-  LVTTL input, VDDIO < 2.7 V         –         –   0.3 × VDDIO    V                  –
 SID.GIO#41   VIH_VDDIO2.7+ LVTTL input, VDDIO  2.7 V         2.0        –          –       V                  –
 SID.GIO#42   VIL_VDDIO2.7+  LVTTL input, VDDIO  2.7 V          –        –        0.8       V                  –
 SID.GIO#33   VOH_3V         Output voltage HIGH level     VDDIO –0.6     –          –       V    IOH = 4 mA at 3V VDDIO
 SID.GIO#34   VOH_1.8V       Output voltage HIGH level     VDDIO –0.5     –          –       V    IOH = 1 mA at 1.8V VDDIO
 SID.GIO#35   VOL_1.8V       Output voltage LOW level           –         –        0.6       V    IOL = 4 mA at 1.8V VDDIO
                                                                                                  IOL = 4 mA at 3V VDDIO
 SID.GIO#36   VOL_3V         Output voltage LOW level           –         –        0.6       V
                                                                                                  for SBU and AUX pins
 SID.GIO#5    RPU            Pull-up resistor value            3.5       5.6       8.5      k    +25 °C TA, all VDDIO
 SID.GIO#6    RPD            Pull-down resistor value          3.5       5.6       8.5      k    +25 °C TA, all VDDIO
                                                                                                  +25 °C TA, all VDDIO.
                             Input leakage current
 SID.GIO#16   IIL                                                –        –          2      nA    Guaranteed by
                             (absolute value)
                                                                                                  characterization.
                                                                                                  All VDDIO, all packages,
                                                                                                  all I/Os except SBU and
 SID.GIO#17   CPIN           Max pin capacitance                –        3.0        7       pF
                                                                                                  AUX. Guaranteed by
                                                                                                  characterization.
                                                                                                  All VDDIO, all packages,
 SID.GIO#17A CPIN_SBU        Max pin capacitance                –        16        18       pF    SBU pins only. Guaranteed
                                                                                                  by characterization.
                                                                                                  All VDDIO, all packages,
 SID.GIO#17B CPIN_AUX        Max pin capacitance                –        12        14       pF    AUX pins only. Guaranteed
                                                                                                  by characterization.
                             Input hysteresis, LVTTL                                              Guaranteed by
 SID.GIO#43   VHYSTTL                                           15       40          –      mV
                             VDDIO  2.7 V                                                        characterization
                                                                                                  VDDIO < 4.5 V.
 SID.GIO#44   VHYSCMOS       Input hysteresis CMOS        0.05 × VDDIO    –          –      mV    Guaranteed by characteri-
                                                                                                  zation.
                             Current through protection                                           Guaranteed by characteri-
 SID69        IDIODE                                             –        –        100      µA
                             diode to VDDIO/Vss                                                   zation
                             Maximum total sink chip                                              Guaranteed by characteri-
 SID.GIO#45   ITOT_GPIO                                          –        –         85      mA
                             current                                                              zation
Document Number: 002-03288 Rev. *J                                                                              Page 25 of 45


                                                                                                         EZ-PD™ CCG3
Table 6. I/O DC Specifications (continued)
   Spec ID        Parameter              Description               Min       Typ      Max       Units      Details/Conditions
 OVT
                               Input current when Pad >
 SID.GIO#46    IIHS                                                 –         –      10.00       µA    Per I2C specification
                               VDDIO for OVT inputs
Table 7. I/O AC Specifications
(Guaranteed by Characterization)
   Spec ID       Parameter                     Description                  Min   Typ Max Units          Details/Conditions
 SID70        TRISEF           Rise time in Fast Strong mode                 2     –    12    ns   3.3 V VDDIO, Cload = 25 pF
 SID71        TFALLF           Fall time in Fast Strong mode                 2     –    12    ns   3.3 V VDDIO, Cload = 25 pF
XRES
Table 8. XRES DC Specifications
   Spec ID       Parameter            Description              Min          Typ          Max       Units      Details/Conditions
                              Input voltage HIGH
 SID.XRES#1 VIH_XRES                                      0.7 × VDDIO        –             –          V     CMOS input
                              threshold on XRES pin
                              Input voltage LOW
 SID.XRES#2 VIL_XRES                                            –            –       0.3 × VDDIO      V     CMOS input
                              threshold on XRES pin
                              Input capacitance on                                                          Guaranteed by charac-
 SID.XRES#3 CIN_XRES                                            –            –             7         pF
                              XRES pin                                                                      terization
                              Input voltage hysteresis                                                      Guaranteed by charac-
 SID.XRES#4 VHYSXRES                                            –      0.05 × VDDIO        –         mV
                              on XRES pin                                                                   terization
Digital Peripherals
The following specifications apply to the Timer/Counter/PWM peripherals in the Timer mode.
Pulse Width Modulation (PWM) for GPIO Pins
Table 9. PWM AC Specifications
(Guaranteed by Characterization)
     Spec ID        Parameter                 Description              Min     Typ   Max     Units       Details/Conditions
                                                                                                    Fc max = CLK_SYS.
 SID.TCPWM.3       TCPWMFREQ Operating frequency                         –      –     Fc     MHz
                                                                                                    Maximum = 48 MHz.
 SID.TCPWM.4       TPWMENEXT Input trigger pulse width                 2/Fc     –     –       ns    For all trigger events
                                                                                                    Minimum possible width of
                                                                                                    Overflow, Underflow, and CC
 SID.TCPWM.5       TPWMEXT      Output trigger pulse width             2/Fc     –     –       ns
                                                                                                    (Counter equals Compare
                                                                                                    value) outputs
                                                                                                    Minimum time between
 SID.TCPWM.5A TCRES             Resolution of counter                  1/Fc     –     –       ns
                                                                                                    successive counts
                                                                                                    Minimum pulse width of PWM
 SID.TCPWM.5B PWMRES            PWM resolution                         1/Fc     –     –       ns
                                                                                                    output
                                                                                                    Minimum pulse width between
 SID.TCPWM.5C QRES              Quadrature inputs resolution           1/Fc     –     –       ns
                                                                                                    quadrature-phase inputs
Document Number: 002-03288 Rev. *J                                                                                     Page 26 of 45


                                                                                                        EZ-PD™ CCG3
I2C
Table 10. Fixed I2C DC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description              Min    Typ     Max     Units         Details/Conditions
 SID149          II2C1         Block current consumption at 100 kHz  –      –       60       µA                    –
 SID150          II2C2         Block current consumption at 400 kHz  –      –      185       µA                    –
 SID151          II2C3         Block current consumption at 1 Mbps   –      –      390       µA                    –
 SID152          II2C4         I2C enabled in Deep Sleep mode        –      –       1.4      µA                    –
Table 11. Fixed I2C AC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description               Min    Typ     Max      Units       Details/Conditions
 SID153          FI2C1         Bit rate                               –       –       1      Mbps                  –
Table 12. Fixed UART DC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description              Min     Typ      Max     Units       Details/Conditions
                               Block current consumption at
 SID160          IUART1                                               –       –      125      µA                    –
                               100 Kb/s
                               Block current consumption at
 SID161          IUART2                                               –       –      312      µA                    –
                               1000 Kb/s
Table 13. Fixed UART AC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description              Min     Typ     Max      Units       Details/Conditions
 SID162          FUART                        Bit rate               –       –        1      Mbps                   –
Table 14. Fixed SPI DC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter                 Description                Min     Typ     Max    Units       Details/Conditions
 SID163          ISPI1         Block current consumption at 1 Mb/s       –       –       360     µA                   –
 SID164          ISPI2         Block current consumption at 4 Mb/s       –       –       560     µA                   –
 SID165          ISPI3         Block current consumption at 8 Mb/s       –       –       600     µA                   –
Table 15. Fixed SPI AC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description              Min     Typ     Max      Units       Details/Conditions
                               SPI Operating frequency (Master; 6X
 SID166          FSPI                                                 –      –        8      MHz                   –
                               oversampling)
Table 16. Fixed SPI Master Mode AC Specifications
(Guaranteed by Characterization)
    Spec ID        Parameter               Description              Min     Typ      Max     Units       Details/Conditions
 SID167          TDMO          MOSI Valid after SClock driving edge   –       –       15      ns                    –
                               MISO Valid before SClock capturing                                   Full clock, late MISO
 SID168          TDSI                                                20       –        –      ns
                               edge                                                                 sampling
                                                                                                    Referred to slave capturing
 SID169          THMO          Previous MOSI data hold time           0       –       –       ns
                                                                                                    edge
Document Number: 002-03288 Rev. *J                                                                                   Page 27 of 45


                                                                                                     EZ-PD™ CCG3
Table 17. Fixed SPI Slave Mode AC Specifications
(Guaranteed by Characterization)
    Spec ID       Parameter                  Description              Min    Typ       Max       Units   Details/Conditions
                               MOSI Valid before Sclock capturing
 SID170         TDMI                                                   40      –         –        ns               –
                               edge
 SID171         TDSO           MISO Valid after Sclock driving edge    –       –  42 + 3 × TCPU   ns    TCPU = 1/FCPU
                               MISO Valid after Sclock driving edge
 SID171A        TDSO_EXT                                                –      –        48        ns               –
                               in Ext Clk mode
 SID172         THSO           Previous MISO data hold time            0       –        –         ns               –
 SID172A        TSSELSCK       SSEL Valid to first SCK Valid edge     100      –        –         ns               –
System Resources
Power-on-Reset (POR) with Brown Out SWD Interface
Table 18. Imprecise Power On Reset (PRES) (Guaranteed by Characterization)
    Spec ID       Parameter                 Description               Min    Typ  Max     Units      Details/Conditions
                               Power-on Reset (POR) rising trip
 SID185         VRISEIPOR                                            0.80     –   1.50      V                  –
                               voltage
 SID186         VFALLIPOR      POR falling trip voltage              0.70     –    1.4      V                  –
Table 19. Precise Power On Reset (POR) (Guaranteed by Characterization)
    Spec ID       Parameter                 Description               Min    Typ  Max     Units       Details/Conditions
                               Brown-out Detect (BOD) trip voltage
 SID190         VFALLPPOR                                            1.48     –   1.62      V                  –
                               in active/sleep modes
 SID192         VFALLDPSLP     BOD trip voltage in Deep Sleep mode    1.1     –    1.5      V                  –
Table 20. SWD Interface Specifications
    Spec ID         Parameter                 Description             Min     Typ   Max     Units      Details/Conditions
                                                                                                   SWDCLK 1/3 CPU clock
 SID.SWD#1      F_SWDCLK1           3.3 V  VDDIO  5.5 V               –      –     14      MHz
                                                                                                   frequency
                                                                                                   SWDCLK 1/3 CPU clock
 SID.SWD#2      F_SWDCLK2           1.8 V  VDDIO  3.3 V               –      –      7      MHz
                                                                                                   frequency
                                                                                                   Guaranteed by
 SID.SWD#3      T_SWDI_SETUP T = 1/f SWDCLK                         0.25 × T   –      –       ns
                                                                                                   characterization
                                                                                                   Guaranteed by
 SID.SWD#4      T_SWDI_HOLD         T = 1/f SWDCLK                  0.25 × T   –      –       ns
                                                                                                   characterization
                                                                                                   Guaranteed by
 SID.SWD#5      T_SWDO_VALID T = 1/f SWDCLK                            –       –  0.50 × T    ns
                                                                                                   characterization
                                                                                                   Guaranteed by
 SID.SWD#6      T_SWDO_HOLD T = 1/f SWDCLK                             1       –      –       ns
                                                                                                   characterization
Document Number: 002-03288 Rev. *J                                                                               Page 28 of 45


                                                                                                EZ-PD™ CCG3
Internal Main Oscillator
Table 21. IMO DC Specifications
(Guaranteed by Design)
     Spec ID       Parameter                Description             Min  Typ  Max   Units       Details/Conditions
 SID218          IIMO1         IMO operating current at 48 MHz        –    –  1000   µA                  –
Table 22. IMO AC Specifications
     Spec ID       Parameter                Description             Min  Typ  Max   Units       Details/Conditions
                               Frequency variation at 24, 36, and
 SID.CLK#13      FIMOTOL                                              –    –   ±2     %   –25 °C TA 85 °C, all VDDD
                               48 MHz (trimmed)
                                                                                          Guaranteed by
 SID226          TSTARTIMO     IMO start-up time                      –    –    7     µs
                                                                                          characterization
                                                                                          Guaranteed by
 SID229          TJITRMSIMO2   RMS jitter at 24 MHz                   –  145    –     ps
                                                                                          characterization
 SID.CLK#1       FIMO          IMO frequency                         24    –   48   MHz All VDDD
Internal Low-Speed OscillatorPower Down
Table 23. ILO DC Specifications
(Guaranteed by Design)
     Spec ID       Parameter                Description             Min  Typ  Max   Units       Details/Conditions
 SID231          IILO1         ILO operating current                  –  0.3  1.05   µA                  –
 SID233          IILOLEAK      ILO leakage current                    –    2   15    nA                  –
Table 24. ILO AC Specifications
     Spec ID       Parameter                Description             Min  Typ  Max   Units       Details/Conditions
                                                                                          Guaranteed by
 SID234          TSTARTILO1    ILO start-up time                      –    –    2    ms
                                                                                          characterization
                                                                                          Guaranteed by
 SID238          TILODUTY      ILO duty cycle                        40   50   60     %
                                                                                          characterization
 SID.CLK#5       FILO          ILO frequency                         20   40   80    kHz                 –
Table 25. PD DC Specifications
     Spec ID       Parameter                Description             Min  Typ  Max   Units       Details/Conditions
                               DFP CC termination for default USB
 SID.PD.1        RP_std                                              64   80   96    µA                  –
                               Power
 SID.PD.2        RP_1.5A       DFP CC termination for 1.5A power    166  180  194.4  µA                  –
 SID.PD.3        RP_3.0A       DFP CC termination for 3.0A power    304  330  356.4  µA                  –
 SID.PD.4        RD            UFP CC termination                   4.59  5.1 5.61   kΩ                  –
                                                                                          UFP Dead Battery CC
                               UFP Dead Battery CC termination on                         termination on CC1 and CC2.
 SID.PD.5        RD_DB         CC1 and CC2, valid for 1.5A and 3.0A 4.08  5.1 6.12   kΩ   For Default RP termination,
                               RP termination values                                      the voltage on CC1 and CC2
                                                                                          is guaranteed to be <1.32 V.
                                                                                          All supplies forced to 0 V and
 SID.PD.6        RA            EMCA cable termination                0.8  1.0  1.2   kΩ
                                                                                          0.2 V applied at VCONN.
                                                                                          2.7 V applied at VCONN with
 SID.PD.7        RA_OFF        EMCA cable termination - Disabled     0.4 0.75   –    MΩ
                                                                                          RA disabled.
Document Number: 002-03288 Rev. *J                                                                         Page 29 of 45


                                                                                                           EZ-PD™ CCG3
Table 25. PD DC Specifications (continued)
    Spec ID       Parameter               Description                  Min     Typ     Max     Units       Details/Conditions
SID.PD.8        Rleak_1       VCONN leaker for 0.1-µF load              –       –      216      kΩ
SID.PD.9        Rleak_2       VCONN leaker for 0.5-µF load              –       –      43.2     kΩ
SID.PD.10       Rleak_3       VCONN leaker for 1.0-µF load              –       –      21.6     kΩ    Managed Active Cable (MAC)
SID.PD.11       Rleak_4       VCONN leaker for 2.0-µF load              –       –      10.8     kΩ    discharge.
SID.PD.12       Rleak_5       VCONN leaker for 5.0-µF load              –       –      4.32     kΩ
SID.PD.13       Rleak_6       VCONN leaker for 10-µF load                –      –      2.16     kΩ
                              Leaker on VCONN for discharge
SID.PD.14       Ileak                                                  150      –      550      µA                   –
                              upon cable detach
                                                                                                      Relative to the remote BMC
                              Ground offset tolerated by BMC
SID.PD.15       Vgndoffset                                            –400      –      400      mV    transmitter. Guaranteed by
                              receiver
                                                                                                      characterization.
Table 26. CSA Specifications
    Spec ID           Parameter                     Description                   Min      Typ   Max     Units Details/Conditions
                                     Overall Error at Av = 15 using deep sleep                                   Guaranteed by
SID.CSA.1       Out_E_Trim_15_DS                                                 –7.00      –    7.00      %
                                     reference                                                                   characterization.
                                     Overall Error at Av = 15 using bandgap                                      Guaranteed by
SID.CSA.2       Out_E_Trim_15_BG                                                 –4.50      –    4.50      %
                                     reference                                                                   characterization.
                                     Overall Error at Av = 100 using either
SID.CSA.3       Out_E_Trim_100                                                  –24.50      –    24.50     %               –
                                     bandgap or deep sleep reference
Table 27. UV/OV Specifications
    Spec ID       Parameter               Description                  Min     Typ     Max     Units       Details/Conditions
                              Voltage threshold Accuracy,                                             Tested at VBUS = 3.75 V,
SID.UVOV.1      VTHUVOV1                                                –6               6      %
                              VBUS  16 V                                                             4.5 V, 5.25 V, 12 V, 16 V
                              Voltage threshold Accuracy,
SID.UVOV.2      VTHUVOV2                                               –10              10      %     Tested at VBUS = 20 V
                              VBUS  16 V
Gate Driver Specifications
Table 28. Gate Driver DC Specifications
    Spec ID      Parameter         Description            Min    Typ   Max Units                   Details/Conditions
                                                                                      1. Gate driver Supply Voltage  5V, where
                                                                                         Gate driver supply voltage = VBUS _P for
                                                                                         VBUS_P_CTRL_ outputs, and VBUS_C
                             Gate to Source                                              for VBUS_C_CTRL_ outputs.
 DC.NGDO.1       VGS1                                      5      –    16.5     V
                             Overdrive                                                2. Gate driver current = 0
                                                                                      3. Gate driver configuration = NFET
                                                                                      4. Gate driver pump clock divider = 1
                                                                                      1. Gate driver Supply Voltage  3.75V, where
                                                                                         Gate driver supply voltage = VBUS _P for
                                                                                         VBUS_P_CTRL_ outputs, and VBUS_C
                             Gate to Source                                              for VBUS_C_CTRL_ outputs.
 DC.NGDO.2       VGS2                                    3.75     –    16.5     V
                             Overdrive                                                2. Gate driver current = 0
                                                                                      3. Gate driver configuration = NFET
                                                                                      4. Gate driver pump clock divider = 1
                             Resistance when “pull
 DC.NGDO.6       RPD                                       –      –      5     kΩ                            –
                             down” enabled
Document Number: 002-03288 Rev. *J                                                                                     Page 30 of 45


                                                                                                    EZ-PD™ CCG3
Table 29. Gate Driver AC Specifications
   Spec ID     Parameter              Description               Min     Typ   Max   Units        Details/Conditions
                          Gate turn-on time to gate_driver_sup-                            1. Gate driver configuration =
                          ply_voltage + 5V for supply voltage                                NFET
 AC.NGDO.1 TON                                                   –       –     1      ms
                          5V and VBUS * 2 for supply voltage <                             2. Load = The gate of a SI9936
                          5V                                                                  MOSFET
SBU
Table 30. Analog Crossbar Switch Specifications
  Spec ID      Parameter                 Description                Min     Typ   Max      Units        Details/Conditions
                                                                                                      Voltage input from 0 V
SID.SBU.1    Ron_sw        Switch ON Resistance                       –      –     10         Ω
                                                                                                      to 3.6 V
SID.SBU.2    Rpu_aux_1     AUX_P/N Pull-up Resistance – 100k         80      –    120        kΩ                   –
SID.SBU.3    Rpu_aux_2     AUX_P/N Pull-up Resistance – 1M           0.8     –     1.2      MΩ                    –
SID.SBU.4    Rpd_aux_1     AUX_P/N Pull-down Resistance – 100k       80      –    120        kΩ                   –
SID.SBU.5    Rpd_aux_2     AUX_P/N Pull-down Resistance – 1M         0.8     –     1.2      MΩ                    –
SID.SBU.6    Rpd_aux_3     AUX_P/N Pull-down Resistance – 470k      329      –     611       kΩ                   –
SID.SBU.7    Rpd_aux_4     AUX_P/N Pull-down Resistance – 4.7M      3.29     –    6.11      MΩ                    –
Charger Detect
Table 31. Charger Detect Specifications
  Spec ID      Parameter                 Description               Min      Typ    Max    Units       Details/Conditions
SID.CD.1     VDAT_REF      BC1.2 Data Detect Voltage Threshold     250       –     400     mV                   –
                                                                                                  With current sink of
SID.CD.2     VDM_SRC       BC1.2 DM Voltage Source                 500       –     700     mV
                                                                                                  25 µA–175 µA
                                                                                                  With current sink of
SID.CD.3     VDP_SRC       BC1.2 DP Voltage Source                 500       –     700     mV
                                                                                                  25 µA–175 µA
SID.CD.4     IDM_SINK      BC1.2 DM Current Sink                    25       –     175     µA                   –
SID.CD.5     IDP_SINK      BC1.2 DP Current Sink                    25       –     175     µA                   –
SID.CD.6     IDP_SRC       BC1.2 DP DCD Current Source               7       –      13     µA                   –
SID.CD.7     RDP_UP        USB FS DP Pull-up Termination           0.9       –    1.575    kΩ                   –
SID.CD.8     RDM_UP        USB FS DM Pull-up Termination           0.9       –    1.575    kΩ                   –
SID.CD.9     RDP_DWN       USB FS DP Pull-down Termination       14.25       –    24.8     kΩ                   –
SID.CD.10    RDM_DWN       USB FS DM Pull-down Termination       14.25       –     24.8    kΩ                   –
                                                                                                  The charger detect function
SID.CD.11    RDAT_LKG      DP/DM Data Line Leakage Termination     300       –     500     kΩ     and data line leakage is
                                                                                                  enabled.
                           BC1.2 DCP Port Resistance between
SID.CD.12    RDCP_DAT                                                –       –      40      Ω                   –
                           DP and DM
SID.CD.13    VSETH         USB FS Logic Threshold                 1.26       –     1.54     V                   –
Document Number: 002-03288 Rev. *J                                                                              Page 31 of 45


                                                                                                           EZ-PD™ CCG3
Analog to Digital Converter
Table 32. ADC DC Specifications (Guaranteed by Characterization)
    Spec ID        Parameter               Description            Min       Typ      Max       Units        Details/Conditions
SID.ADC.1         Resolution    ADC resolution                      –        8         –        Bits                 –
SID.ADC.2         INL           Integral non-linearity            –1.5       –        1.5       LSB                  –
SID.ADC.3         DNL           Differential non-linearity        –2.5       –        2.5       LSB                  –
SID.ADC.4         Gain Error    Gain error                         –1        –         1        LSB                  –
Table 33. ADC AC Specifications (Guaranteed by Design)
    Spec ID        Parameter                  Description             Min     Typ     Max    Units         Details/Conditions
                                Rate of change of sampled voltage
SID.ADC.5         SLEW_Max                                             –       –        3     V/ms                   –
                                signal
Table 34. VBUS_C Regulator DC Specifications
   Spec ID         Parameter                Description           Min    Typ     Max     Units           Details/Conditions
                                  VBUS regulator output voltage                                  VBUS = 4.5 V - 21.5 V range.
SID.20vreg.1 VBUSREG              measured at VDDD for             3       –      3.6      V     VDDD voltage measured with no
                                  VBUS = 4.5 V to 21.5 V                                         load and a load of 30 mA.
                                  VBUS regulator output voltage                                  VBUS = 4.5 V - 21.5 V range.
SID.20vreg.2 VBUSREG2             measured at VDDD for             3       –      3.6      V     VDDD voltage measured with no
                                  VBUS = 3.5 V to 21.5 V                                         load and a load of 15 mA.
                                                                                                 VBUS supply varied from 4.5 V to
                                  VBUS regulator line regulation                                 21.5 V and the change in the VDDD
SID.20vreg.6 VBUSLINREG                                            –       –      0.5     %/V
                                  for VBUS from 4.5 V to 21.5 V                                  measured.
                                                                                                 Guaranteed by Characterization.
                                                                                                 Supply of 4.5 V - 21.5 V applied on
                                                                                                 VBUS and the load current swept
                                  VBUS regulator load regulation
SID.20vreg.8 VBUSLOADREG                                           –       –      0.2    %/mA from 0 to 30 mA. The change in
                                  for VBUS from 4.5 V to 21.5 V
                                                                                                 VDDD is measured.
                                                                                                 Guaranteed by Characterization.
Table 35. VBUS_C Regulator AC Specifications (Guaranteed by Characterization)
  Spec ID       Parameter              Description           Min Typ Max Units                      Details/Conditions
                                                                                      Apply VBUS and measure start time on
AC.20vreg.1 TSTART           Regulator Start-up time           –   –    120     µs
                                                                                      VDDD pin.
                                                                                      Time from assertion of an internal disable
AC.20vreg.2 TSTOP            Regulator power down time         –   –     1      µs    signal to for load current on VDDD to
                                                                                      decrease from 30 mA to 10 µA.
Table 36. VSYS Switch Specification
  Spec ID       Parameter              Description           Min Typ Max Units                      Details/Conditions
                             Resistance from VSYS supply
                                                                                      Measured with a load current of 5 mA - 10 mA
SID.vddsw.1 Res_sw           input to the output supply        –   –    1.5     Ω
                                                                                      on VDDD.
                             VDDD
Document Number: 002-03288 Rev. *J                                                                                     Page 32 of 45


                                                                                           EZ-PD™ CCG3
Memory
Table 37. Flash AC Specifications
  Spec ID        Parameter                 Description          Min Typ Max  Units       Details/Conditions
SID.MEM#3 FLASH_ERASE             Row erase time                 –   –  15.5  ms                  –
                                  Row (Block) write time (erase
SID.MEM#4 FLASH_WRITE                                            –   –   20   ms                  –
                                  and program)
SID.MEM#8 FLASH_ROW_PGM Row program time after erase             –   –    7   ms                  –
SID178       TBULKERASE           Bulk erase time (64k Bytes)    –   –   35   ms                  –
SID180       TDEVPROG             Total device program time      –   –   7.5   s   Guaranteed by characterization
                                  Flash retention, TA ≤ 55 °C,
SID182       FRET1                                              20   –    –  years Guaranteed by characterization
                                  100 K P/E cycles
                                  Flash retention, TA ≤ 85 °C,
SID182A      FRET2                                              10   –    –  years Guaranteed by characterization
                                  10 K P/E cycles
                                  Flash retention, TA ≤ 105 °C,
SID182B      FRET3                                               3   –    –  years Guaranteed by characterization
                                  10 K P/E cycles
Document Number: 002-03288 Rev. *J                                                                    Page 33 of 45


                                                                                                                                             EZ-PD™ CCG3
Ordering Information
Table 38 lists the EZ-PD CCG3 part numbers and features.
Table 38. EZ-PD CCG3 Ordering Information
      Part Number                        Application               Termination Resistor              Role              Default FW                 Package           Si ID
CYPD3120-40LQXIT                                                                                                 USB Bootloader
                               Dongle                              RP, RD[4], RD_DB                  UFP                                           40-QFN           1D00
CYPD3120-40LQXI                                                                                                  and Application FW
CYPD3121-40LQXIT
                               Power Banks                         RP[5], RD, RD_DB[6]               DRP         USB Bootloader                    40-QFN           1D02
CYPD3121-40LQXI
CYPD3122-40LQXIT
                               Monitor (DFP)                       RP, RD, RD_DB                     DFP         I2C Bootloader                    40-QFN           1D03
CYPD3122-40LQXI
CYPD3123-40LQXIT                                                                                                 USB Bootloader
                               Charge-through Dongle               RP, RD, RD_DB                     DRP                                           40-QFN           1D09
CYPD3123-40LQXI                                                                                                  and Application FW
CYPD3125-40LQXIT
                               Notebooks, Smartphones RP, RD, RD_DB                                  DRP         I2C Bootloader                    40-QFN           1D04
CYPD3125-40LQXI
CYPD3126-42FNXIT               DRP                                 RP, RD[4], RD_DB                  DRP         I2C Bootloader                    42-CSP           1D07
CYPD3135-32LQXQT                                                                                                 CC Bootloader and
                               Power Adapter                       RP                                DFP                                           32-QFN           1D08
CYPD3135-32LQXQ                                                                                                  Application FW[7]
CYPD3135-40LQXIT                                                                                                 CC Bootloader and
                               Power Adapter                       RP                                DFP                                           40-QFN           1D05
CYPD3135-40LQXI                                                                                                  Application FW[7]
CYPD3135-40LQXQT                                                                                                 CC Bootloader and
                               Power Adapter                       RP                                DFP                                           40-QFN           1D05
CYPD3135-40LQXQ                                                                                                  Application FW[7]
Ordering Code Definitions
CY PD         X     X XX -       XX XX          X X X
                                                                T = Tape and Reel
                                                                Temperature Grade:
                                                                I = Industrial (–40 °C - 85 °C), Q = Extended industrial (–40 °C - 105 °C)
                                                                Lead: X = Pb-free
                                                                Package Type: FN = CSP; LQ = QFN
                                                                Number of pins in the package
                                                                Application and Feature Combination Designation
                                                                Number of Type-C Ports: 1 = 1 Port, 2 = 2 Port
                                                                Product Type: 3 = Third-generation product family, CCG3
                                                                Marketing Code: PD = Power Delivery product family
                                                                Company ID: CY = Cypress
Notes
 3. Termination resistor denoting an EMCA.
 4. Termination resistor denoting an upstream facing port.
 5. Termination resistor denoting a downstream facing port.
 6. Termination resistor denoting dead battery termination.
 7. The CYPD3135 parts are shipped with bootloader and application firmware with limited functionality. Its purpose is to facilitate application flashing over CC line using
    the EZ-PD Configuration Utility. The power adapter requires an explicit power contract to be negotiated prior to enabling the EZ-PD Configuration utility to flash the
    application firmware. This application firmware, based on the state of the GPIO (P1.0), determines the type of provider load switch (NFET/PFET) and supplies the
    5V VBUS over Type-C.
Document Number: 002-03288 Rev. *J                                                                                                                          Page 34 of 45


                                                                                        EZ-PD™ CCG3
Packaging
Table 39. Package Characteristics
  Parameter              Description                     Conditions       Min       Typ         Max     Units
                                                          Industrial                             85       °C
TA             Operating ambient temperature                              –40        25
                                                      Extended Industrial                       105       °C
                                                          Industrial                            100       °C
TJ             Operating junction temperature                             –40        25
                                                      Extended Industrial                       125       °C
TJA            Package JA (40-pin QFN)                       –            –          –          17      °C/W
TJC            Package JC (40-pin QFN)                       –            –          –          2       °C/W
TJA            Package JA (42-ball WLCSP)                    –            –          –          34      °C/W
TJC            Package JC (42-ball WLCSP)                    –            –          –         0.3      °C/W
TJA            Package JA (32-pin QFN)                       –            –          –          18      °C/W
TJC            Package JC (32-pin QFN)                       –            –          –          4       °C/W
Table 40. Solder Reflow Peak Temperature
                                                                          Maximum Time within 5 °C of Peak
               Package                        Maximum Peak Temperature              Temperature
40-pin QFN                                               260 °C                      30 seconds
42-ball WLCSP                                            260 °C                      30 seconds
32-pin QFN                                               260 °C                      30 seconds
Table 41. Package Moisture Sensitivity Level (MSL), IPC/JEDEC J-STD-2
                          Package                                             MSL
42-ball WLCSP                                                                 MSL 1
40-pin QFN                                                                    MSL 3
32-pin QFN                                                                    MSL 3
Document Number: 002-03288 Rev. *J                                                                Page 35 of 45


                                                                                           EZ-PD™ CCG3
                                  Figure 17. 40-pin QFN Package Outline, 001-80659
                                                                                    001-80659 *A
                                  Figure 18. 42-ball CSP Package Outline, 002-04062
                                                                                     002-04062 *A
Document Number: 002-03288 Rev. *J                                                                Page 36 of 45


                                                                                                               EZ-PD™ CCG3
                                  Figure 19. 32-pin QFN Package Outline, 001-42168
                                                                                              SEE NOTE 1
                              TOP VIEW
                                                                                             BOTTOM VIEW
                                                           SIDE VIEW
                                                                     NOTES:
                                                 DIMENSIONS
                                     SYMBOL                          1.     HATCH AREA IS SOLDERABLE EXPOSED PAD
                                            MIN.    NOM.   MAX.      2. BASED ON REF JEDEC # MO-248
                                       A     0.50    0.55   0.60     3. PACKAGE WEIGHT: 0.0388g
                                       A1      -    0.020  0.045     4. DIMENSIONS ARE IN MILLIMETERS
                                       A2         0.15 BSC
                                       D     4.90    5.00   5.10
                                       D2    3.40    3.50   3.60
                                       E     4.90    5.00   5.10
                                       E2    3.40    3.50   3.60
                                        L    0.30    0.40   0.50
                                                                                                  001-42168 *F
                                        b    0.18    0.25   0.30
                                        e         0.50 TYP
Document Number: 002-03288 Rev. *J                                                                                  Page 37 of 45


                                                                                                        EZ-PD™ CCG3
Acronyms                                                          Table 42. Acronyms Used in this Document (continued)
Table 42. Acronyms Used in this Document                           Acronym                        Description
                                                                  opamp       operational amplifier
 Acronym                         Description
                                                                  OCP         overcurrent protection
ADC         analog-to-digital converter
                                                                  OVP         overvoltage protection
AES         advanced encryption standard
                                                                  PCB         printed circuit board
            AMBA (advanced microcontroller bus architecture)
AHB                                                               PD          power delivery
            high-performance bus
API         application programming interface                     PGA         programmable gain amplifier
ARM®        advanced RISC machine, a CPU architecture             PHY         physical layer
BMC         Biphase Mark Code                                     POR         power-on reset
CC          configuration channel                                 PRES        precise power-on reset
CCG3        Cable Controller Generation 3                         PSoC®       Programmable System-on-Chip™
CPU         central processing unit                               PWM         pulse-width modulator
            cyclic redundancy check, an error-checking            RAM         random-access memory
CRC
            protocol                                              RISC        reduced-instruction-set computing
CS          current sense                                         RMS         root-mean-square
DFP         downstream facing port                                RTC         real-time clock
            digital input/output, GPIO with only digital capabil- RX          receive
DIO
            ities, no analog. See GPIO.
                                                                  SAR         successive approximation register
DRP         dual role port
                                                                  SCB         serial communication block
            electrically erasable programmable read-only
EEPROM
            memory                                                SCL         I2C serial clock
            electronically marked cable assembly, a USB cable     SDA         I2C serial data
            that includes an IC that reports cable                S/H         sample and hold
EMCA
            characteristics (e.g., current rating) to the Type-C  SHA         secure hash algorithm
            ports
                                                                              Serial Peripheral Interface, a communications
EMI         electromagnetic interference                          SPI
                                                                              protocol
ESD         electrostatic discharge                               SRAM        static random access memory
FS          full-speed                                            SWD         serial wire debug, a test protocol
GPIO        general-purpose input/output                          TCPWM       timer/counter pulse-width modulator
HPD         hot plug detect                                       Thunder-
                                                                              Trademark of Intel
IC          integrated circuit                                    bolt
IDE         integrated development environment                    TX          transmit
I2C, or IIC Inter-Integrated Circuit, a communications protocol               a new standard with a slimmer USB connector and
ILO         internal low-speed oscillator, see also IMO           Type-C      a reversible cable, capable of sourcing up to 100 W
                                                                              of power
IMO         internal main oscillator, see also ILO
                                                                              Universal Asynchronous Transmitter Receiver, a
IOSS        input/output subsystem                                UART
                                                                              communications protocol
I/O         input/output, see also GPIO                           USB         Universal Serial Bus
LDO         low-dropout regulator                                 USB PD      USB Power Delivery
LVD         low-voltage detect                                    USB-FS      USB Full-Speed
LVTTL       low-voltage transistor-transistor logic                           USB input/output, CCG2 pins used to connect to a
                                                                  USBIO
MCU         microcontroller unit                                              USB port
MMIO        memory mapped input/output                            USBPD SS USB PD subsystem
NC          no connect                                            VDM         vendor defined messages
NMI         nonmaskable interrupt                                 XRES        external reset I/O pin
NVIC        nested vectored interrupt controller
Document Number: 002-03288 Rev. *J                                                                                  Page 38 of 45


                                              EZ-PD™ CCG3
Document Conventions
Units of Measure
Table 43. Units of Measure
  Symbol                      Unit of Measure
°C          degrees Celsius
Hz          hertz
KB          1024 bytes
kHz         kilohertz
k          kilo ohm
Mbps        megabits per second
MHz         megahertz
M          mega-ohm
Msps        megasamples per second
µA          microampere
µF          microfarad
µs          microsecond
µV          microvolt
µW          microwatt
mA          milliampere
ms          millisecond
mV          millivolt
nA          nanoampere
ns          nanosecond
           ohm
pF          picofarad
ppm         parts per million
ps          picosecond
s           second
sps         samples per second
V           volt
Document Number: 002-03288 Rev. *J                 Page 39 of 45


                                                                                                  EZ-PD™ CCG3
References and Links to Applications Collaterals
Knowledge Base Articles
■ Key Differences Among EZ-PD™ CCG1, CCG2, CCG3 and           ■ AN95615 - Designing USB 3.1 Type-C Cables Using EZ-PD™
  CCG4 - KBA210740                                              CCG2
■ Programming EZ-PD™ CCG2, EZ-PD™ CCG3 and EZ-PD™             ■ AN95599 - Hardware Design Guidelines for EZ-PD™ CCG2
  CCG4 Using PSoC® Programmer and MiniProg3 - KBA96477
                                                              ■ AN210403 - Hardware Design Guidelines for Dual Role Port
■ CCGX Frequently Asked Questions (FAQs) - KBA97244             Applications Using EZ-PD™ USB Type-C Controllers
■ Handling Precautions for CY4501 CCG1 DVK - KBA210560        ■ AN210771 - Getting Started with EZ-PD™ CCG4
■ Cypress EZ-PD™ CCGx Hardware - KBA204102                    Reference Designs
■ Difference between USB Type-C and USB-PD - KBA204033        ■ EZ-PD™ CCG2 Electronically Marked Cable Assembly
■ CCGx Programming Methods - KBA97271                           (EMCA) Paddle Card Reference Design
■ Getting started with Cypress USB Type-C Products -          ■ EZ-PD™ CCG2 USB Type-C to DisplayPort Cable Solution
  KBA04071
                                                              ■ CCG1 USB Type-C to DisplayPort Cable Solution
■ Type-C to DisplayPort Cable Electrical Requirements
                                                              ■ CCG1 USB Type-C to HDMI/DVI/VGA Adapter Solution
■ Dead Battery Charging Implementation in USB Type-C
  Solutions - KBA97273                                        ■ EZ-PD™ CCG2 USB Type-C to HDMI Adapter Solution
■ Termination Resistors Required for the USB Type-C Connector ■ CCG1 Electronically Marked Cable Assembly (EMCA) Paddle
  – KBA97180                                                    Card Reference Design
■ VBUS Bypass Capacitor Recommendation for Type-C Cable       ■ CCG1 USB Type-C to Legacy USB Device Cable Paddle Card
  and Type-C to Legacy Cable/Adapter Assemblies – KBA97270      Reference Schematics
■ Need for Regulator and Auxiliary Switch in Type-C to        ■ EZ-USB GX3 USB Type-C to Gigabit Ethernet Dongle
  DisplayPort (DP) Cable Solution - KBA97274
                                                              ■ EZ-PD™ CCG2 USB Type-C Monitor/Dock Solution
■ Need for a USB Billboard Device in Type-C Solutions –
  KBA97146                                                    ■ CCG2 20W Power Adapter Reference Design
■ CCG1 Devices in Type-C to Legacy Cable/Adapter Assemblies   ■ CCG2 18W Power Adapter Reference Design
  – KBA97145
                                                              ■ EZ-USB GX3 USB Type-A to Gigabit Ethernet Reference
■ Cypress USB Type-C Controller Supported Solutions –           Design Kit
  KBA97179
                                                              Kits
■ Termination Resistors for Type-C to Legacy Ports – KBA97272
                                                              ■ CY4501 CCG1 Development Kit
■ Handling Instructions for CY4502 CCG2 Development Kit –
  KBA97916                                                    ■ CY4502 EZ-PD™ CCG2 Development Kit
■ Thunderbolt™ Cable Application Using CCG3 Devices -         ■ CY4531 EZ-PD CCG3 Evaluation Kit
  KBA210976
                                                              ■ CY4541 EZ-PD™ CCG4 Evaluation Kit
■ Power Adapter Application Using CCG3 Devices - KBA210975
                                                              Datasheets
■ Methods to Upgrade Firmware on CCG3 Devices - KBA210974
■ Device Flash Memory Size and Advantages - KBA210973         ■ CCG1 Datasheet: USB Type-C Port Controller with Power
                                                                Delivery
■ Applications of EZ-PD™ CCG4 - KBA210739
                                                              ■ CYPD1120 Datasheet: USB Power Delivery Alternate Mode
Application Notes                                               Controller on Type-C
■ AN96527 - Designing USB Type-C Products Using Cypress’s     ■ CCG2: USB Type-C Port Controller Datasheet
  CCG1 Controllers
                                                              ■ CCG4: Two-Port USB Type-C Controller Datasheet
Document Number: 002-03288 Rev. *J                                                                          Page 40 of 45


                                                                                                EZ-PD™ CCG3
Document History Page
 Document Title: EZ-PD™ CCG3 USB Type-C Port Controller
 Document Number: 002-03288
                       Orig. of    Submission
 Revision     ECN                                                         Description of Change
                       Change          Date
    **     4905678      VGT         09/11/2015 New data sheet.
                                               Updated General Description:
                                               Updated the number of GPIOs to 20.
                                               Updated Functional Overview:
                                               Updated GPIO:
    *A     4953333      VGT        10/08/2015  Updated the number of GPIOs to 20.
                                               Updated Pinouts:
                                               Updated Table 2.
                                               Updated Figure 4.
                                               Added Figure 6.
                                               Changed status from Advance to Preliminary.
                                               Updated Features.
                                               Added EZ-PD CCG3 Block Diagram.
                                               Updated Functional Overview:
                                               Updated USB-PD Subsystem (USBPD SS) (Updated description).
                                               Added Full-Speed USB Subsystem.
                                               Updated Pinouts:
                                               Updated Table 2.
                                               Updated Figure 4.
                                               Updated Figure 6.
                                               Added Applications.
                                               Updated Electrical Specifications:
                                               Updated Absolute Maximum Ratings:
                                               Updated Table 3.
                                               Updated Device-Level Specifications:
                                               Updated Table 4.
    *B     5007726      VGT         11/25/2015 Updated Table 5.
                                               Updated I/O:
                                               Updated Table 6.
                                               Updated XRES:
                                               Updated Table 8.
                                               Updated System Resources:
                                               Updated Power-on-Reset (POR) with Brown Out SWD Interface:
                                               Updated Table 18.
                                               Updated Table 19.
                                               Updated Table 20.
                                               Updated Internal Main Oscillator:
                                               Updated Table 22.
                                               Updated Internal Low-Speed OscillatorPower Down:
                                               Updated Table 23.
                                               Updated Table 24.
                                               Updated Internal Low-Speed OscillatorPower Down:
                                               Updated Table 25.
Document Number: 002-03288 Rev. *J                                                                      Page 41 of 45


                                                                                                 EZ-PD™ CCG3
Document History Page (continued)
 Document Title: EZ-PD™ CCG3 USB Type-C Port Controller
 Document Number: 002-03288
                       Orig. of    Submission
 Revision     ECN                                                         Description of Change
                       Change          Date
                                               Updated Analog to Digital Converter:
                                               Updated Table 32.
 *B (cont.) 5007726     VGT         11/25/2015 Updated Table 33.
                                               Updated Packaging:
                                               Added Figure 18 (spec 002-04062 *A).
                                               Updated General Description.
                                               Updated Features.
                                               Updated Logic Block Diagram.
                                               Updated Power Systems Overview.
                                               Updated Pinouts:
                                               Updated Table 2.
                                               Added table “CCG3 Pin Description for 16-SOIC Device”.
                                               Added figure “Pinout of 16-SOIC Package (Top View)”.
     *C     5080470     VGT         01/11/2016 Updated Applications:
                                               Updated Figure .
                                               Updated Figure 11.
                                               Updated figure “Power Adapter Application Diagram (16-SOIC Device)”.
                                               Updated Figure 15.
                                               Updated Ordering Information.
                                               Updated Packaging:
                                               Added spec 51-85022 *E.
                                               Added Errata.
                                               Updated Pinouts:
                                               Updated table “CCG3 Pin Description for 16-SOIC Device”.
                                               Updated figure “Pinout of 16-SOIC Package (Top View)”.
                                               Updated Applications:
     *D     5137796     VGT        03/09/2016  Updated Figure 11.
                                               Updated Figure 12.
                                               Updated Ordering Information
                                               Updated Errata.
                                               Updated to new template.
                                               Updated General Description:
                                               Updated description.
                                               Updated Features:
                                               Updated Type-C and USB-PD Support:
                                               Updated description.
                                               Updated Packages:
                                               Updated description.
     *E     5240836     VGT        04/28/2016
                                               Updated Logic Block Diagram.
                                               Updated Functional Overview:
                                               Updated Integrated Billboard Device:
                                               Updated description.
                                               Updated USB-PD Subsystem (USBPD SS):
                                               Updated description.
                                               Added Figure 2 and Figure 5.
Document Number: 002-03288 Rev. *J                                                                         Page 42 of 45


                                                                                                     EZ-PD™ CCG3
Document History Page (continued)
 Document Title: EZ-PD™ CCG3 USB Type-C Port Controller
 Document Number: 002-03288
                       Orig. of    Submission
 Revision     ECN                                                         Description of Change
                       Change          Date
                                               Updated Power Systems Overview: Updated description.
                                               Updated Figure 3.
                                               Updated Pinouts:
                                               Updated Table 2:
                                               Updated details in “Description” column corresponding to VDDIO pin.
                                               Removed table “CCG3 Pin Description for 16-SOIC Device”.
                                               Removed figure “Pinout of 16-SOIC Package (Top View)”.
                                               Updated Applications: Removed figure “Power Adapter Application Diagram
                                               (16-SOIC Device)”.
                                               Added Figure 12.
                                               Updated Electrical Specifications:
                                               Updated Device-Level Specifications:
                                               Updated Table 4.
                                               Updated details in “Details/Conditions” column corresponding to
                                               “SID.PWR#1_A” Spec ID and “VSYS” parameter.
                                               Replaced “VDDD” with “5.5” in “Max” column corresponding to “SID.PWR#13”
 *E (cont.) 5240836     VGT        04/28/2016  Spec ID and “VDDIO” parameter.
                                               Added “SID.PWR#13_A” Spec ID corresponding to “VDDIO” parameter and its
                                               details.
                                               Added “SID.PWR#1_C” and “SID.PWR#1_D” Spec IDs corresponding to
                                               “VSYS” parameter and its details.
                                               Replaced “enabled” with “disabled” in “Details/Conditions” column
                                               corresponding to “SID.PwR#28” Spec ID and “VBUS” parameter.
                                               Updated details in “Description” and “Details/Conditions” columns
                                               corresponding to “SID307” Spec ID and “IDD_XR” parameter.
                                               Updated System Resources:
                                               Added Gate Driver Specifications, Charger Detect.
                                               Updated Ordering Information: Updated part numbers.
                                               Updated details in “Application” column corresponding to part number
                                               “CYPD3121-40LQXIT”.
                                               Updated Ordering Code Definitions
                                               Updated Packaging: Removed spec 51-85022 *E.
                                               Removed Errata.
                                               Added Available Firmware and Software Tools, CCG3 Programming and
                                               Bootloading, and References and Links to Applications Collaterals.
                                               Added descriptive notes for the application diagrams.
                                               Updated Features, Applications and Timer/Counter/PWM Block (TCPWM).
                                               Updated Table 2 through Table 6, Table 18, Table 19, Table 22, Table 23,
                                               Table 25, and Table 31 through Table 38.
     *F     5342389      VGT        07/28/2016 Updated Figure 7, Figure 8, Figure , Figure 11, and Figure 19 (package
                                               diagram spec 001-42168 *E).
                                               Added Figure 5, Figure 13, and Figure 14.
                                               Added Table 26, Table 27, Table 37, and Table 39 through Table 41.
                                               Added VDM in Acronyms.
                                               Updated Cypress logo and copyright information.
                                               Added Table 34 through Table 36.
                                               Updated Table 3, Table 4, Table 6, and Table 37.
     *G     5449433      VGT        09/26/2016
                                               Updated Copyright and Disclaimer.
                                               Added Compliance information in Sales, Solutions, and Legal Information.
Document Number: 002-03288 Rev. *J                                                                             Page 43 of 45


                                                                                                  EZ-PD™ CCG3
Document History Page (continued)
 Document Title: EZ-PD™ CCG3 USB Type-C Port Controller
 Document Number: 002-03288
                       Orig. of    Submission
 Revision     ECN                                                        Description of Change
                       Change          Date
                                               Removed Preliminary document status.
                                               Updated Sales information and Copyright details.
                                               Added Gate Driver Specifications in Table 28 and Table 29.
                                               Updated Applications.
    *H     5514508       VGT        01/13/2017
                                               Added Figure 16.
                                               Updated Ordering Information:
                                               Added “CYPD3123-40LQXIT” part number.
                                               Removed “CYPD3105-42FNXIT” part number.
     *I    5662219       VGT        03/29/2017 Updated Table 2, added non Tape and Reel part numbers and Note 7 in
                                               Table 38, Updated description prior to Figure 11.
                                               Updated description of V5V pin in Table 2.
                                               Removed parameter SID.PWR#13_A from Table 4.
    *J     6032274      VGT         2/21/2018
                                               Updated description in USB-PD Subsystem (USBPD SS).
                                               Updated Packaging: 32-pin QFN Package Outline, 001-42168 (*E to *F).
Document Number: 002-03288 Rev. *J                                                                        Page 44 of 45


                                                                                                                                                                     EZ-PD™ CCG3
Sales, Solutions, and Legal Information
Worldwide Sales and Design Support
Cypress maintains a worldwide network of offices, solution centers, manufacturer’s representatives, and distributors. To find the office
closest to you, visit us at Cypress Locations.
Products                                                                                                    PSoC® Solutions
Arm® Cortex® Microcontrollers                                          cypress.com/arm                      PSoC 1 | PSoC 3 | PSoC 4 | PSoC 5LP | PSoC 6
Automotive                                                  cypress.com/automotive
                                                                                                            Cypress Developer Community
Clocks & Buffers                                                   cypress.com/clocks
                                                                                                            Forums | WICED IOT Forums | Projects | Video | Blogs |
Interface                                                      cypress.com/interface                        Training | Components
Internet of Things                                                        cypress.com/iot
                                                                                                            Technical Support
Memory                                                          cypress.com/memory
                                                                                                            cypress.com/support
Microcontrollers                                                       cypress.com/mcu
PSoC                                                                  cypress.com/psoc
Power Management ICs                                                  cypress.com/pmic
Touch Sensing                                                        cypress.com/touch
USB Controllers                                                         cypress.com/usb
Wireless Connectivity                                           cypress.com/wireless
Notice regarding compliance with Universal Serial Bus specification. Cypress offers firmware and hardware solutions that are certified to comply with the Universal Serial Bus specification, USB
Type-C™ Cable and Connector Specification, and other specifications of USB Implementers Forum, Inc (USB-IF). You may use Cypress or third party software tools, including sample code, to modify
the firmware for Cypress USB products. Modification of such firmware could cause the firmware/hardware combination to no longer comply with the relevant USB-IF specification. You are solely
responsible ensuring the compliance of any modifications you make, and you must follow the compliance requirements of USB-IF before using any USB-IF trademarks or logos in connection with any
modifications you make. In addition, if Cypress modifies firmware based on your specifications, then you are responsible for ensuring compliance with any desired standard or specifications as if you
had made the modification. CYPRESS IS NOT RESPONSIBLE IN THE EVENT THAT YOU MODIFY OR HAVE MODIFIED A CERTIFIED CYPRESS PRODUCT AND SUCH MODIFIED PRODUCT
NO LONGER COMPLIES WITH THE RELEVANT USB-IF SPECIFICATIONS.
 © Cypress Semiconductor Corporation, 2015-2018. This document is the property of Cypress Semiconductor Corporation and its subsidiaries, including Spansion LLC ("Cypress"). This document,
 including any software or firmware included or referenced in this document ("Software"), is owned by Cypress under the intellectual property laws and treaties of the United States and other countries
 worldwide. Cypress reserves all rights under such laws and treaties and does not, except as specifically stated in this paragraph, grant any license under its patents, copyrights, trademarks, or other
 intellectual property rights. If the Software is not accompanied by a license agreement and you do not otherwise have a written agreement with Cypress governing the use of the Software, then Cypress
 hereby grants you a personal, non-exclusive, nontransferable license (without the right to sublicense) (1) under its copyright rights in the Software (a) for Software provided in source code form, to
 modify and reproduce the Software solely for use with Cypress hardware products, only internally within your organization, and (b) to distribute the Software in binary code form externally to end users
 (either directly or indirectly through resellers and distributors), solely for use on Cypress hardware product units, and (2) under those claims of Cypress's patents that are infringed by the Software (as
 provided by Cypress, unmodified) to make, use, distribute, and import the Software solely for use with Cypress hardware products. Any other use, reproduction, modification, translation, or compilation
 of the Software is prohibited.
 TO THE EXTENT PERMITTED BY APPLICABLE LAW, CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THIS DOCUMENT OR ANY SOFTWARE
 OR ACCOMPANYING HARDWARE, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. No computing
 device can be absolutely secure. Therefore, despite security measures implemented in Cypress hardware or software products, Cypress does not assume any liability arising out of any security breach,
 such as unauthorized access to or use of a Cypress product. In addition, the products described in these materials may contain design defects or errors known as errata which may cause the product
 to deviate from published specifications. To the extent permitted by applicable law, Cypress reserves the right to make changes to this document without further notice. Cypress does not assume any
 liability arising out of the application or use of any product or circuit described in this document. Any information provided in this document, including any sample design information or programming
 code, is provided only for reference purposes. It is the responsibility of the user of this document to properly design, program, and test the functionality and safety of any application made of this
 information and any resulting product. Cypress products are not designed, intended, or authorized for use as critical components in systems designed or intended for the operation of weapons, weapons
 systems, nuclear installations, life-support devices or systems, other medical devices or systems (including resuscitation equipment and surgical implants), pollution control or hazardous substances
 management, or other uses where the failure of the device or system could cause personal injury, death, or property damage ("Unintended Uses"). A critical component is any component of a device
 or system whose failure to perform can be reasonably expected to cause the failure of the device or system, or to affect its safety or effectiveness. Cypress is not liable, in whole or in part, and you
 shall and hereby do release Cypress from any claim, damage, or other liability arising from or related to all Unintended Uses of Cypress products. You shall indemnify and hold Cypress harmless from
 and against all claims, costs, damages, and other liabilities, including claims for personal injury or death, arising from or related to any Unintended Uses of Cypress products.
 Cypress, the Cypress logo, Spansion, the Spansion logo, and combinations thereof, WICED, PSoC, CapSense, EZ-USB, F-RAM, and Traveo are trademarks or registered trademarks of Cypress in
 the United States and other countries. For a more complete list of Cypress trademarks, visit cypress.com. Other names and brands may be claimed as property of their respective owners.
Document Number: 002-03288 Rev. *J                                                                Revised February 23, 2018                                                             Page 45 of 45


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Cypress Semiconductor:
 CYPD3135-32LQXQT CYPD3125-40LQXI CYPD3135-40LQXIT CYPD3135-40LQXQ CYPD3135-32LQXQ
CYPD3135-40LQXQT CYPD3125-40LQXIT CYPD3135-40LQXI CYPD3121-40LQXI CYPD3121-40LQXIT
CYPD3120-40LQXI CYPD3126-42FNXIT CYPD3122-40LQXI CYPD3122-40LQXIT CYPD3123-40LQXI CYPD3123-
40LQXIT CYPD3120-40LQXIT
