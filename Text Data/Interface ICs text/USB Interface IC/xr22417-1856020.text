                                                                                                            XR22417
                                                                                              USB 2.0 7-Port Hub
Description
                                                                                FEATURES
The XR22417 is a USB 2.0 7-port hub using Multiple Transaction                  ■■ USB 2.0 compliant interface
Translators (MTT) for highest possible bandwidth capability.                    ■■ Multiple transaction translators (MTT)
The upstream USB interface has an integrated USB 2.0 PHY                        ■■ Regulated +3.3V output power
                                                                                ■■ Individual port and hub activity
and device controller that is compliant with both hi-speed (480
Mbps) and full-speed (12 Mbps). The downstream PHY supports                        LED indicators
                                                                                ■■ Individual power enables (LQFP-64)
hi-speed, full-speed and low-speed (1.5 Mbps) on each of the 7                  ■■ Individual overcurrent sensing (LQFP-64)
downstream ports. Individual port activity and overall hub activity             ■■ Single 5V power input
indicators provide status outputs to control external LEDs for                  ■■ Single 12 MHz Crystal
each port. An external EEPROM may be used with the
XR22417 to change selected USB descriptors including the                        APPLICATIONS
                                                                                ■■ USB port expansion
USB vendor and product IDs, the number of downstream ports
                                                                                ■■ Docking stations
and device serial number. Overcurrent protection and power
                                                                                ■■ POS terminals
control for each downstream port is available in the LQFP-64
                                                                                ■■ Test instrumentation
package. The XR22417 operates from a single 5V power input.                     ■■ Factory automation and process controls
Internal regulators provide a 3.3V output which may be connected to             ■■ Industrial applications
VCC33 power input pins. In turn a second internal regulator provides
a 1.8V output from the 3.3V input. This 1.8V output may be connected
to VCC18 power input pins.
Typical Application
                                                         USB Host
                                                       Upstream Phy
                                     XR22417
                                                      Hub Controller
                                                            MTT
                                                        Port Routing
                                                    Downstream Phy x7
                                     Device #1    Device #2         ...      Device #7
                                               Figure 1. Typical Application
                                                           REV1A                                                           1/17


                                                                                                                                            XR22417
Absolute Maximum Ratings                                                          Operating Conditions
Stresses beyond the limits listed below may cause                                 Operating temperature range............................ 0°C to 70°C
permanent damage to the device. Exposure to any Absolute                          VCC5 supply voltage.........................................4.4V to 5.5V
Maximum Rating condition for extended periods may affect
device reliability and lifetime.                                                  VCC33 supply voltage.......................................3.0V to 3.6V
VCC5 supply voltage....................................... -0.5V to 6.0V          VCC18 supply voltage...................................1.62V to 1.98V
VCC33 supply voltage..................................... -0.5V to 4.0V
VCC18 supply voltage..................................... -0.5V to 2.5V
Input voltage
(all pins except USBD+, USBD–).................... -0.3V to 4.0V
Input voltage (USBD+ and USBD–).............. -0.3V to 5.75V
Junction temperature.................................................. 125°C
Electrical Characteristics
Unless otherwise noted: TA = 0°C to 70°C, VCC5 = 4.4V to 5.5V.
                                                     Conditions
 Symbol                                                                                                  Min            Typ           Max         Units
              Upstream                 Number of Active                        Downstream Ports
             Port Speed               Downstream Ports                             Device Speed
 Power Consumption DC Supply Current
                                              Suspend                                                                   0.6            2.5         mA
                                                None                                                                     53                        mA
                                                                                    1x Full Speed                        63                        mA
                                                   1
                                                                                   1x High Speed                         71                        mA
              High Speed                                                            2x Full Speed                        67                        mA
                                                   2                       1x Full Speed, 1x High Speed                  76                        mA
    ICC                                                                            2x High Speed                         87                        mA
                                                                                    7x Full Speed                        71                        mA
                                                   7
                                                                                   7x High Speed                        167                        mA
                                              Suspend                                                                   0.6            2.5         mA
                                                None                                                                     38                        mA
              Full Speed
                                                   1                                1x Full Speed                        45                        mA
                                                   7                                7x Full Speed                        78                        mA
                                                                            REV1A                                                                      2/17


                                                                                                                                                                                              XR22417
Electrical Characteristics (Continued)
Unless otherwise noted: TA = 0°C to 70°C, VCC5 = 4.4V to 5.5V.
 Symbol            Parameter                                                                          Conditions                                                                 Min    Typ   Max           Units
 Non-USB I/O Pins
 VIL               Input low voltage                                                                                                                                             -0.3          0.8               V
 VIH               Input high voltage                                                                                                                                            2.0           5.5               V
 VOL               Output low voltage                                                                 IOL = 4 mA                                                                               0.4               V
 VOH               Output high voltage                                                                IOL = -4 mA                                                                2.4                             V
 IIL               Input low leakage current                                                                                                                                                   ±10               μA
 IIH               Input high leakage current                                                                                                                                                  ±10               μA
 CIN               Input pin capacitance                                                                                                                                                           5             pF
 USB I/O Pins(1)
 3.3V Regulated Power Output
 3V3_OUT           Output voltage                                                                     Max load current 100 mA                                                    3.0    3.3    3.6               V
NOTE:
1. See USB 2.0 Specification for USB I/O pins DC Electrical Characteristics.
Pin Configuration, Top View
                                                                                   VBUS_SENSE
                                                                                                                                                                    LED6
                                                                                                                                                                    LED7
                                                                                                                                                                    OVC2#
                                                                                                                                                                    PWR2#
                                                                                                EXT_RST#
                                                                                                                                                                    OVC1#
                                                                                                                                                                    PWR1#
                                                                                                                                                                    OVC5#
                                                                                                                                                                    PWR5#
                                                TEST1#   TEST2#   TEST3#
                                                                                                                                                                    VCC33
                                                                           VCC33
                                                                                                                                                                    OVC6#
                                                                                                                                                                    PWR6#
                          LED5   LED6   LED7
                                                                                                                                                                    OVC7#
                                                                                                           GND                DM7
                                                                                                                                                                    PWR7#
                                                                                                                    DP7
                                                                                                                                                                    VBUS_SENSE
                                                                                                                                                                    EXT_RST#
                                                                                                                                                                    GND
                                                                                                                                                                    64
                                                                                                                                                                    63
                                                                                                                                                                    62
                                                                                                                                                                    61
                                                                                                                                                                    60
                                                                                                                                                                    59
                                                                                                                                                                    58
                                                                                                                                                                    57
                                                                                                                                                                    56
                                                                                                                                                                    55
                                                                                                                                                                                              48
                                                                                                                                                                    54
                                                                                                                                                                    53
                                                                                                                                                                    1                                  DP7
                                                                                                                                                                    52
                                                                                                                                                                    51
                                                                                                                                                            LED5
                                                                                                                                                                    50
                                                                                                                                                                    49
                          48     47      46     45       44       43       42       41           40         39       38       37
        LED_CTL       1                                                                                                         36   VCC33               LED_CTL    2                         47       DM7
                                                                                                                                                       TEST#/SDA    3                         46       VCC33
       TEST#/SDA      2                                                                                                         35   DP6
                                                                                                                                                        LED1/SCL    4                         45       DP6
        LED1SCL       3                                                                                                         34   DM6
                                                                                                                                                            LED2    5                         44       DM6
            LED2      4                                                                                                         33   DP5                    LED3    6                         43       GND
            LED3      5                                                                                                         32   DM5                   VCC18    7                         42       DP5
           VCC18      6                                                                                                         31   VCC33                  LED4    8                         41       DM5
                                                                                                                                                            VCC5    9                         40       VCC33
            LED4      7                                                                                                         30   UP_DP
                                                                                                                                                         3V3_OUT   10                         39       UP_DP
            VCC5      8                                                                                                         29   UP_DM                                                    38
                                                                                                                                                             GND   11                                  UP_DM
        3V3_OUT       9                                                                                                         28   VCC18                 PWR3#   12                         37       GND
            GND      10                                                                                                         27   REXT                  OVC3#   13                         36       VCC18
            DM4      11                                                                                                         26   VCC33                 PWR4#   14                         35       REXT
                                                                                                                                                           OVC#4   15                         34       VCC33
             DP4     12                                                                                                         25   1V8_OUT
                          13     14     15      16       17       18       19      20           21         22       23        24                           VCC33   16
                                                                                                                                                                    17
                                                                                                                                                                    18
                                                                                                                                                                    19
                                                                                                                                                                    20
                                                                                                                                                                    21
                                                                                                                                                                    22
                                                                                                                                                                    23                        33       1V8_OUT
                                                                                                                                                                    24
                                                                                                                                                                    25
                                                                                                                                                                    26
                                                                                                                                                                    27
                                                                                                                                                                    28
                                                                                                                                                                    29
                                                                                                                                                                    30
                                                                                                                                                                    31
                                                                                                                                                                    32
                          DM3    DP3
                                        VCC33
                                                DM2      DP2      DM1      DP1
                                                                                   VCC33        VCC18      XTALIN
                                                                                                                    XTALOUT
                                                                                                                              GND
                                                                                                                                                                            DM4
                                                                                                                                                                            DP4
                                                                                                                                                                            GND
                                                                                                                                                                            DM3
                                                                                                                                                                            DP3
                                                                                                                                                                          VCC33
                                                                                                                                                                            DM2
                                                                                                                                                                            DP2
                                                                                                                                                                            GND
                                                                                                                                                                            DM1
                                                                                                                                                                            DP1
                                                                                                                                                                          VCC33
                                                                                                                                                                          VCC18
                                                                                                                                                                          XTALIN
                                                                                                                                                                        XTALOUT
                                                                                                                                                                            GND
                                                48-Pin LQFP                                                                                                               64-Pin LQFP
                                                                                                                                               REV1A                                                              3/17


                                                                                                                                              XR22417
Pin Functions
   LQFP-48             LQFP-64
                                          Pin Name         Type     Description
 Pin Number          Pin Number
        48                  1                 LED5            O     Port 5 LED indicator. May be used in conjunction with LED_CTL pin.
         1                  2              LED_CTL            O     LED hub active indicator. May be used in conjunction with port status LEDs.
                                                                    Test mode enable. Active low and I2C serial data. Leave unconnected for normal device
         2                  3             TEST#/SDA       I/O OD
                                                                    operation if no external EEPROM is used.
         3                  4              LED1/SCL       I/O OD    Port 1 LED indicator and I2C serial clock. May be used in conjunction with LED_CTL pin.
         4                  5                 LED2            O     Port 2 LED indicator. May be used in conjunction with LED_CTL pin.
         5                  6                 LED3            O     Port 3 LED indicator. May be used in conjunction with LED_CTL pin.
         6                  7                VCC18         PWR      1.8V power input.
         7                  8                 LED4            O     Port 4 LED indicator. May be used in conjunction with LED_CTL pin.
         8                  9                VCC5          PWR      5V power input.
                                                                    3.3V power output from internal 5V to 3.3V regulator. Must be decoupled with minimum
         9                 10              3V3_OUT         PWR
                                                                    of 10 µF.
        10                 11                 GND          PWR      Ground.
                                                                    Power enable for port 3 downstream device, active low. Asserted if OVC3# input is
         -                 12               PWR3#            OD
                                                                    asserted or device is not configured.
         -                 13                OVC3#             I    Downstream port 3 over current indicator, active low.
                                                                    Power enable for port 4 downstream device, active low. Asserted if OVC4# input is
         -                 14               PWR4#            OD
                                                                    asserted or device is not configured.
         -                 15                OVC4#             I    Downstream port 4 overcurrent indicator, active low.
        15                 16                VCC33         PWR      3.3V power input.
        11                 17                 DM4            I/O    Downstream port 4 USBD- data.
        12                 18                  DP4           I/O    Downstream port 4 USBD+ data.
         -                 19                 GND          PWR      Ground.
        13                 20                 DM3            I/O    Downstream port 3 USBD- data.
        14                 21                  DP3           I/O    Downstream port 3 USBD+ data.
         -                 22                VCC33         PWR      3.3V power input.
        16                 23                 DM2            I/O    Downstream port 2 USBD- data.
        17                 24                  DP2           I/O    Downstream port 2 USBD+ data.
         -                 25                 GND          PWR      Ground.
        18                 26                 DM1            I/O    Downstream port 1 USBD- data.
        19                 27                  DP1           I/O    Downstream port 1 USBD+ data.
        20                 28                VCC33         PWR      3.3V power input.
        21                 29                VCC18         PWR      1.8V power input.
        22                 30               XTALIN             I    12 MHz ± 50 ppm crystal input with load capacitance rating of 16-20 pF.
        23                 31              XTALOUT            O     12 MHz crystal feedback output.
NOTE:
Type: I = Input, O = Output, I/O = Input/Output, PWR = Power, OD = Open-Drain.
                                                                               REV1A                                                                    4/17


                                                                                                                                             XR22417
Pin Functions (Continued)
   LQFP-48             LQFP-64
                                          Pin Name         Type     Description
 Pin Number          Pin Number
        24                 32                 GND          PWR      Ground.
                                                                    1.8V power output from internal 3.3V to 1.8V regulator. Must be decoupled with minimum
        25                 33              1V8_OUT         PWR
                                                                    of 10 µF.
        26                 34                VCC33         PWR      3.3V power input.
        27                 35                REXT              I    External bias resistor. Connect 2.7kΩ 1% resistor from this pin to GND.
        28                 36                VCC18         PWR      1.8V power input.
         -                 37                 GND          PWR      Ground.
        29                 38               UP_DM            I/O    Upstream port USBD- data.
        30                 39                UP_DP           I/O    Upstream port USBD+ data.
        31                 40                VCC33         PWR      3.3V power input.
        32                 41                 DM5            I/O    Downstream port 5 USBD- data.
        33                 42                 DP5            I/O    Downstream port 5 USBD+ data.
         -                 43                 GND          PWR      Ground.
        34                 44                 DM6            I/O    Downstream port 6 USBD- data.
        35                 45                 DP6            I/O    Downstream port 6 USBD+ data.
        36                 46                VCC33         PWR      3.3V power input.
        37                 47                 DM7            I/O    Downstream port 7 USBD- data.
        38                 48                 DP7            I/O    Downstream port 7 USBD+ data.
        39                 49                 GND          PWR      Ground.
                                                                    External reset input, active low. Must be asserted for a minimum of 10 µS. This pin
        40                 50             EXT_RST#             I
                                                                    requires an external pull-up resistor to 3.3V.
                                                                    Active high, indicates connection to USB host. Must connect to VBUS power input from
        41                 51            VBUS_SENSE            I    USB host through a series 10kΩ resistor. A 100kΩ pull-down resistor and 100nF shunt
                                                                    capacitance are also required on this pin.
                                                                    Power enable for port 7 downstream device, active low. Asserted if OVC7# input is
         -                 52               PWR7#            OD
                                                                    asserted or device is not configured.
         -                 53                OVC7#             I    Downstream port 7 over current indicator, active low.
                                                                    Power enable for port 6 downstream device, active low. Asserted if OVC6# input is
         -                 54               PWR6#            OD
                                                                    asserted or device is not configured.
         -                 55                OVC6#             I    Downstream port 7 over current indicator, active low.
        42                 56                VCC33         PWR      3.3V power input.
                                                                    Power enable for port 5 downstream device. Asserted if OVC5# input is asserted or
         -                 57               PWR5#            OD
                                                                    device is not configured.
NOTE:
Type: I = Input, O = Output, I/O = Input/Output, PWR = Power, OD = Open-Drain.
                                                                               REV1A                                                                    5/17


                                                                                                                                           XR22417
Pin Functions (Continued)
   LQFP-48             LQFP-64
                                          Pin Name         Type     Description
 Pin Number          Pin Number
         -                 58                OVC5#            I     Downstream port 5 over current indicator, active low.
                                                                    Power enable for port 1 downstream device. Asserted if OVC1# input is asserted or
         -                 59               PWR1#            OD
                                                                    device is not configured.
         -                 60                OVC1#            I     Downstream port 1 over current indicator, active low.
         -                 61               PWR2#            OD     Power enable for port 2 downstream device, active low.
         -                 62                OVC2#            I     Downstream port 2 over current indicator, active low.
        43                   -              TEST1#            I     Test input. Use pull-up resistor to 3.3V for normal operation.
        44                   -              TEST2#            O     Test output. Leave unconnected.
        45                   -              TEST3#            I     Test input. Use pull-up resistor to 3.3V for normal operation.
        46                 63                 LED7            O     Port 7 LED Indicator. May be used in conjunction with LED_CTL pin.
        47                 64                 LED6            O     Port 6 LED Indicator. May be used in conjunction with LED_CTL pin.
NOTE:
Type: I = Input, O = Output, I/O = Input/Output, PWR = Power, OD = Open-Drain.
                                                                               REV1A                                                                  6/17


                                                                                               XR22417
Functional Block Diagram
                            XR22417                  USB Host
                                                   Upstream Phy
                                             Upstream Port Controller
                    Port         LED                                        Hub         Hub
                 Indicators   Controller                                 Controller   Activity
                                                                                     Indicator
                     12        Oscillator                    5V to 3.3V 3.3V to 1.8V
                    MHz                                      Regulator   Regulator
                               PLL (x40)         480
                                                MHz
               Overcurrent                                                             Power
                                            Downstream Port Controller                Control
                Detection
                                                Port Routing Switch
                                 TT #1         TT #2            ...        TT #7
                             Downstream     Downstream           ...    Downstream
                                Phy #1         Phy #2                      Phy #7
                               Device #1     Device #2           ...     Device #7
                                     Figure 2. Functional Block Diagram
                                                      REV1A                                         7/17


                                                                                                                  XR22417
Applications Information
Functional Description
The XR22417 hub has a multiple transaction translator architecture that provides one Transaction Translator (TT)
for each of the downstream USB ports. The transaction translators allow the USB 2.0 hub to take incoming high speed
packets from the USB host on the upstream port and translate these commands, if necessary to full or low speed devices
on any of the 7 downstream ports. The MTT architecture allows for higher bandwidth as the 7 individual ports are not
constrained by a shared resource.
USB Interface
The hub function of the XR22417 supports one configuration and supports all USB endpoints:
    ■■ Control endpoint
    ■■ Interrupt-in and interrupt-out endpoints
    ■■ Bulk-in and bulk-out endpoints
    ■■ Isochronous-in  and isochronous-out endpoints
The XR22417 may be placed into a low power or suspended state by the USB host. The XR22417 hub may only be utilized
in self-powered mode. Each of the downstream ports may draw up to 500mA.
Operating the XR22417 in bus powered mode violates the USB specification, as the device reports as self-powered in
USB descriptors. A bus powered hub must provide 100mA on each downstream port but a 7-port hub cannot since it can
only draw 500mA maximum from the USB host.
USB Vendor ID
Exar’s USB vendor ID is 0x04E2.
USB Product ID
Exar’s USB hub product ID is 0x0417.
Device Reset
The XR22417 has both an automatic power-up reset and an external hardware pin reset. Strapping options selected by
tying pins to logic ‘0’ or logic ‘1’ states are sampled at either reset and the resulting hardware configuration selected by the
strapping is then set. Refer to Tables 2 and Table 3.
                                                                REV1A                                                       8/17


                                                                                                                                   XR22417
Applications Information (Continued)
External EEPROM
An external I2C EEPROM may be used with the XR22417 to configure USB device descriptors, the number of
downstream ports, a device serial number, and downstream non-removable devices. The contents of the EEPROM are
described in Table 1. In order for contents of the EEPROM to be used by the XR22417, both the EEPROM check values at
address 0x00, 0x01 and the checksum at address 0x1F must be correct. If either field is incorrect, the EEPROM contents
will be ignored and the device will use the default descriptor values. Note that using the EEPROM requires the use of
serial numbers. By USB specification, if the hub is serialized, each individual device must be guaranteed to have a unique
serial number.
                                                   Table 1: EEPROM Contents
        Address               Content          Description
          0x00                 0x40            EEPROM check value.
          0x01                 0x1A            EEPROM check value.
          0x02            Vendor ID, LSB       idVendor field LSB of device descriptor.
          0x03            Vendor ID, MSB       idVendor field MSB of device descriptor.
          0x04            Product ID, LSB      idProduct field LSB of device descriptor.
          0x05            Product ID, MSB      idProduct field MSB of device descriptor.
          0x06          Device Release, LSB    bcdDevice field LSB of device descriptor in binary coded decimal format.
          0x07         Device Release, MSB     bcdDevice field MSB of device descriptor in binary coded decimal format.
                                               ASCII alpha-numeric serial number with maximum length 16 characters. First character of
       0x08 to 0x17    Device Serial Number
                                               serial number string in location 0x08.
          0x18         Serial Number Length    Length of device serial number.
          0x19                 0x00            Reserved.
                                               Number of downstream ports in the bNbrPorts field of the hub descriptor. EEPROM value
          0x1A           Downstream Ports
                                               will take precedence over any strapping options from Table 2 and Table 3.
          0x1B                 0x00            Reserved.
                                               Device removable field of hub descriptor. Bit n = ‘0’ indicates a removable device, or bit n =
          0x1C           Device Removable      ‘1’ indicates a non-removable device for port n, (n = port 1 - 7). Bit 0 is reserved. EEPROM
                                               value will take precedence over any strapping options from Table 2 and Table 3.
          0x1D                 0x00            Reserved.
                                               Bit 0: port indicators support, bit 7 of wHubCharacteristics field of hub descriptor - 0: port
                                               indicators are not supported on its downstream facing ports and PORT_ INDICATOR
                                               request has no effect. 1: port indicators are supported on its downstream facing ports and
                                               PORT _INDICATOR request controls the indicators.
                                               Bit 1: identifies a compound device, bit 2 of wHubCharacteristics field of hub descriptor - 0:
          0x1E            Device Attributes
                                               hub is not part of a compound device. 1: hub is part of a compound device.
                                               Bit 2: maximum current requirements of the hub controller electronics, bHubContrCurrent
                                               field of hub descriptor - 0: 200 mA. 1: 500 mA.
                                               Bit 3 to 7, reserved, must be 0’s.
          0x1F               Checksum          Bitwise checksum of EEPROM values from address 0x00 to 0x1E.
                                                                   REV1A                                                                      9/17


                                                                                                                XR22417
Applications Information (Continued)
Configurations for Reduced Downstream Ports
The number of usable downstream ports of the XR22417 may be configured using an external EEPROM. Additionally,
the number of usable downstream ports may be reduced from 7 down to a minimum of 4 by strapping options on the device,
shown in Table 2. Both the EEPROM values and the strapping options will change the bNbrPorts field of the hub descriptor
reported to the USB host. LED pins for unusable downstream ports are disabled.
                           Table 2: Strapping Options for Reducing Usable Downstream Ports
                                  Usable Downstream Ports                LED7                LED6
                                               4, 3, 2, 1               Logic ‘0’           Logic ‘0’
                                             5, 4, 3, 2, 1              Normal              Logic ‘0’
                                            6, 5, 4, 3, 2, 1            Logic ‘0’           Normal
                                          7, 6, 5, 4, 3, 2, 1           Normal              Normal
Configurations for Non-Removable Devices
Non-removable devices are reported in the device removable field of the hub descriptor. They can be identified by
strapping options. LED pins for non-removable downstream ports are disabled.
                      Table 3: Strapping Options for Configuring Non-Removable Downstream Ports
                     Non-Removable Downstream Ports            LED4                LED3                LED2
                                    None                       Normal             Normal              Normal
                                       2                       Normal             Normal              Logic ‘0’
                                     3, 2                      Normal             Logic ‘0’           Normal
                                    3, 2, 1                    Normal             Logic ‘0’           Logic ‘0’
                                  4, 3, 2, 1                  Logic ‘0’           Normal              Normal
                                 5, 4, 3, 2, 1                Logic ‘0’           Normal              Logic ‘0’
                               6, 5, 4, 3, 2, 1               Logic ‘0’           Logic ‘0’           Normal
                              7, 6, 5, 4, 3, 2, 1             Logic ‘0’           Logic ‘0’           Logic ‘0’
                                                              REV1A                                                  10/17


                                                                                                             XR22417
Applications Information (Continued)
Port Status Indicators
Seven port indicator (LED1 - LED7) pins, provide status of downstream devices. Ports using LED indicators may configure
status LEDs in a number of configurations in conjunction with the LED_CTL pin. Per the USB 2.0 spec, amber and green
LEDs are used to indicate port status automatically controlled by the USB hub. When the hub is suspended or not yet
configured the LEDs must be off, solid green indicates normal operation, and amber or flashing green and/or amber indicate
various error conditions as defined in the specification. The TEST#/SDA and LED1/SCL pins may also be connected to an
external EEPROM.
                                                                                             A2
                                        TEST#/SDA                               SDA EEPROM
                                                                                             A1
                                                                                SCL
                                                                                             A0
                                                     Green
                                          LED1/SCL
                                                        Amber
                                                                                       Green
                                              LED2
                                                                                          Amber
                                                     Green
                                              LED3
                                                        Amber
                                                                                       Green
                                  XR22417     LED4
                                                                                          Amber
                                                     Green
                                              LED5
                                                        Amber
                                                                                       Green
                                              LED6
                                                                                          Amber
                                                     Green
                                              LED7
                                                        Amber
                                           LED_CTL
                                                       470
                                                                  Hub active
                                                              indicator (optional)
                                                       Red
                                            Figure 3. Port and Hub Status Indicators
                                                               REV1A                                                 11/17


                                                                                                           XR22417
Applications Information (Continued)
In the following example, LED3 is tied to logic ‘0’ indicating that port 2 and 3 are connected to non-removable devices.
LED6 is also connected to logic ‘0’ indicating there are 5 usable ports, ports 1-5. LED2 and LED7 are unneeded and
left floating. Ports 1, 4 and 5 may be used for removable devices.
                                                                                              A2
                                         TEST#/SDA                               SDA EEPROM
                                                                                              A1
                                                                                 SCL
                                                                                              A0
                                                      Green
                                           LED1/SCL
                                                         Amber
                                               LED2
                                               LED3
                                                      Green
                                   XR22417     LED4
                                                         Amber
                                                                                        Green
                                               LED5
                                                                                           Amber
                                               LED6
                                               LED7
                                            LED_CTL
                                                        470
                                                                   Hub active
                                                               indicator (optional)
                                                        Red
                                                 Figure 4. Port Indicators Example
                                                                REV1A                                              12/17


                                                                                                                                         XR22417
Applications Information (Continued)
Power Control and Overcurrent Protection
In the LQFP-64 package, the XR22417 OVCn# pins monitor overcurrent conditions for each port and individual PWRn#
pins enable power to devices connected to each downstream port. Figure 5 depicts downstream ports 1-4 using individual
power and overcurrent protection.
NOTE:
Ports 5-7 are unused in this example. If used can duplicate the monitor and control using the XRP2528.
                                                       3.3V                                                         5V
                                   OVC1#                                                        ENA            OUTA    To VBUS of Port 1
                                   OVC2#                                                        FLGA             IN
                                   OVC3#                                                        FLGB   XRP2528 GND
                                   OVC4#                                                        ENB            OUTB    To VBUS of Port 2
                                   OVC5#                                                        RSETA         RSETB
                                   OVC6#
                                   OVC7#
                                                                                                ENA            OUTA    To VBUS of Port 3
                                                                                                FLGA             IN
                            XR22417
                                                                                                FLGB   XRP2528 GND
                                  PWR1#                                                         ENB            OUTB    To VBUS of Port 4
                                  PWR2#                                                         RSETA         RSETB
                                  PWR3#
                                  PWR4#
                                  PWR5#
                                  PWR6#
                                  PWR7#
                                        Figure 5. LQFP-64 Individual Power Control and Overcurrent Mode
USB Hub Drivers
All operating systems provide a native USB hub device driver for the XR22417 device to operate. No other device drivers
are necessary for the XR22417.
Regulated 3.3V Power Output
The XR22417 internal voltage regulator provides 3.3 VDC output power from 5V input, which can be utilized by
other circuitry. Refer to Electrical Characteristics on page 2 for maximum power capability.
                                                                                    REV1A                                                     13/17


                                                                                                       XR22417
Applications Information (Continued)
External Crystal
A 12 MHz ± 50 PPM fundamental frequency external crystal must be connected between the XTALIN and XTALOUT pins
of the XR22417 device. The crystal should have a rated load capacitance of 16-20pF. However, note that both the load
capacitors and feedback resistance are internal to the XR22417 device as shown.
                                                            Y1
                                        Figure 6. Typical Oscillator Connections
                                                          REV1A                                                 14/17


                                                                                                  XR22417
Package Description
LQFP-48
                                  TOP VIEW                                        DETAIL A
                                           SIDE VIEW
                       TERMINAL DIMENSION                        TYPICAL RECOMMENDED LAND PATTERN
                                               - Control dimensions are in Millimeters
                                               - Jedec MS 026
            Drawing No. : POD - 00000096
            Revision: A
                                                 REV1A                                                 15/17


                                                                                              XR22417
Package Description (Continued)
LQFP-64
                            TOP VIEW                                          DETAIL A
                                       SIDE VIEW
                 TERMINAL DIMENSION                          TYPICAL RECOMMENDED LAND PATTERN
                                           1. Control dimensions are in Millimeters
          Drawing No. : POD - 00000092     2. Dimensions and tolerance per Jedec MS-026
          Revision: A
                                                REV1A                                              16/17


                                                                                                                                                                  XR22417
Ordering Information(1)
  Part Number                         Operating Temperature Range                               Lead-Free                         Package                 Packaging Method
  XR22417CV48-F                                                                                                                                                      Tray
                                                                                                                               48-pin LQFP
  XR22417CV48TR-F                                  0°C to 70°C                                      Yes (2)
                                                                                                                                                                     Reel
  XR22417CV64-F                                                                                                                64-pin LQFP                           Tray
  XR22417CV48EVB                    Evaluation board for LQFP-48
  XR22417CV64EVB                    Evaluation board for LQFP-64
NOTE:
1. Refer to www.exar.com/XR22417 for most up-to-date Ordering Information.
2. Visit www.exar.com for additional information on Environmental Rating.
Revision History
            Revision                           Date                   Description
               1A                           Aug 2016                  Initial Release
                                                                                                                                                       www.exar.com
                                                                                                                        48760 Kato Road                       Tel.: +1 (510) 668-7000
                                                                                                                        Fremont, CA 94538                     Fax: +1 (510) 668-7001
                                                                                                                        USA                       Email: uarttechsupport@exar.com
Exar Corporation reserves the right to make changes to the products contained in this publication in order to improve design, performance or reliability. Exar Corporation conveys
no license under any patent or other right and makes no representation that the circuits are free of patent infringement. While the information in this publication has been
carefully checked, no responsibility, however, is assumed for inaccuracies.
Exar Corporation does not recommend the use of any of its products in life support applications where the failure or malfunction of the product can reasonably be expected
to cause failure of the life support system or to significantly affect its safety or effectiveness. Products are not authorized for use in such applications unless Exar Corporation
receives, in writing, assurances to its satisfaction that: (a) the risk of injury or damage has been minimized; (b) the user assumes all such risks; (c) potential liability of
Exar Corporation is adequately protected under the circumstances.
Reproduction, in part or whole, without the prior written consent of Exar Corporation is prohibited. Exar, XR and the XR logo are registered trademarks of Exar Corporation.
All other trademarks are the property of their respective owners.
©2016 Exar Corporation
XR22417_DS_082916                                                                         REV1A                                                                                17/17


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 XR22417CV48TR-F XR22417CV64-F
