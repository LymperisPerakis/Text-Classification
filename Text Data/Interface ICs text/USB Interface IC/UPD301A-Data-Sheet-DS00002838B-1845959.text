                                                                   UPD301A
          Stand-alone USB Type-C™ Power Delivery 3.0 Controller
Highlights                                           • Integrated Analog Discrete Components
                                                       - VCONN FETs with Rp/Rd Switching
• Single-chip USB Type-C™ (1) Power Delivery
  Solution for Stand-alone Source-only                 - Programmable Current Sense for
                                                          Overcurrent Conditions
• Preprogrammed Power Delivery Firmware
                                                       - Voltage Sense for Overvoltage Conditions
• Supports Standard Power Delivery
  Power Profiles (15/27/45/60W)                      • USB Power Delivery MAC
• USB Power Delivery 3.0 Compliant MAC                 - Compliant with USB Power Delivery
                                                          Specification Revision 3.0
• USB Type-C™ Connector Support with
  Connection Detection and Control                     - Power Delivery Packet Framing
• Integrated Analog Discrete Components Reduce         - CRC Checking/Generation
  Bill of Materials and Design Footprint               - 4B/5B Encoding/Decoding
• Easily Supports 2nd Port via UPD350 Add-on           - BMC Encoding/Decoding
• Commercial, Industrial, and Automotive               - EOP/SOP Generation for PD Frames
  Temperature Support                                  - SOP Detection and SOP Header Processing
                                                       - Separate RX/TX FIFOs
Target Applications                                    - Automatic GoodCRC Message Generation
• Point-of-Sale Terminals                              - Automatic Retry Generation
• Charging Lockers                                     - Error Handling
• IoT Products and Sensors                             - Low Standby Power Support
• Smart Speakers and Monitors                        • USB Type-C Cable Detect Logic
• Conference Systems                                   - Auto Cable Attach & Orientation Detection
• Power Tools                                          - Routes Baseband Communication to
                                                          Respective CC Pin per Detected Orientation
• Multi-port Charging Docks
                                                       - VCONN Supply Control for Active Cable
• Automotive Rear Seat Charging Ports
                                                       - Strappable Downstream Facing Port (DFP)
                                                          Modes
Key Benefits
                                                       - Charging Current Capability Detection
• Preprogrammed Power Delivery Firmware              • Package
  - Supports Standard Power Delivery                   - 40-VQFN (6.0mm x 6.0mm)
     Power Profiles (15/27/45/60W)
                                                     • Environmental
  - No Custom Firmware Development Required
                                                       - Commercial Temperature Range
• Multiple Stand-alone Configurations via Pin Straps      (0°C to +70°C)
  - Power Delivery Power Profile Selection             - Industrial / AEC-Q100 Automotive Grade 3
• Optional Two Port Solution via External UPD350          Temperature Range (-40°C to +85°C)
  - SPI for External UPD350 Communication
  - Power Delivery Firmware Controls Both Ports
1. USB Type-C™ and USB-C™ are trademarks of
   USB Implementers Forum.
 2018-2019 Microchip Technology Inc.                                                 DS00002838B-page 1


UPD301A
                                            TO OUR VALUED CUSTOMERS
 It is our intention to provide our valued customers with the best documentation possible to ensure successful use of your Microchip
 products. To this end, we will continue to improve our publications to better suit your needs. Our publications will be refined and
 enhanced as new volumes and updates are introduced.
 If you have any questions or comments regarding this publication, please contact the Marketing Communications Department via
 E-mail at docerrors@microchip.com. We welcome your feedback.
 Most Current Documentation
 To obtain the most up-to-date version of this documentation, please register at our Worldwide Web site at:
        http://www.microchip.com
 You can determine the version of a data sheet by examining its literature number found on the bottom outside corner of any page.
 The last character of the literature number is the version number, (e.g., DS30000000A is version A of document DS30000000).
 Errata
 An errata sheet, describing minor operational differences from the data sheet and recommended workarounds, may exist for cur-
 rent devices. As device/documentation issues become known to us, we will publish an errata sheet. The errata will specify the
 revision of silicon and revision of document to which it applies.
 To determine if an errata sheet exists for a particular device, please check with one of the following:
 • Microchip’s Worldwide Web site; http://www.microchip.com
 • Your local Microchip sales office (see last page)
 When contacting a sales office, please specify which device, revision of silicon and data sheet (include -literature number) you are
 using.
 Customer Notification System
 Register on our web site at www.microchip.com to receive the most current information on all of our products.
DS00002838B-page 2                                                                              2018-2019 Microchip Technology Inc.


                                                                                                                                                          UPD301A
Table of Contents
1.0 Preface ............................................................................................................................................................................................ 4
2.0 Introduction ..................................................................................................................................................................................... 7
3.0 Pin Descriptions and Configuration ................................................................................................................................................. 9
4.0 Functional Descriptions ................................................................................................................................................................. 16
5.0 Operational Characteristics ........................................................................................................................................................... 25
6.0 Package Information ..................................................................................................................................................................... 32
Appendix A: Data Sheet Revision History ........................................................................................................................................... 36
The Microchip Web Site ...................................................................................................................................................................... 37
Customer Change Notification Service ............................................................................................................................................... 37
Customer Support ............................................................................................................................................................................... 37
Product Identification System ............................................................................................................................................................. 38
 2018-2019 Microchip Technology Inc.                                                                                                                                  DS00002838B-page 3


UPD301A
1.0      PREFACE
1.1      Glossary of Terms
TABLE 1-1:      GLOSSARY OF TERMS
        Term                                                   Definition
 ADC               Analog to Digital Converter
 AFE               Analog Front End
 BCI               Baseband CC Interface
 Billboard         USB Billboard Device. A required USB device class for UFPs which support Alternate Modes
                   in order to provide product information to the USB Host.
 BIST              Built-In Self Test
 BMC               Bi-phase Mark Coding
 Byte              8-bits
 CC                Generic reference to USB Type-C™ Cable / Connector CC1/CC2 pins
 CSR               Control and Status Register
 DFP               Downstream Facing Port (USB Type-C™ Specification definition)
 DP                DisplayPort (a VESA standard interface)
 DPM               Device Policy Manager (PD Specification definition)
 DWORD             32-bits
 EC                Embedded Controller
 EP                USB Endpoint
 ESD               Electro-Static Discharge
 FIFO              First In First Out buffer
 FW                Firmware
 FS                Full-Speed
 GPIO              General Purpose Input/Output
 Host              External system (Includes processor, application software, etc.)
 HBM               Human Body Model (Simulates ESD from humans)
 HPD               Hot-Plug Detect functionality as defined by DisplayPort and DisplayPort Alternate Mode speci-
                   fications
 HS                High-Speed
 HW                Hardware (Refers to function implemented by the device)
 IC                Integrated Circuit
 IFC               InterFrame Gap
 LDO               Linear Drop-Out regulator
 MAC               Media Access Controller
 Microchip         Microchip Technology Incorporated
 N/A               Not Applicable
 NC                No Connect (pin)
 OCS               Over-Current Sense
 PCS               Physical Coding Sublayer
 PD / UPD          USB Power Delivery
 PDO               Power Delivery Object (USB PD Specification definition)
                   PDOs enable the port to indicate its Port Partner supported combinations of Voltage/Current or
                   Power as well as the type of supply (Fixed, Variable, Battery) in Source Role or Sink Role.
 PDP               Power Delivery Power (USB PD Specification definition)
                   A wattage value which corresponds to a set of voltages with corresponding current values.
DS00002838B-page 4                                                              2018-2019 Microchip Technology Inc.


                                                                                            UPD301A
TABLE 1-1:        GLOSSARY OF TERMS (CONTINUED)
        Term                                                       Definition
 PIO                   General Purpose I/O
 PMIC                  Power Management Integrated Circuit
 POR                   Power-On Reset
 Port Partner          Remote port which is connected to the UPD301A’s local port
 PRBS                  Pseudo Random Binary Sequence
 QWORD                 64-bits
 SA                    Source Address
 SBU                   SideBand Use
 SCSR                  System Control and Status Register
 Source Role           USB Type-C port is sinking power from its Port Partner
 Source-only           Operation exclusively in USB Type-C / Power Delivery Source Role as defined in the USB
 Operation             Type-C and Power-Delivery specifications. In this mode of operation, USB Type-C Dual-Role
                       Power Operation is not supported and there is no support for USB Power Role Swap.
 SPI                   Serial Peripheral Interface
 SPM                   System Policy Manager (USB PD Specification definition)
 SS                    SuperSpeed
 Stand-alone Mode      Chip operation without the control or configuration by an external MCU. Policy is defined locally
                       by the UPD301A firmware. Configuration is achieved by use of configuration straps.
 SVDM                  Standard/Vendor Defined Message (USB PD Specification definition)
 SVID                  Standard/Vendor IDentity (USB PD Specification definition)
 TCPC                  USB Type-C™ Port Controller
 UFP                   Upstream Facing Port (USB Type-C™ Specification definition)
 USB                   Universal Serial Bus
 USB Power             Port is operating using USB Power Delivery protocols in conformance to the USB PD Specifi-
 Delivery Operation cation.
 USB Power             Message sequence as defined in the USB PD Specification, enabling a transition between
 Role Swap             Source Role and Sink Role during USB Power Delivery Operation
 USB Type-C™           USB Type-C™ Cable / Connector
 VDO                   Vendor-Defined Object (USB PD Specification definition)
 VSM                   Vendor Specific Messaging
 WORD                  16-bits
 ZLP                   Zero Length USB Packet
 2018-2019 Microchip Technology Inc.                                                              DS00002838B-page 5


UPD301A
1.2      Buffer Types
TABLE 1-2:         BUFFER TYPES
      Buffer Type                                                   Description
            I            Input
           IS            Schmitt-triggered input
           O2            Output with 2 mA sink and 2 mA source
          OD2            Open-drain output with 2 mA sink and 2 mA source
           O8            Output with 8 mA sink and 8 mA source
          PD             200kΩ (typical) internal pull-down.
                            Note:    Internal pull-down resistors prevent unconnected inputs from floating. Do not rely
                                     on internal resistors to drive signals external to the device. When connected to a
                                     load that must be pulled low, an external resistor must be added.
           AI            Analog input
          AO             Analog output
          AIO            Analog bidirectional
            P            Power pin
  Note:      Refer to Section 5.5, "DC Characteristics," on page 28 for the electrical characteristics of the various buf-
             fers.
1.3      References
• USB Power Delivery: https://www.usb.org/document-library/usb-power-delivery.
• USB Type-C™ Specification: ihttps://www.usb.org/document-library/usb-type-cr-cable-and-connector-specifica-
  tion-revision-14-march-29-2019
DS00002838B-page 6                                                                     2018-2019 Microchip Technology Inc.


                                                                                                UPD301A
2.0       INTRODUCTION
2.1       General Description
The UPD301A is a stand-alone, small form factor USB Type-C™ Power Delivery (PD) Port Controller designed to
adhere to the USB Type-C™ Cable and Connector Specification and USB Power Delivery 3.0 Specification. The
UPD301A provides stand-alone operation for source PD applications, enabling cable plug orientation and detection for
a USB Type-C receptacle, and implementing baseband communication with a partner USB Type-C device via the inte-
grated USB Power Delivery 3.0 MAC.
The embedded 32-bit ARM Cortex-M0+ implements a full Power Delivery firmware stack, providing a turn-key solution
for USB-C™ power-only applications, and requiring minimal customer development. Configuration is supported via pin
straps to select source functionality and PD power profiles. Optionally, a second PD port is supported via SPI connection
of an external Microchip UPD350.
Additionally, the UPD301A integrates many of the analog discrete components required for USB Type-C PD applica-
tions, including two VCONN FETs with Rp/Rd switching and current/voltage sense circuitry for over-voltage/current
detection. By integrating the PD firmware and many of the analog discrete components required for USB Type-C PD
applications, the UPD301A provides a low cost, stand-alone, fast time-to-market solution for consumer, industrial, and
automotive applications.
The UPD301A is available in commercial (0°C to +70°C) and industrial/automotive grade 3 (-40°C to +85°C) tempera-
ture ranges. For ordering information, refer to the Product Identification System on page 38.
2.2       Example Applications
The UPD301A has been designed for multiple applications, including:
• Source-Only Applications (E.G., Charging Ports)
• Two-Port Applications (E.G., Automotive Rear Seat Charging)
  Note:     Single-Port Source and Dual-Port Source modes are the only supported modes of operation.
2.2.1       SOURCE-ONLY APPLICATIONS (E.G., CHARGING PORTS)
The simplest UPD301A application is a power source (Source-Only), as shown in Figure 2-1. Using the device config-
uration straps, various PD parameters/options can be configured. The integrated DAC configures the DC-DC converter,
selecting the output voltage, and controls the load switch to regulate and protect the output voltage. The load switch can
also be replaced by discrete FETs and over-current / over-voltage protection circuits.
FIGURE 2-1:            SYSTEM BLOCK DIAGRAM - SOURCE-ONLY APPLICATION
                                  DC‐DC                                 60W Load
                     DC In
                                 Converter                             Load Switch
                                                                         Switch
                                                                                                   USB Type‐CTM Connector
                                                                                         VBUS
                                 DC_DC_SEL
                                                  Microchip                       CC1
                                 PDP_SEL0         UPD301A
                Configuration    PDP_SEL1
                       Straps
                                I2C_ADDR_SEL                                      CC2
                                 BOOT_SEL
 2018-2019 Microchip Technology Inc.                                                                           DS00002838B-page 7


UPD301A
2.2.2      TWO-PORT APPLICATIONS (E.G., AUTOMOTIVE REAR SEAT CHARGING)
Some applications, such as a automotive rear seat charging port, may need up to two USB Type-C™ power delivery
ports. These ports can be implemented by connecting a UPD301A and a UPD350 via the SPI interface, as shown in
Figure 2-2. The UPD301A will execute the stack for the UPD350. The two-port implementation supports dynamic power
allocation (e.g., go-to power min based on an external input). The integrated DAC from the UPD301A and additional
GPIOs from the UPD350 control the DC-DC converter, selecting the voltages, and control the load switch to regulate
and protect the output voltage. The load switch can also be replaced by discrete FETs and over-current / over-voltage
protection circuits.
FIGURE 2-2:           SYSTEM BLOCK DIAGRAM - TWO-PORT APPLICATION
                                 DC‐DC                               60W Load
                   DC In
                                Converter                           Load Switch
                                                                      Switch
                                                                                                  USB Type‐CTM Connector
                                                                                        V BUS
                                DC_DC_SEL
                                                Microchip                         CC1
                                 PDP_SEL0       UPD301A
              Configuration
                                 PDP_SEL1
                     Straps
                              I2C_ADDR_SEL                                        CC2
                                BOO T_SEL              M
                              DC In                    SPI
                                                        S
                                                                                                  USB Type‐CTM Connector
                                                                                  CC1
                                                Microchip                         CC2
                                                UPD350
                                                                                        V BUS
                                 DC‐DC                               60W Load
                   DC In
                                Converter                           Load Switch
                                                                      Switch
DS00002838B-page 8                                                                  2018-2019 Microchip Technology Inc.


                                                                                                                                                                          UPD301A
3.0      PIN DESCRIPTIONS AND CONFIGURATION
3.1      Pin Assignments
The device pin diagram for the UPD301A can be seen in Figure 3-1. Table 3-1 provides a UPD301A pin assignment
table. Pin descriptions are provided in Section 3.2, "Pin Descriptions".
FIGURE 3-1:            UPD301A PIN ASSIGNMENTS (TOP VIEW)
                                                                                                                                       RESET_N_COM/
                                    RESET_N_IN   PRT_CTRL/OCS
                                                                VBUS_DIS                                                               BOOT_SEL
                                                                             NC              NC               NC            NC                        NC   NC
                                    40           39             38           37               36              35            34            33          32   31
      ORIENTATION _N         1                                                                                                                                           30   SPI_IRQ_N
                     CC2     2                                                                                                                                           29   NC
             VCONN _IN       3                                                                                                                                           28   VPP18
                     CC1     4                                                                                                                                           27   I2C_ADDR_SEL
   VDD12_CORE_OUT            5                                                              Microchip                                                                    26   EN_VBUS
                                                                                            UPD301A
       VDD33_REG_IN          6
                                                                                        (Top View 40-VQFN)
                                                                                                                                                                         25   SPI_MOSI
                      NC     7                                                                                                                                           24   NC
                      NC     8                                                                                                                                           23   SPI_CLK
         VBUS_DET_IN         9                                                                                                                                           22   SPI_MISO
                                                                            Thermal slug connects to VSS
        RESET_N_OUT          10                                                                                                                                          21   VDD33_ANA_IN
                                    11           12             13           14               15              16            17            18          19   20
                                                                                                              VDD33_IO_IN
                                    SPI_SS
                                                 DAC_DC
                                                                             VDD33_ALW_IN
                                                                                                                                                      NC
                                                                DC_DC_SEL                                                                                  SPI_MOSI_SI
                                                                                                                            PDP_SEL0      PDP_SEL1
                                                                                             VDD18_CORE_OUT
                           Note: Exposed pad (VSS) on bottom of package must be connected to ground .
 2018-2019 Microchip Technology Inc.                                                                                                                                              DS00002838B-page 9


UPD301A
TABLE 3-1:      UPD301A PIN ASSIGNMENTS
    Pin                   Pin Name                     Pin                      Pin Name
      1               ORIENTATION_N                    21                   VDD33_ANA_IN
      2                      CC2                       22                      SPI_MISO
      3                  VCONN_IN                      23                       SPI_CLK
      4                      CC1                       24                          NC
      5              VDD12_CORE_OUT                    25                      SPI_MOSI
      6                VDD33_REG_IN                    26                       EN_VBUS
      7                      NC                        27                   I2C_ADDR_SEL
      8                      NC                        28                        VPP18
      9                VBUS_DET_IN                     29                          NC
    10                 RESET_N_OUT                     30                      SPI_IRQ_N
     11                    SPI_SS                      31                          NC
    12                    DAC_DC                       32                          NC
    13                  DC_DC_SEL                      33             RESET_N_CO M/BOOT_SEL
    14                VDD33_ALW_IN                     34                          NC
    15               VDD18_CORE_OUT                    35                          NC
    16                  VDD33_IO_IN                    36                          NC
    17                   PDP_SEL0                      37                          NC
    18                   PDP_SEL1                      38                      VBUS_DIS
    19                       NC                        39                   PRT_CTRL/OCS
    20                  SPI_MOSI_SI                    40                     RESET_N_IN
                            Exposed Pad (VSS) must be connected to ground.
DS00002838B-page 10                                                      2018-2019 Microchip Technology Inc.


                                                                                                  UPD301A
3.2      Pin Descriptions
This sections details the functions of the various device signals.
TABLE 3-2:        PIN DESCRIPTIONS
                                                 Buffer
      Name                   Symbol                                                      Description
                                                  Type
                                                        USB Type-C™
  Configuration               CC1                  AIO         Configuration Channel (CC) used in the discovery, configu-
    Channel 1                                                  ration and management of connections across a USB
                                                               Type-C cable.
  Configuration               CC2                  AIO         Configuration Channel (CC) used in the discovery, configu-
    Channel 2                                                  ration and management of connections across a USB
                                                               Type-C cable.
      VBUS              VBUS_DET_IN                AIO         Scaled down version of VBUS input used for VBUS detec-
    Detection                                                  tion. Tie this signal to VBUS via a resistor divider.
                                                         SPI Interface
    SPI Clock               SPI_CLK                  IS        SPI clock.
                                                               The maximum supported SPI clock frequency is 8 MHz.
    SPI Data               SPI_MISO                I/O8        SPI data master in, slave out.
   Master In /
    Slave Out
    SPI Data               SPI_MOSI                 O2         SPI data master out / slave in. This pin must be connected
  Master Out /                                                 to SPI_MOSI_SI for proper operation.
     Slave In
    SPI Data             SPI_MOSI_SI                 IS        SPI data slave in. This pin must be connected to SPI_MOSI
     Slave In                                                  for proper operation.
    SPI Chip                 SPI_SS                 O2         Active low SPI chip enable input for optional external
      Enable                                                   UPD350.
  SPI Interrupt           SPI_IRQ_N                   I        SPI interrupt indicating request for service from optional
                                                               external UPD350.
                                                        DC/DC Control
   DAC Output               DAC_DC                  AO         In the Source Role, this DAC output is used to control the
    (Source)                                                   DC/DC converter output voltage.
                                                        Miscellaneous
   VBUS Load               EN_VBUS                  O8         When asserted, closes the VBUS load switch. Only valid in
 Switch Enable                                                 the Attach.SRC state.
      VBUS                 VBUS_DIS                 O8         When asserted, enables external current sink in order to
    Discharge                                                  discharge VBUS.
 2018-2019 Microchip Technology Inc.                                                                   DS00002838B-page 11


UPD301A
TABLE 3-2:      PIN DESCRIPTIONS (CONTINUED)
                                     Buffer
     Name                Symbol                                        Description
                                      Type
  Port Control      PRT_CTRL/OCS   I/O2/OD2   When the UPD301A is in the Source Role, any external
                                              VBUS/VCONN/temperature faults may be wire-ORed on
                                              OCS to indicate a default has occurred, prompting the
                                              device’s firmware to make VBUS safe (open load switches,
                                              discharge VBUS, and enter error recovery).
                                              When the UPD301A is in the Source Role, this pin is a bi-
                                              directional signal indicating various faults to a load switch,
                                              DC/DC converter, DFP or hub. This pin is nominally config-
                                              ured as an output, sending faults to a load switch or DC/DC
                                              converter. However, if a different fault condition (e.g. over-
                                              voltage) is detected internally by the UPD301A, this pin is
                                              reconfigured as an open-drain output with an internal pull-
                                              down enabled and asserted low for a duration to allow
                                              detection by the hub’s PRT_ENx/OCSx_N input, and is
                                              then reconfigured back to an input.
                                                 Note:     For proper operation, a 100kOhm pull-up to
                                                           +3.3V should be applied to this pin externally.
     Type-C         ORIENTATION_N      O2     This signal is used to indicate which CC pin is terminated
   Orientation                                by the attached device. When asserted CC = CC1, other-
                                              wise CC=CC2.
                                                 Note:     For proper operation, a 200kOhm pull-up to
                                                           +3.3V should be applied to this pin externally.
 System Reset         RESET_N_IN         I    Active low system reset input. This reset is used for reset of
      Input                                   the UPD301A by a companion MCU.
 System Reset        RESET_N_OUT       O2     Active low system reset output. This pin must be connected
     Output                                   to RESET_N_COM for proper operation.
 System Reset        RESET_N_COM        IS    This pin must be connected to RESET_N_OUT for proper
    Common                                    operation.
  No Connect               NC            -    For proper operation, this pin must be left unconnected.
                                     Configuration Straps
 Power Delivery         PDP_SEL0      I/O2    This multi-level configuration strap is sampled after system
 Power Select 0                               reset to specify a Power Delivery Power (PDP) which
  Configuration                               defines the voltages and currents to be used by the
      Strap                                   UPD301A Power Delivery Objects (PDOs).
                                              Refer to Section 3.3, "Configuration Straps" for additional
                                              information.
 Power Delivery         PDP_SEL1      I/O2    For a two port system, this multi-level configuration strap is
 Power Select 1                               sampled after a system reset to specify a Power Delivery
  Configuration                               Power (PDP) which defines the voltages and currents to be
      Strap                                   used by the optional external UPD350 Power Delivery
                                              Objects (PDOs).
                                              Refer to Section 3.3, "Configuration Straps" for additional
                                              information.
  I2C Address        I2C_ADDR_SEL      AIO    This multi-level configuration signal is sampled after a sys-
     Select                                   tem reset to select the device’s default I2C slave address.
  Configuration
      Strap                                   Refer to Section 3.3, "Configuration Straps" for additional
                                              information.
DS00002838B-page 12                                                       2018-2019 Microchip Technology Inc.


                                                                                  UPD301A
TABLE 3-2:        PIN DESCRIPTIONS (CONTINUED)
                                      Buffer
     Name                  Symbol                                       Description
                                      Type
   Boot Select           BOOT_SEL        IS     This configuration strap is sampled after a system reset to
  Configuration                                 select between a normal boot or a boot ROM boot using a
      Strap                                     200KΩ pull-down/up resistor.
                                                0 = Boot from boot ROM
                                                1 = Normal operation
                                                Refer to Section 3.3, "Configuration Straps" for additional
                                                information.
     DC/DC              DC_DC_SEL      I/O2     This configuration strap is sampled after a system reset to
    Converter                                   select which DC/DC converter the DAC output is configured
  Configuration                                 for.
      Strap
                                                Refer to Section 3.3, "Configuration Straps" for additional
                                                information.
                                           Power/Ground
       +5V               VCONN_IN         P     +5V VCONN FET power source.
   Port Power
   Switch Input
    +3.3V I/O           VDD33_IO_IN       P     +3.3V I/O power supply input.
  Power Supply
      Input
  +3.3V Analog         VDD33_ANA_IN       P     +3.3V analog power supply input.
  Power Supply
      Input
     +3.3V             VDD33_ALW_IN       P     +3.3V always supply input.
 Always Supply                                     Note:    This pin must be connect to a 2.2 uF capacitor
      Input                                                 to ground.
     +3.3V             VDD33_REG_IN       P     +3.3V regulator power supply input.
    Regulator
  Power Supply
      Input
   +1.8V Core               VPP18         P     +1.8V core voltage power supply input.
 Voltage Power
  Supply Input
  +1.8V Digital      VDD18_CORE_OUT       P     +1.8V digital core power supply output. This signal must be
   Core Power                                   connected to a 1uF capacitor to ground for proper opera-
 Supply Output                                  tion.
     +1.2V           VDD12_CORE_OUT       P     +1.2V core power supply output. This signal must be con-
   Core Power                                   nected to a 1uF capacitor to ground for proper operation.
 Supply Output
     Ground                  VSS          P     Ground pins.
 2018-2019 Microchip Technology Inc.                                                   DS00002838B-page 13


UPD301A
3.3       Configuration Straps
Configuration straps are used during Power-On Reset (POR) or external chip reset (RESET_N) to determine the default
configuration of a particular feature. The state of the signal is latched following deassertion of the reset. Configuration
straps are identified by an underlined symbol name. This section details the various device configuration straps and
associated functions.
3.3.1        PDP_SEL0/PDP_SEL1 CONFIGURATION STRAPS
The PDP_SEL0 and PDP_SEL1 configuration straps are used to define the normative Power Delivery Object (PDO) sup-
port in the Source Role, as defined in Chapter 10 of the USB Power Delivery Specification.
In the Source Role, the Power Delivery Power (PDP) defines all of the normative PDOs returned in the USB PD
Source_Capabilities Message. These correspond to the fixed voltages and currents the Source supports.
The PDP_SEL0 input configuration strap is used to define the PDP value used to configure the UPD301A.
The PDP_SEL1 input configuration strap is used to define the PDP value used to configure the external UPD350 for the
optional UPD301A two port solution.
The PDP_SEL0 and PDP_SEL1 configuration straps are each encoded to one of five possible values determined by
external resistors. Table 3-3 indicates the PDP that each configuration corresponds to and the PDO values that should
be returned in the USB Power Delivery Source capabilities.
TABLE 3-3:         PDP_SEL RESISTOR ENCODING
      PDP_SELx Resistor Value                 PDP            PDO 1             PDO 2          PDO 3            PDO 4
 200 kΩ Pull-Down                            7.5 W         5 V@1.5 A              -              -                -
 200 kΩ Pull-Up                              15 W           5 V@3 A               -              -                -
 4.7 kΩ Pull-Down                            27 W           5 V@3 A           9 V@3 A            -                -
 4.7 kΩ Pull-Up                              45 W           5 V@3 A           9 V@3 A        15 V@3 A             -
 10 Ω Pull-Down                              60 W           5 V@3 A           9 V@3 A        15 V@3 A         20 V@3 A
3.3.2        I2C_ADDR_SEL CONFIGURATION STRAP
The I2C_ADDR_SEL configuration strap is used to define the default I2C address that the UPD301A will respond to
when operating as a companion MCU. The I2C_ADDR_SEL configuration strap is encoded to one of six possible values
determined by external resistors, as detailed in Table 3-4.
TABLE 3-4:         I2C_ADDR_SEL RESISTOR ENCODING
   I2C_ADDR_SEL Resistor Value                                          I2C Slave Address
 200 kΩ Pull-Down                                                             1111_000
 200 kΩ Pull-Up                                                               1101_000
 20 kΩ Pull-Down                                                              1101_001
 20 kΩ Pull-Up                                                                1101_010
 10 Ω Pull-Down                                                               1101_011
 10 Ω Pull-Up                                                                 1101_100
DS00002838B-page 14                                                                    2018-2019 Microchip Technology Inc.


                                                                                        UPD301A
3.3.3        BOOT_SEL CONFIGURATION STRAP
The BOOT_SEL configuration strap is used to select the UPD301A boot mode between a normal boot or a boot ROM
boot, and is implemented using a weak pull-up/pull-down of 200 kΩ, as shown in Table 3-5.
TABLE 3-5:         BOOT_SEL RESISTOR ENCODING
      BOOT_SEL Resistor Value                                               Setting
 200 kΩ Pull-Down                     Boot from boot ROM
 200 kΩ Pull-Up                       Normal operation
3.3.4        DC_DC_SEL CONFIGURATION STRAP
The DC_DC_SEL configuration strap is used to specify which DC/DC converter the DAC output is configured for.
The DC_DC_SEL configuration strap is encoded to one of three possible values determined by external resistors, as
detailed in Table 3-6.
TABLE 3-6:         DC_DC_SEL RESISTOR ENCODING
     DC_DC_SEL Resistor Value                                           DAC Output
 200 kΩ Pull-Down                     General linear DAC operation.
                                      The DAC output range is defined as:
                                      • 0V - 0V on VBUS
                                      • 2.5V = 20V on VBUS
                                      This output is linear for the range in between.
 200 kΩ Pull-Up                       Reserved for future use.
 4.7 kΩ Pull-Down                     Reserved for future use.
 2018-2019 Microchip Technology Inc.                                                      DS00002838B-page 15


UPD301A
4.0       FUNCTIONAL DESCRIPTIONS
This section provides functional descriptions of the following:
•  Serial Peripheral Interface (SPI)
•  Power States
•  Cable Plug Orientation and Detection
•  Baseband CC Interface (BCI)
•  Power Delivery MAC
•  Supported Power Delivery (PD) Functionality
4.1       Serial Peripheral Interface (SPI)
The UPD301A integrates a SPI master/slave controller which includes the following features:
• • Full-duplex, four-wire interface (SPI_MISO, SPI_MOSI, SPI_SCK, SPI_SS)
• • Single-buffered transmitter, double-buffered receiver
• • Master operation:
   - – Serial clock speed, fSCK=1/tSCK(Note 4-1)
   - – 8-bit clock generator
• • Slave operation:
   - – Serial clock speed, fSCK=1/tSSCK(Note 4-1)
   - – Optional 8-bit address match operation
   Note 4-1      For tSCK and tSSCK values, refer to Section 5.6.2, "SPI Timing"
The SPI is a high-speed synchronous data transfer interface which allows high-speed communication between the
device and peripheral devices. The SPI can operate as a master or slave. As a master, the SPI initiates and controls all
data transactions. The SPI is single buffered for transmitting and double buffered for receiving.
When transmitting data, a Data register is loaded with the next character to be transmitted during the current transmis-
sion. When receiving, the data is transferred to the two-level receive buffer, and the receiver is ready for a new character.
The SPI transaction format is shown in Figure 4-1. Each transaction can contain one or more characters. The character
size is configurable, and can be either 8 or 9 bits.
FIGURE 4-1:             SPI TRANSACTION FORMAT
  SPI_MOSI/
   SPI_MISO
      SPI_SS
The SPI master pulls the slave select line (SPI_SS) of the desired slave low to initiate a transaction. The master and
slave prepare data to send via their respective shift registers, and the master generates the serial clock on the SPI_SCK
line.
Data is always shifted from master to slave on the Master Output Slave Input line (SPI_MOSI); data is shifted from slave
to master on the Master Input Slave Output line (SPI_MISO).
Each time character is shifted out from the master, a character will be shifted out from the slave simultaneously. To signal
the end of a transaction, the master will pull the SPI_SS line high.
DS00002838B-page 16                                                                      2018-2019 Microchip Technology Inc.


                                                                                               UPD301A
4.2       Power States
The device supports the following power states, as defined in their respective sub-sections:
• STANDBY
• ATTACHED IDLE
• ACTIVE
4.2.1        STANDBY
STANDBY is the lowest power functional state of the device. The majority of the device is powered off in this state. The
internal CC comparator and 20 KHz oscillator are enabled in this state as well as requisite analog components (1.8V
LDO, PORs, Biases, etc).
The CC lines are constantly monitored for an attach condition which shall result in an interrupt assertion to the host. If
an attachment has been made, this state can detect a change in the partner’s advertisement as well as a detach.
STANDBY is the power state that the UPD301A device will be in when in USB Type-C™ Unattached.SRC.
4.2.2        ATTACHED IDLE
In this state, a USB Type-C™ device is connected and the USB PD bus is idle (no USB packets in transit). The CC
signals are constantly being monitored for packet transmission.
4.2.3        ACTIVE
This state defines the condition of the device after an attachment occurred. In this state, Power Delivery communication
is supported. This state is also used for any condition in which the 48 MHz Relaxation Oscillator must be enabled, such
as when it is desired to debounce a GPIO within the micro-second range.
When transmitting a Power Delivery packet, an additional 5 mA may be consumed. Additional power consumption
results from enabling the OCS comparator, VBUS comparator and other modules. When VCONN FETs are enabled,
there is an additional 70 mW of power consumption.
This section details the functions that control and monitor the CC pins, monitor the VBUS_DET pin, control the VCONN
FETs, and sample the CFG_SEL pin.
4.3       Cable Plug Orientation and Detection
4.3.1        CC COMPARATOR
The device integrates a comparator and DAC circuit to implement Type-C attach and detach functions. It supports up
to eight programmable thresholds for attach detection between UFP and DFP. When operating as a UFP, the device
supports detecting changes in the DFP’s advertised thresholds to determine current sourcing capability. The default
nominal values for the thresholds detected by the CC comparators are:
•  0.20 V
•  0.40 V
•  0.66 V
•  0.80 V
•  1.23 V
•  1.60 V
•  2.60 V
•  3.0 V Proprietary Mode
 2018-2019 Microchip Technology Inc.                                                               DS00002838B-page 17


UPD301A
TABLE 4-1:        CABLE DETECT SUMMARY
    Parameter        Threshold CSR                    Description                     Min         Typ       Max
  DFP_ACT_DEF           CC_THR0       Detecting an active cable when configured                  0.20 V
                                      as DFP and advertising default USB current.
  UFP_DFP_DEF           CC_THR0       Detecting DFP attach when configured as                    0.20 V
                                      UFP and DFP is advertising default USB
                                      current.
  DFP_ACT_1A5           CC_THR1       Detecting an active cable when configured                  0.40 V
                                      as DFP and advertising 1.5A.
  UFP_DFP_1A5           CC_THR2       Detecting DFP attach when configured as                    0.66 V
                                      UFP and DFP is advertising 1.5A.
  DFP_ACT_3A0           CC_THR3       Detecting an active cable when configured                  0.80 V
                                      as DFP and advertising 3.0A.
  UFP_DFP_3A0           CC_THR4       Detecting DFP attach when configured as                    1.23 V
                                      UFP and DFP is advertising 3.0A.
  DFP_UFP_DEF           CC_THR5       Detecting UFP attach when configured as                    1.60 V
                                      DFP advertising default USB current.
  DFP_UFP_1A5           CC_THR5       Detecting UFP attach when configured as                    1.60 V
                                      DFP advertising 1.5A.
  DFP_UFP_3A0           CC_THR6       Detecting UFP attach when configured as                    2.60 V
                                      DFP advertising 3.0A.
The following table summarizes the expected thresholds to be matched for various configurations.
TABLE 4-2:        DFP CC MATCH SUMMARY
                                        CC        CC        CC       CC         CC       CC         CC       CC
               CC State
                                       THR0      THR1      THR2     THR3      THR4      THR5       THR6     THR7
 Advertise Default USB Current and       0         0         0        0          0        0          0        0
 connected to powered cable
 Advertise 1.5 A and connected to        0         0         0        0          0        0          0        0
 powered cable
 Advertise 3.0 A and connected to        0         0         0        0          0        0          0        0
 powered cable
 Advertise Default USB Current and       1         0         0        0          0        0          0        0
 connected to UFP
 Advertise 1.5 A and connected to        0         1         0        0          0        0          0        0
 UFP
 Advertise 3.0 A and connected to        0         0         0        1          0        0          0        0
 UFP
 Advertise Default USB Current and       1         0         0        0          0        1          0        0
 no connect (vOpen)
 Advertise 1.5 A and no connect          0         1         0        0          0        1          0        0
 (vOpen)
 Advertise 3.0 A and no connect          0         0         0        1          0        0          1        0
 (vOpen)
 Proprietary Mode and no connect         0         0         0        0          0        0          0        1
 (vOpen)
DS00002838B-page 18                                                              2018-2019 Microchip Technology Inc.


                                                                                              UPD301A
4.3.2        DFP OPERATION
The device implements current sources to advertise current charging capabilities on both CC pins when operating as a
DFP.
When a UFP connection is established, the current driven across the CC pins creates a voltage across the UFP’s Rd
pull-down that can be detected by the integrated CC comparator. The voltages monitored are summarized in Table 4-
3. When connected to an active cable, an alternative pull-down (Ra) appears on the CC pin.
The DFP also integrates two 5V FETs for implementing the VCONN function. This is further discussed in Section 4.3.5,
"VCONN Operation".
TABLE 4-3:          SOURCE DETECTION
   CC1      CC2                Connection State                        CC Comparator State            VBUS      VCONN
 Open      Open    Nothing Attached                              Monitor both CC pins for attach        Off        Off
 Rd        Open    UFP Attached                                  Monitor CC1 for detach                 On         Off
 Open      Rd      UFP Attached                                  Monitor CC2 for detach                 On         Off
 Ra        Open    Powered Cable, No UFP attached                Monitor CC2 for UFP attach.            Off        Off
                                                                 Monitor CC1 for cable detach.
 Open      Ra      Powered Cable, No UFP attached                Monitor CC1 for UFP attach.            Off        Off
                                                                 Monitor CC2 for cable detach.
 Ra        Rd      Powered Cable, UFP attached                   Monitor CC2 for UFP detach.            On         On
                                                                 CC1 is not monitored for detach.
 Rd        Ra      Powered Cable, UFP attached                   Monitor CC1 for UFP detach.            On         On
                                                                 CC2 is not monitored for detach.
 Rd        Rd      Debug accessory mode attached                 Monitor both CC pins for detach        Off        Off
 Ra        Ra      Audio accessory mode attached.                Monitor both CC pins for detach        Off        Off
4.3.3        RP CURRENT SOURCES
In order to advertise the current charging capabilities of the device via the integrated port power controller or external
power circuit, Rp current sources are used. The current source can be selected by software. Table 4-4 summarizes the
values supported by the current sources in regards to the programmed value.
TABLE 4-4:          RP CURRENT SOURCES
                                                       Current source
            DFP Advertisement                                                                   RPx Value
                                                        (1.7V to 5.5V)
                                     Disabled                                                       00b
            Default USB Power                           80 uA +/-20%                                01b
                 1.5A @ 5V                              180 uA +/-8%                                10b
                 3.0A @ 5V                              330 uA +/-8%                                11b
4.3.4        COLLISION AVOIDANCE
An alternative mode of operation is required to enable the CC detection circuit to facilitate software implementation of
collision detection which was incorporated into version 3.0 of the USB PD Specification.
In order to avoid message collisions due to asynchronous Messaging (AMS) sent from the Sink, the Source sets Rp to
SinkTxOk (3A@5V) to indicate to the Sink that it is OK to initiate an AMS. When the Source wishes to initiate an AMS
it sets Rp to SinkTxNG (1.5A@5V). When the Sink detects that Rp is set to SinkTxOk it may initiate an AMS. When the
Sink detects that Rp is set to SinkTxNG it shall not initiate an AMS and shall only send Messages that are part of an
AMS the Source has initiated.
 2018-2019 Microchip Technology Inc.                                                               DS00002838B-page 19


UPD301A
4.3.5        VCONN OPERATION
VCONN is a 5V supply that is used to power circuitry in the USB Type-C™ plug, which is required to implement Elec-
tronically Marked Cables. By default, the DFP always sources VCONN when connected to an active cable. However,
this may be changed by software.
APPLICATION NOTE: It is not envisioned to ever enable both FETs simultaneously.
VCONN is monitored for an over current condition via an internal monitoring circuit. A VCONN over current condition is
recognized when the event persists for a time longer than specified.When an over-current VCONN event is detected,
an interrupt asserts. The device may be configured to automatically disable the VCONN FET upon detection of a CC1/
CC2 Back-Drive Error or VCONN Discharge Error. In the event of the detection of a debounced over-current VCONN
event, the enabled VCONN FET will be disabled.
4.3.6        VBUS DETECTION
The device implements a comparator for determining when VBUS is within a programmed range, vSafe5V, or vSafe0v.
VBUS is divided down externally via a 1:9 resistor divider to generate VBUS_DET_IN. VBUS_DET_IN is compared with
an 8-bit threshold generated by an integrated DAC.
Figure 4-2 illustrates the VBUS_DET_IN circuit. In a typical use case, VBUS_DET_IN thresholds are programmed to
track the following voltage ranges as defined in Table 4-5.
   Note:     Table 4-5 illustrates the values of VBUS_DET_IN utilizing +/-1% accurate resistors where R1 is 10K Ohms
             and R2 is 90 kOhms.
FIGURE 4-2:              VBUS_DET_IN COMPARATOR
      VBUS
                                                                          15 uA
                                                                           ZTC
     R2
                          VBUS_DET_IN
                                                                                                    VBUS_MATCH
                                                         10-bits
     R1    R3                                                            DAC
                                                 VBUS
                                                                Bandgap
                            20 KHz Clock       Threshold
                                                               Reference
                                              Generation
For a DFP, the VBUS comparator is useful to detect when VBUS is within the desired range per PD negotiations. This
is the case when VBUS is generated by a source external to the device.
For a UFP, the VBUS comparator is required to determine when a DFP is attached or detached. It may also use the
comparator to determine when VBUS is within a new voltage range negotiated via PD.
DS00002838B-page 20                                                                 2018-2019 Microchip Technology Inc.


                                                                                            UPD301A
TABLE 4-5:         VBUS DETECTION THRESHOLDS
             VBUS                     Range                   VBUS_DET_IN                         Comments
                                        21.5                        2.11
               20
                                        18.5                        1.82
                                        13.1                        1.29
               12
                                        10.9                        1.07
                                         8.9                        0.88
                8
                                         7.1                        0.69
                                         5.5                        0.51
                5                                                                                  vSafe5V
                                        3.67                        0.33
              0.68                      0.68                       0.068                           vSafe0V
If supported, the ranges 8V, 12V and 20V may be programmed in VBUS Threshold 2 and VBUS Threshold 3 registers.
Likewise 5V range, vSafe5v, can be programmed in VBUS Threshold 0 and VBUS Threshold 1 registers.
The threshold for vSafe0V is programmable.
VBUS_DET_IN monitoring logic operates off of the 20 KHz oscillator which cycles through each threshold. Including
vSafe0v, a total of five values are compared.
4.4       Baseband CC Interface (BCI)
The device integrates a Baseband CC Interface (BCI) to facilitate USB Power Delivery communication. This module
bridges between the PD MAC/BMC and the analog front end. Baseband communication is initiated by the PD MAC,
which interfaces to the BCI. The BCI implements the digital functions required to control TX baseband components.
4.4.1        BASEBAND TX DATA-FLOW
The key responsibility of the BCI is to generate the wave form required for baseband communication. To this end, the
BMC has a group of eight registers that define the Lo-Hi and Hi-Lo transitions for the generated BMC signal.
When instructed to transition from Lo-Hi, the BCI steps through all BB TX Rise Registers. Likewise when instructed to
transition from Hi-Lo, the BCI steps through all BB TX Fall Registers
APPLICATION NOTE: The user may replicate values if it is desired to use less than twelve unique values for this
                           purpose.
4.4.2        BASEBAND RX DATA-FLOW
Baseband RX data is received by the BCI from the RX analog front end where it is compared to a threshold programmed
by software. The CC RX DAC Value defines the trip point used for reception of baseband data. The field shall be pro-
grammed to be 175 mV below the RX Eye center, as defined in the PD Specification for the mode in which the device
is operating (Sourcing Power, Sinking Power, Power Neutral).
 2018-2019 Microchip Technology Inc.                                                             DS00002838B-page 21


UPD301A
4.5       Power Delivery MAC
The PD MAC implements certain features of the protocol layer and physical layer of the Universal Serial Bus Power
Delivery Specification. On one end the PD MAC interfaces to the software implementing the bulk of protocol and higher
level layers and on the other end it interfaces to a BMC encoder / decoder module.
In addition to the normal TX and RX functions, the PD MAC implements the test mode logic defined in the USB PD
specification (BIST).
The PD MAC supports the following features:
• Automatic TX Mode for packet framing and CRC32 insertion.
• Raw TX Mode for bit level packet control.
• Automatic GoodCRC response to received messages.
• Automatic BIST Error Count Message in BIST RX Mode.
• GoodCRCTimer implementation.
• Automatic retries with programmable retry count.
• Redundant receive packets automatically dropped in auto response mode.
• 74 byte TX queue.
• 128 byte RX queue.
• Programmable TX Bit-time. Allows for changing operating frequency.
• Programmable preamble length.
• BIST TX and RX logic.
• Programmable TX and RX queue modes - buffer mode and FIFO mode.
• CRC32 generator for TX.
• CRC32 calculator and comparator for RX.
4.5.1         PD MAC TRANSMITTER
The PD MAC transmitter is comprised of three major blocks:
• TX Queue:
  The TX Queue is where software loads the message to be transmitted.
• TX Control:
  The TX Control implements the necessary control logic. It is responsible for reading the data from the TX queue
  and based on the data processing mode (automatic or raw), processing the data to make it suitable (nibbles with
  control information) for use by the TX Comm. It is also responsible for generating packet framing and terminating
  the packet in automatic mode, and generating messages for automatic response (GoodCRC and BIST Error
  Count). TX Control also handles the selection of the SOP type that is to be transmitted.
• TX Comm:
  The TX Comm is comprised of a TX CRC generator, a 4b5b encoder, serializer, preamble generator, and TX bit
  timer. It takes the nibble data, computes and inserts the CRC, 5b encodes, and generates the baseband serial
  data. Preamble insertion is also performed by this logic.
4.5.2         PD MAC RECEIVER
The PD MAC receiver is comprised of three major blocks:
• RX Queue:
  The RX Queue is where software reads the received messages.
• RX Control:
  The RX Control implements the necessary control logic. It is responsible for validating the received packet, updat-
  ing the RX Queue status, and triggering automatic responses, if required.
• RX Comm:
  The RX Comm is comprised of the Clock and Data Recovery (CDR), RX DES (de-serializer) (serial-to-parallel
  converter, 4b5b decoder, and framing detector), RX CRC32 (CRC calculator, receive timer), and other logic to
  detect valid packet reception.
DS00002838B-page 22                                                                 2018-2019 Microchip Technology Inc.


                                                                                            UPD301A
4.5.3         PD MAC BIST
The PD MAC incorporates BIST functions as defined in the USB PD Specification. It is comprised of a TX and RX block.
The BIST TX block contains a PRBS (Pseudo Random Binary Sequence) generator, BIST pattern generation logic, and
its own bit-timing logic. The SOP type used by TX BIST Test Frames is a 20-bit static vector which is created by multi-
plexing between the five SOP ordered sets based on a register setting. The resultant 20-bit vector is simply bit selected
when the packet is transmitted.
The BIST RX block contains a PRBS generator and bit error detection logic. BIST RX is used only during the BIST
Receiver Test.
4.6       Supported Power Delivery (PD) Functionality
This section details the UPD301A PD support in firmware. The UPD301A PD functionality operates according to the
USB Power Delivery Specification. Table 4-6 details the PD parameter values used.
TABLE 4-6:          USB PD VALUES
               Parameter                                                    Value
 VendorID                               0x0424
 ProductID                              0x301A
 HWVersion                              0x01
 SiVersion                              0x01
 FWVersion1...4                         Will vary based on latest major and minor revision.
                                        For example. c1.10 is represented by 0x0110 and will be returned as:
                                        • FWVersion1 = 0x0000
                                        • FWVersion2 = 0x0000
                                        • FWVersion3 = 0x0000
                                        • FWVersion4 = 0x0110
4.6.1         SUPPORTED PD MESSAGES
The following USB PD Control messages are supported:
•  GoodCRC
•  Accept
•  Reject
•  Ping
•  PS_RDY
•  Get_Sink_Cap
•  VCONN_Swap
•  Wait
•  Soft_Reset
The following USB PD Data messages are supported:
• Source_Capabilities
• Request
• BIST
The following USB PD Extended messages are supported:
• Firmware_Update_Request
• Firmware_Update_Response
 2018-2019 Microchip Technology Inc.                                                             DS00002838B-page 23


UPD301A
4.6.2        UNSUPPORTED PD MESSAGES
The following USB PD Control messages are not supported:
• GotoMin
• DR_Swap
• PR_Swap
• Get_Source_Cap_Extended
• Get_Status
• FR_Swap
• Get_PPS_Status
• Get_Country_Codes
The following USB PD Data messages are not supported:
• Battery_Status
• Alert
• Get_Country_Info
• Vendor_Defined
The following USB PD Extended messages are not supported:
• Source_Capabilities_Extended
• Status
• Get_Battery_Cap
• Get_Battery_Status
• Battery_Capabilities
• Manufacturer_Info
• Security_Request
• Security_Response
• PPS_Status
• Country_Info
• Country_Codes
4.6.3        SOURCE POWER DELIVERY OBJECTS (PDOS)
The PDOs defined in the USB PD Specification Section 10.2.2 are used when in Source Role based on the selected
value of the PDP_SEL0 configuration strap and for the external UPD350 when in Source Role based on the selected
value of the PDP_SEL1. These are the PDOs returned in the PD Source_Capabilities message and correspond to the
capabilities of the Source power supply.
DS00002838B-page 24                                                            2018-2019 Microchip Technology Inc.


                                                                                                                                    UPD301A
5.0       OPERATIONAL CHARACTERISTICS
5.1       Absolute Maximum Ratings*
Supply Voltage (VCONN_IN) (Note 5-1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . -0.3 V to +6.0 V
Supply Voltage (VDD33_ALW_IN, VDD33_IO_IN) (Note 5-1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 0 V to +6.0 V
Supply Voltage (VDD33_REG_IN, VDD33_ANA_IN) (Note 5-1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 0 V to +3.8 V
Supply Voltage (VPP18) (Note 5-1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 0 V to +7.75 V
Pin voltage with respect to ground (Note 5-2) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . VSS-0.6 V to VDD33_REG_IN+0.6 V
Pin voltage with respect to ground (VBUS_DET_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . -0.5 V to +3.96 V
Pin voltage with respect to ground
(CC1, CC2, SPI_MOSI_SI, EN_VBUS, RESET_N_COM, VBUS_DIS, I2C_ADDR_SEL) .                          . . . . . . . . . . . . . . . . . . . . . . . . . . -0.5 V to +6.0 V
Storage Temperature . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .-55oC to +150oC
Lead Temperature Range . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Refer to JEDEC Spec. J-STD-020
HBM ESD Performance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . +/-2 kV
  Note 5-1       When powering this device from laboratory or system power supplies, it is important that the absolute
                 maximum ratings not be exceeded or device failure can result. Some power supplies exhibit voltage
                 spikes on their outputs when AC power is switched on or off. In addition, voltage transients on the
                 AC power line may appear on the DC output. If this possibility exists, it is suggested to use a clamp
                 circuit.
  Note 5-2       This rating does not apply to the following pins: VBUS_DET_IN, CC1, CC2, SPI_MOSI_SI, EN_VBUS,
                 RESET_N_IN, VBUS_DIS
*Stresses exceeding those listed in this section could cause permanent damage to the device. This is a stress rating
only. Exposure to absolute maximum rating conditions for extended periods may affect device reliability. Functional
operation of the device at any condition exceeding those indicated in Section 5.2, "Operating Conditions**", Section 5.5,
"DC Characteristics", or any other applicable section of this specification is not implied.
5.2       Operating Conditions**
Supply Voltage (VCONN_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . +4.75 V to +5.25 V
Supply Voltage (VDD33_ALW_IN, VDD33_IO_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . +2.97 V to +3.63 V
Supply Voltage (VDD33_REG_IN, VDD33_ANA_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . +2.97 V to +3.63 V
Supply Voltage (VPP18) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . +1.62 V to +1.98 V
Pin voltage with respect to ground (Note 5-3) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 0 V to +2.00 V
Positive pin voltage with respect to ground (VBUS_DET_IN) . . . . . . . . . . . . . VDD33_IO_IN-0.3 V to VDD33_IO_IN+0.3 V
Negative pin voltage with respect to ground (VBUS_DET_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . -0.33 V to -0.27 V
Positive pin voltage with respect to ground
(CC1, CC2, SPI_MOSI_SI, EN_VBUS, RESET_N_COM, VBUS_DIS, I2C_ADDR_SEL) .                          . . . . . . . . . . . . . . . . . . . . . . . +2.97 V to +3.63 V
Negative pin voltage with respect to ground
(CC1, CC2, SPI_MOSI_SI, EN_VBUS, RESET_N_COM, VBUS_DIS, I2C_ADDR_SEL) .                          . . . . . . . . . . . . . . . . . . . . . . . . -0.33 V to -0.27 V
Power Supply Rise Time Max (TRT) (VDD33_IO_IN) (Figure 5-1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100ms
Power Supply Rise Rate Max (VDD33_ANA_IN, VDD33_REG_IN) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 0.1 V/µs
Ambient Operating Temperature in Still Air (TA) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Note 5-4
  Note 5-3       This rating does not apply to the following pins: VBUS_DET_IN, CC1, CC2, SPI_MOSI_SI, EN_VBUS,
                 RESET_N_COM, VBUS_DIS
  Note 5-4       0oC to +70oC for commercial version, -40oC to +85oC for industrial version.
**Proper operation of the device is assured only within the ranges specified in this section.
 2018-2019 Microchip Technology Inc.                                                                                                        DS00002838B-page 25


UPD301A
FIGURE 5-1:             SUPPLY RISE TIME MODEL
                                    Voltage
                                                         tRT
                                                                            3.3V   100%
                               VDD33_IO_IN
                                                                        90%
                                            10%
                                       VSS
                                                t10%                 t90%    Time
5.3     Package Thermal Specifications
TABLE 5-1:         PACKAGE THERMAL PARAMETERS
                                Parameter                                      Symbol                  °C/W
 Thermal Resistance Junction to Ambient (@ 0 air flow)                            JA                   36.6
 Thermal Resistance Junction to Top of Case                                       JC                   9.2
 Thermal Resistance Junction to Board                                             JB                   15.7
 Thermal Resistance Junction to Bottom of Case (@ 0 air flow)                     JT                   0.2
  Note:    Thermal parameters are measured or estimated for devices in a multi-layer 2S2P PCB per JESDN51.
TABLE 5-2:         POWER DISSIPATION
                     Parameter                          Symbol                   Max                   Units
 Power Dissipation                                         Pdis                  214                    mW
  Note:    This is the worst-case power dissipation as a consequence of maximum loading (before current-limiting
           protections take effect) upon the VCONN power switch, 3.3V power-ORing switch, analog blocks, and core
           digital logic.
DS00002838B-page 26                                                               2018-2019 Microchip Technology Inc.


                                                                                             UPD301A
5.4      Current Consumption
TABLE 5-3:         DEVICE CURRENT CONSUMPTION
                                                                               3.3V Supply Current
                      Power State
                                                                 Typical                Max                 Units
 RESET                                                             1.27                  -                   mA
 STANDBY (source)                                                  7.49                  -                   mA
 ATTACHED IDLE (source)                                           11.40                  -                   mA
 ACTIVE (with PD packet transmitting)                                -                 23.84                 mA
   Note 1: This table details the power consumption of the UPD301A device as measured during various modes of
            operation. Refer to Section 4.2, "Power States" for additional information. Power dissipation is determined
            by temperature, supply voltage, and external source/sink requirements. Maximum values represent very
            short bursts of activity over a small amount of time. Typical values represent averaged current consump-
            tion over time.
        2: STANDBY is equivalent to USB Type-C™ specification’s Unattached.SRC
        3: Currents measured with all 3.3V rails tied together.
 2018-2019 Microchip Technology Inc.                                                              DS00002838B-page 27


UPD301A
5.5        DC Characteristics
TABLE 5-4:          DC ELECTRICAL CHARACTERISTICS
           Parameter              Symbol           Min                 Typ                 Max           Units     Notes
  I Type Input Buffer
  Low Input Level                   VIL                                              0.3*VDD33_REG_IN      V
  High Input Level                  VIH    0.55*VDD33_REG_IN                                               V
  Input Leakage                    ILEAK             -1               ±0.015                 1            µA
  IS_1 Type Input Buffer
  Low Input Level                   VIL                                              0.3*VDD33_REG_IN      V
  High Input Level                  VIH    0.55*VDD33_REG_IN                                               V
  Input Leakage                      IIH             -1               ±0.015                 1            µA
  IS_2 Type Input Buffer
  Low Input Level                   VILI            -0.3                                    0.8            V
  High Input Level                  VIHI            2.0                                     3.6            V
  Negative-Going Threshold          VILT           1.21                1.33                 1.8            V    Schmitt trigger
  Positive-Going Threshold          VIHT           1.31                1.58                 1.8            V    Schmitt trigger
  Schmitt Trigger Hysteresis       VHYS             100                 133                  0            mV
  (VIHT - VILT)
  Input Leakage                      IIH            -10                                     10            µA       Note 5-5
  (VIN = VSS or VDD33_IO_IN)
  Input Capacitance                 CIN                                                      3            pF
  O2 Type Output Buffer
  Low Output Level                  VOL                         0.1*VDD33_REG_IN     0.2*VDD33_REG_IN      V     IOL = -2 mA
  High Output Level                 VOH     0.8*VDD33_REG_IN    0.9*VDD33_REG_IN                           V     IOH = 2 mA
  OD2 Type Output Buffer
  Low Output Level                  VOL                         0.1*VDD33_REG_IN     0.2*VDD33_REG_IN      V     IOL = -2 mA
  O8_1 Type Output Buffer
  Low Output Level                  VOL                         0.1*VDD33_REG_IN     0.2*VDD33_REG_IN      V     IOL = -8 mA
  High Output Level                 VOH     0.8*VDD33_REG_IN    0.9*VDD33_REG_IN                           V     IOH = 8 mA
  O8_2 Type Output Buffer
  Low Output Level                  VOL                                                     0.4            V     IOL = -8 mA
  High Output Level                 VOH     VDD33_IO_IN - 0.4                                              V     IOH = 8 mA
   Note 5-5       This specification applies to all inputs and tri-stated bi-directional pins. Internal pull-down and pull-up
                  resistors add +/- 50 µA per-pin (typical).
DS00002838B-page 28                                                                       2018-2019 Microchip Technology Inc.


                                                                                         UPD301A
TABLE 5-5:          VOLTAGE REGULATOR OPERATING RANGES
           Pin Name                               Parameter                      Min       Typ      Max     Units
   VDD18_CORE_OUT           DC uncalibrated output voltage                       1.62      1.80     1.91       V
   VDD12_CORE_OUT           DC calibrated output voltage                         1.10      1.23     1.30       V
TABLE 5-6:          VCONN SOURCE DC PARAMETERS
          Parameter             Symbol          Min      Typ       Max   Units                 Notes
   ILIM                       ILIM_VCONN                 600              mA     VCONN_IN=5V
   On Resistance              RON_VCONN                  270              m
TABLE 5-7:          POWER SWITCH DC PARAMETERS
          Parameter             Symbol          Min      Typ       Max   Units                 Notes
   VSW Load                   VSW_Load                              100   mA     VDD33_ALW_IN = 3.3V
   VSW Resistance               R_VSW                    500               
5.6          AC Characteristics and Timing
This section details the various AC timing specifications of the device.
5.6.1          RESET_N TIMING
Figure 5-2 illustrates the RESET_N timing requirements. Assertion of RESET_N is not a requirement. However, if used,
it must be asserted for the minimum period specified
FIGURE 5-2:              RESET_N TIMING
                                              trstia
              RESET_N
TABLE 5-8:          RESET_N TIMING VALUES
    Symbol                               Description                           Min        Typ      Max     Units
      trstia     RESET_N input assertion time                                    1                            s
 2018-2019 Microchip Technology Inc.                                                          DS00002838B-page 29


UPD301A
5.6.2          SPI TIMING
Figure 5-3 and Figure 5-4 illustrate the SPI master and slave timing requirements, respectively. Refer to Section 4.1,
"Serial Peripheral Interface (SPI)" for additional information.
FIGURE 5-3:             SPI MASTER TIMING
          SPI_SS
       SPI_CLK
        (CPOL = 0)
       SPI_CLK
        (CPOL = 1)
     SPI_MISO
       (Data Input )
     SPI_MOSI
     (Data Output )
FIGURE 5-4:             SPI SLAVE TIMING
          SPI_SS
      SPI_CLK
       (CPOL = 0)
      SPI_CLK
       (CPOL = 1)
    SPI_MOSI
      (Data Input )
     SPI_MISO
    (Data Output )
DS00002838B-page 30                                                               2018-2019 Microchip Technology Inc.


                                                                               UPD301A
TABLE 5-9:        SPI TIMING VALUES
   Symbol                            Description                Min       Typ       Max       Units
      tSCK    SPI_CLK period (Master)                                      84
    tSCKW     SPI_CLK high/low width (Master)                           0.5*tSCK
     tSCKR    SPI_CLK rise time (Master)                                    7                  ns
     tSCKF    SPI_CLK fall time (Master)                                   9.5                 ns
       tMIS   SPI_MISO setup to SPI_CLK (Master)                           29                  ns
       tMIH   SPI_MISO hold after SPI_CLK (Master)                          8                  ns
      tMOS    SPI_MOSI setup to SPI_CLK (Master)                      tSCK/2 - 16              ns
      tMOH    SPI_MOSI hold after SPI_CLK (Master)                         16                  ns
     tSSCK    SPI_CLK period (Slave)                       1*tCLK_APB                          ns
   tSSCKW     SPI_CLK high/low width (Slave)                0.5*tSSCK                          ns
   tSSCKR     SPI_CLK rise time (Slave)                                     7                  ns
    tSSCKF    SPI_CLK fall time (Slave)                                    9.5                 ns
       tSIS   SPI_MOSI setup to SPI_CLK (Slave)            tSSCK/2-19                          ns
       tSIH   SPI_MOSI hold after SPI_CLK (Slave)           tSSCK/2-5                          ns
      tSSS    SPI_SS setup to SPI_CLK (Slave, PRELOADEN=1) 2*tCLK_APB                          ns
                                                              + tSOS
              SPI_SS setup to SPI_CLK (Slave, PRELOADEN=0)    tSOS+7                           ns
      tSSH    SPI_SS hold after SPI_CLK (Slave)                tSIH-4                          ns
      tSOS    SPI_MISO setup to SPI_CLK (Slave)                        tSSCK/2-20              ns
      tSOH    SPI_MISO hold after SPI_CLK (Slave)                          20                  ns
     tSOSS    SPI_MISO setup after SPI_SS low (Slave)                      16                  ns
     tSOSH    SPI_MISO setup after SPI_SS high (Slave)                     11                  ns
 2018-2019 Microchip Technology Inc.                                             DS00002838B-page 31


UPD301A
6.0     PACKAGE INFORMATION
  Note:   For the most current package drawings, please see the Microchip Packaging Specification located at
          http://www.microchip.com/packaging.
FIGURE 6-1:          PACKAGE MARKING INFORMATION
                                                     40-VQFN
                                                     UPD301Ai
                                                      VRnnn e3
                                                    YYWWNNN
        Legend: i           Temperature range designator (Blank = commercial, i = industrial/automotive)
                   V        Automotive (blank for non-automotive versions)
                   R        Functional revision
                   nnn      Internal code
                   YY       Year code (last 2 digits of calendar year)
                   WW       Week code (week of January 1 is week ‘01’)
                   NNN      Alphanumeric traceability code
                    e3      Pb-free JEDEC designator for Matte Tin (Sn)
                   *        This package is Pb-free. The Pb-free JEDEC designator ( e3 )
                            can be found on the outer packaging for this package.
FIGURE 6-2:          TAPE & REEL DEVICE ORIENTATION
                                          DIRECTION OF UNREELING
DS00002838B-page 32                                                             2018-2019 Microchip Technology Inc.


                                                                                           UPD301A
  Note:    For the most current package drawings, please see the Microchip Packaging Specification located at
           http://www.microchip.com/packaging.
FIGURE 6-3:            40-VQFN PACKAGE (DRAWING)
     /HDG9HU\7KLQ3ODVWLF4XDG)ODW1R/HDG3DFNDJH .<; [PP%RG\>94)1@
     :LWK[PP([SRVHG3DG
                                                        '                    $    %
                             127(
                                               1
                                             
                                             
                                                                                  (
                            '$780%
                            '$780$
                            ;
                                   &
                                  ;
                                         &
                                                   7239,(:
                                                                                                      $
                                                                                 &
                         &
               6($7,1*       $
                  3/$1(
                                                                              ;
                                   $
                                                                                     &
                                                   6,'(9,(:
                                                                               & $ %
                                                        '
                                                                                                 & $ %
                                                                                     (
                                      H
                                      
                                                                                  .
                                             
                                             
                             127(            1
                                         /                               ;E
                                                 H                                & $ %
                                                                                  &
                                                 %277209,(:
                                                          0LFURFKLS7HFKQRORJ\'UDZLQJ&5HY$6KHHWRI
 2018-2019 Microchip Technology Inc.                                                            DS00002838B-page 33


UPD301A
  Note:    For the most current package drawings, please see the Microchip Packaging Specification located at
           http://www.microchip.com/packaging.
FIGURE 6-4:            40-VQFN PACKAGE (DIMENSIONS)
     /HDG9HU\7KLQ3ODVWLF4XDG)ODW1R/HDG3DFNDJH .<; [PP%RG\>94)1@
     :LWK[PP([SRVHG3DG
                                                                8QLWV             0,//,0(7(56
                                                     'LPHQVLRQ/LPLWV      0,1         120        0$;
                             1XPEHURI7HUPLQDOV                  1                      
                             3LWFK                                H                  %6&
                             2YHUDOO+HLJKW                       $                       
                             6WDQGRII                            $                       
                             7HUPLQDO7KLFNQHVV                  $                  5()
                             2YHUDOO/HQJWK                       '                  %6&
                             ([SRVHG3DG/HQJWK                  '                       
                             2YHUDOO:LGWK                        (                  %6&
                             ([SRVHG3DG:LGWK                   (                       
                             7HUPLQDO:LGWK                       E                       
                             7HUPLQDO/HQJWK                      /                       
                             7HUPLQDOWR([SRVHG3DG              .                             
         Notes:
          3LQYLVXDOLQGH[IHDWXUHPD\YDU\EXWPXVWEHORFDWHGZLWKLQWKHKDWFKHGDUHD
          3DFNDJHLVVDZVLQJXODWHG
          'LPHQVLRQLQJDQGWROHUDQFLQJSHU$60(<0
                 %6&%DVLF'LPHQVLRQ7KHRUHWLFDOO\H[DFWYDOXHVKRZQZLWKRXWWROHUDQFHV
                 5()5HIHUHQFH'LPHQVLRQXVXDOO\ZLWKRXWWROHUDQFHIRULQIRUPDWLRQSXUSRVHVRQO\
                                                                     0LFURFKLS7HFKQRORJ\'UDZLQJ&5HY$6KHHWRI
DS00002838B-page 34                                                                            2018-2019 Microchip Technology Inc.


                                                                                                              UPD301A
  Note:    For the most current package drawings, please see the Microchip Packaging Specification located at
           http://www.microchip.com/packaging.
FIGURE 6-5:             40-VQFN PACKAGE (LAND PATTERN)
     /HDG9HU\7KLQ3ODVWLF4XDG)ODW1R/HDG3DFNDJH .<; [PP%RG\>94)1@
     :LWK[PP([SRVHG3DG
                                                                     &
                                                                     ;
                                                                               (9
                                                   
                                            
                                            
                                                                                                       9
                                                                                                                   *
                         & <
                                  (9
                                                                                                              *
                                                                                                    <
                                                                             ;
                                                           (                                           6,/.6&5((1
                                             5(&200(1'('/$1'3$77(51
                                                                    8QLWV              0,//,0(7(56
                                                       'LPHQVLRQ/LPLWV         0,1         120          0$;
                            &RQWDFW3LWFK                            (                    %6&
                            2SWLRQDO&HQWHU3DG:LGWK                ;                                  
                            2SWLRQDO&HQWHU3DG/HQJWK               <                                  
                            &RQWDFW3DG6SDFLQJ                      &                      
                            &RQWDFW3DG6SDFLQJ                      &                      
                            &RQWDFW3DG:LGWK ;                   ;                                  
                            &RQWDFW3DG/HQJWK ;                  <                                  
                            &RQWDFW3DGWR&HQWHU3DG ;          *          
                            &RQWDFW3DGWR&RQWDFW3DG ;         *          
                            7KHUPDO9LD'LDPHWHU                     9                       
                            7KHUPDO9LD3LWFK                       (9                       
          1RWHV
           'LPHQVLRQLQJDQGWROHUDQFLQJSHU$60(<0
                  %6&%DVLF'LPHQVLRQ7KHRUHWLFDOO\H[DFWYDOXHVKRZQZLWKRXWWROHUDQFHV
           )RUEHVWVROGHULQJUHVXOWVWKHUPDOYLDVLIXVHGVKRXOGEHILOOHGRUWHQWHGWRDYRLGVROGHUORVVGXULQJ
             UHIORZSURFHVV
                                                                                      0LFURFKLS7HFKQRORJ\'UDZLQJ&5HY$
 2018-2019 Microchip Technology Inc.                                                                                DS00002838B-page 35


UPD301A
APPENDIX A:         DATA SHEET REVISION HISTORY
TABLE A-1:      REVISION HISTORY
         Revision            Section/Figure/Entry                         Correction
  DS00002838B (08-27-19)                                 Public Release
  DS00002838A (11-29-18)                          Initial Document Release
DS00002838B-page 36                                                     2018-2019 Microchip Technology Inc.


                                                                                                UPD301A
THE MICROCHIP WEB SITE
Microchip provides online support via our WWW site at www.microchip.com. This web site is used as a means to make
files and information easily available to customers. Accessible by using your favorite Internet browser, the web site con-
tains the following information:
• Product Support – Data sheets and errata, application notes and sample programs, design resources, user’s
    guides and hardware support documents, latest software releases and archived software
• General Technical Support – Frequently Asked Questions (FAQ), technical support requests, online discussion
    groups, Microchip consultant program member listing
• Business of Microchip – Product selector and ordering guides, latest Microchip press releases, listing of semi-
    nars and events, listings of Microchip sales offices, distributors and factory representatives
CUSTOMER CHANGE NOTIFICATION SERVICE
Microchip’s customer notification service helps keep customers current on Microchip products. Subscribers will receive
e-mail notification whenever there are changes, updates, revisions or errata related to a specified product family or
development tool of interest.
To register, access the Microchip web site at www.microchip.com. Under “Support”, click on “Customer Change Notifi-
cation” and follow the registration instructions.
CUSTOMER SUPPORT
Users of Microchip products can receive assistance through several channels:
•   Distributor or Representative
•   Local Sales Office
•   Field Application Engineer (FAE)
•   Technical Support
Customers should contact their distributor, representative or field application engineer (FAE) for support. Local sales
offices are also available to help customers. A listing of sales offices and locations is included in the back of this docu-
ment.
Technical support is available through the web site at: http://www.microchip.com/support
 2018-2019 Microchip Technology Inc.                                                                  DS00002838B-page 37


UPD301A
PRODUCT IDENTIFICATION SYSTEM
To order or obtain information, e.g., on pricing or delivery, refer to the factory or the listed sales office.
    PART NO.          [X]( 1)        [X]          /XX            [XXX]                  Examples:
      Device    Tape & Reel         Temp.      Package       Automotive                 a)     UPD301A/KYX
                    Option          Range                        Code                          Standard packaging,
                                                                                               0C to +70C,
                                                                                               40-pin VQFN package
                                                                                        b)     UPD301AT/KYX
  Device:             UPD301A                                                                  Tape and Reel,
                                                                                               0C to +70C,
                                                                                               40-pin VQFN package
  Tape and Reel       Blank     = Standard packaging (tray)
                                                                                        c)     UPD301A-I/KYX
  Option:             T         = Tape and Reel (Note 1)
                                                                                               Standard packaging,
                                                                                               -40C to +85C,
  Temperature         Blank     =    0C to   +70C    (Commercial)                            40-pin VQFN package
  Range:              I         = -40C to    +85C    (Industrial/Automotive Grade 3)  d)     UPD301A-I/KYX
                                                                                               Tape and Reel,
                                                                                               -40C to +85C,
  Package:            KYX       = 40-pin VQFN                                                  40-pin VQFN package
                                                                                        e)     UPD301A-I/KYXVAO
                                                                                               Standard packaging,
  Automotive Code: Vxx        =    3 character code with “V” prefix,                           -40C to +85C,
                                   specifying automotive grade 3 product.                      40-pin VQFN package,
                                                                                               Automotive Grade 3
                                                                                        Note     1:    Tape and Reel identifier only appears in
                                                                                                       the catalog part number description. This
                                                                                                       identifier is used for ordering purposes and
                                                                                                       is not printed on the device package.
                                                                                                       Check with your Microchip Sales Office for
                                                                                                       package availability with the Tape and Reel
                                                                                                       option.
DS00002838B-page 38                                                                                   2018-2019 Microchip Technology Inc.


                                                                                                             UPD301A
 Note the following details of the code protection feature on Microchip devices:
 •     Microchip products meet the specification contained in their particular Microchip Data Sheet.
 •     Microchip believes that its family of products is one of the most secure families of its kind on the market today, when used in the
       intended manner and under normal conditions.
 •     There are dishonest and possibly illegal methods used to breach the code protection feature. All of these methods, to our
       knowledge, require using the Microchip products in a manner outside the operating specifications contained in Microchip’s Data
       Sheets. Most likely, the person doing so is engaged in theft of intellectual property.
 •     Microchip is willing to work with the customer who is concerned about the integrity of their code.
 •     Neither Microchip nor any other semiconductor manufacturer can guarantee the security of their code. Code protection does not
       mean that we are guaranteeing the product as “unbreakable.”
 Code protection is constantly evolving. We at Microchip are committed to continuously improving the code protection features of our
 products. Attempts to break Microchip’s code protection feature may be a violation of the Digital Millennium Copyright Act. If such acts
 allow unauthorized access to your software or other copyrighted work, you may have a right to sue for relief under that Act.
Information contained in this publication regarding device applications and the like is provided only for your convenience and may be
superseded by updates. It is your responsibility to ensure that your application meets with your specifications. MICROCHIP MAKES NO
REPRESENTATIONS OR WARRANTIES OF ANY KIND WHETHER EXPRESS OR IMPLIED, WRITTEN OR ORAL, STATUTORY OR
OTHERWISE, RELATED TO THE INFORMATION, INCLUDING BUT NOT LIMITED TO ITS CONDITION, QUALITY, PERFORMANCE,
MERCHANTABILITY OR FITNESS FOR PURPOSE. Microchip disclaims all liability arising from this information and its use. Use of Micro-
chip devices in life support and/or safety applications is entirely at the buyer’s risk, and the buyer agrees to defend, indemnify and hold
harmless Microchip from any and all damages, claims, suits, or expenses resulting from such use. No licenses are conveyed, implicitly or
otherwise, under any Microchip intellectual property rights unless otherwise stated.
Trademarks
The Microchip name and logo, the Microchip logo, Adaptec, AnyRate, AVR, AVR logo, AVR Freaks, BesTime, BitCloud, chipKIT, chipKIT logo,
CryptoMemory, CryptoRF, dsPIC, FlashFlex, flexPWR, HELDO, IGLOO, JukeBlox, KeeLoq, Kleer, LANCheck, LinkMD, maXStylus, maXTouch,
MediaLB, megaAVR, Microsemi, Microsemi logo, MOST, MOST logo, MPLAB, OptoLyzer, PackeTime, PIC, picoPower, PICSTART, PIC32 logo,
PolarFire, Prochip Designer, QTouch, SAM-BA, SenGenuity, SpyNIC, SST, SST Logo, SuperFlash, Symmetricom, SyncServer, Tachyon,
TempTrackr, TimeSource, tinyAVR, UNI/O, Vectron, and XMEGA are registered trademarks of Microchip Technology Incorporated in the U.S.A. and
other countries.
APT, ClockWorks, The Embedded Control Solutions Company, EtherSynch, FlashTec, Hyper Speed Control, HyperLight Load, IntelliMOS, Libero,
motorBench, mTouch, Powermite 3, Precision Edge, ProASIC, ProASIC Plus, ProASIC Plus logo, Quiet-Wire, SmartFusion, SyncWorld, Temux,
TimeCesium, TimeHub, TimePictra, TimeProvider, Vite, WinPath, and ZL are registered trademarks of Microchip Technology Incorporated in the
U.S.A.
Adjacent Key Suppression, AKS, Analog-for-the-Digital Age, Any Capacitor, AnyIn, AnyOut, BlueSky, BodyCom, CodeGuard,
CryptoAuthentication, CryptoAutomotive, CryptoCompanion, CryptoController, dsPICDEM, dsPICDEM.net, Dynamic Average Matching, DAM,
ECAN, EtherGREEN, In-Circuit Serial Programming, ICSP, INICnet, Inter-Chip Connectivity, JitterBlocker, KleerNet, KleerNet logo, memBrain,
Mindi, MiWi, MPASM, MPF, MPLAB Certified logo, MPLIB, MPLINK, MultiTRAK, NetDetach, Omniscient Code Generation, PICDEM, PICDEM.net,
PICkit, PICtail, PowerSmart, PureSilicon, QMatrix, REAL ICE, Ripple Blocker, SAM-ICE, Serial Quad I/O, SMART-I.S., SQI, SuperSwitcher,
SuperSwitcher II, Total Endurance, TSHARC, USBCheck, VariSense, ViewSpan, WiperLock, Wireless DNA, and ZENA are trademarks of
Microchip Technology Incorporated in the U.S.A. and other countries.
SQTP is a service mark of Microchip Technology Incorporated in the U.S.A.
The Adaptec logo, Frequency on Demand, Silicon Storage Technology, and Symmcom are registered trademarks of Microchip Technology Inc. in
other countries.
GestIC is a registered trademark of Microchip Technology Germany II GmbH & Co. KG, a subsidiary of Microchip Technology Inc., in other
countries.
All other trademarks mentioned herein are property of their respective companies.
© 2018-2019, Microchip Technology Incorporated, All Rights Reserved.
ISBN: 9781522449102
For information regarding Microchip’s Quality Management Systems,
please visit www.microchip.com/quality.
 2018-2019 Microchip Technology Inc.                                                                               DS00002838B-page 39


                          Worldwide Sales and Service
AMERICAS                  ASIA/PACIFIC          ASIA/PACIFIC                  EUROPE
Corporate Office          Australia - Sydney    India - Bangalore             Austria - Wels
2355 West Chandler Blvd.  Tel: 61-2-9868-6733   Tel: 91-80-3090-4444          Tel: 43-7242-2244-39
Chandler, AZ 85224-6199   China - Beijing       India - New Delhi             Fax: 43-7242-2244-393
Tel: 480-792-7200         Tel: 86-10-8569-7000  Tel: 91-11-4160-8631          Denmark - Copenhagen
Fax: 480-792-7277                                                             Tel: 45-4450-2828
                          China - Chengdu       India - Pune
Technical Support:                                                            Fax: 45-4485-2829
                          Tel: 86-28-8665-5511  Tel: 91-20-4121-0141
http://www.microchip.com/
                          China - Chongqing     Japan - Osaka                 Finland - Espoo
support
                          Tel: 86-23-8980-9588  Tel: 81-6-6152-7160           Tel: 358-9-4520-820
Web Address:
www.microchip.com         China - Dongguan      Japan - Tokyo                 France - Paris
                          Tel: 86-769-8702-9880 Tel: 81-3-6880- 3770          Tel: 33-1-69-53-63-20
Atlanta                                                                       Fax: 33-1-69-30-90-79
Duluth, GA                China - Guangzhou     Korea - Daegu
Tel: 678-957-9614         Tel: 86-20-8755-8029  Tel: 82-53-744-4301           Germany - Garching
                                                                              Tel: 49-8931-9700
Fax: 678-957-1455         China - Hangzhou      Korea - Seoul
Austin, TX                Tel: 86-571-8792-8115 Tel: 82-2-554-7200            Germany - Haan
Tel: 512-257-3370                                                             Tel: 49-2129-3766400
                          China - Hong Kong SAR Malaysia - Kuala Lumpur
Boston                    Tel: 852-2943-5100    Tel: 60-3-7651-7906           Germany - Heilbronn
                                                                              Tel: 49-7131-72400
Westborough, MA           China - Nanjing       Malaysia - Penang
Tel: 774-760-0087         Tel: 86-25-8473-2460  Tel: 60-4-227-8870            Germany - Karlsruhe
Fax: 774-760-0088                                                             Tel: 49-721-625370
                          China - Qingdao       Philippines - Manila
Chicago                   Tel: 86-532-8502-7355 Tel: 63-2-634-9065            Germany - Munich
Itasca, IL                                                                    Tel: 49-89-627-144-0
                          China - Shanghai      Singapore
Tel: 630-285-0071                                                             Fax: 49-89-627-144-44
                          Tel: 86-21-3326-8000  Tel: 65-6334-8870
Fax: 630-285-0075                                                             Germany - Rosenheim
                          China - Shenyang      Taiwan - Hsin Chu
                                                                              Tel: 49-8031-354-560
Dallas                    Tel: 86-24-2334-2829  Tel: 886-3-577-8366
Addison, TX                                                                   Israel - Ra’anana
                          China - Shenzhen      Taiwan - Kaohsiung
Tel: 972-818-7423         Tel: 86-755-8864-2200 Tel: 886-7-213-7830           Tel: 972-9-744-7705
Fax: 972-818-2924                                                             Italy - Milan
                          China - Suzhou        Taiwan - Taipei
Detroit                                                                       Tel: 39-0331-742611
                          Tel: 86-186-6233-1526 Tel: 886-2-2508-8600
Novi, MI                                                                      Fax: 39-0331-466781
Tel: 248-848-4000         China - Wuhan         Thailand - Bangkok
                          Tel: 86-27-5980-5300  Tel: 66-2-694-1351            Italy - Padova
Houston, TX                                                                   Tel: 39-049-7625286
Tel: 281-894-5983         China - Xian          Vietnam - Ho Chi Minh
                          Tel: 86-29-8833-7252  Tel: 84-28-5448-2100          Netherlands - Drunen
Indianapolis                                                                  Tel: 31-416-690399
Noblesville, IN           China - Xiamen                                      Fax: 31-416-690340
                          Tel: 86-592-2388138
Tel: 317-773-8323                                                             Norway - Trondheim
Fax: 317-773-5453         China - Zhuhai                                      Tel: 47-7288-4388
Tel: 317-536-2380         Tel: 86-756-3210040
                                                                              Poland - Warsaw
Los Angeles                                                                   Tel: 48-22-3325737
Mission Viejo, CA
                                                                              Romania - Bucharest
Tel: 949-462-9523                                                             Tel: 40-21-407-87-50
Fax: 949-462-9608
Tel: 951-273-7800                                                             Spain - Madrid
                                                                              Tel: 34-91-708-08-90
Raleigh, NC                                                                   Fax: 34-91-708-08-91
Tel: 919-844-7510
                                                                              Sweden - Gothenberg
New York, NY                                                                  Tel: 46-31-704-60-40
Tel: 631-435-6000
                                                                              Sweden - Stockholm
San Jose, CA                                                                  Tel: 46-8-5090-4654
Tel: 408-735-9110
Tel: 408-436-4270                                                             UK - Wokingham
                                                                              Tel: 44-118-921-5800
Canada - Toronto                                                              Fax: 44-118-921-5820
Tel: 905-695-1980
Fax: 905-695-2078
DS00002838B-page 40                                                   2018-2019 Microchip Technology Inc.
                                                                                                   05/14/19


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Microchip:
 UPD301A/KYX UPD301AT-I/KYX UPD301AT/KYX UPD301A-I/KYX
