                                                                                                              XR22404
                                                                                               USB 2.0 4-Port Hub
Description
                                                                                  FEATURES
The XR22404 is a USB 2.0 4-port hub with a Single Transaction                     ■■ USB 2.0 compliant interface
Translator (STT). It may be configured for downstream device charging             ■■ Compatible with Battery Charging
and is compatible with Battery Charging specification revision 1.1/1.2.              specification revision 1.1/1.2
                                                                                  ■■ LED indicators for port, hub or charging
The upstream USB interface has an integrated USB 2.0 PHY and                         activity
device controller that is compliant with both hi-speed (480Mbps) and              ■■ Ganged port power enable
full-speed (12Mbps) and downstream PHY supporting hi-speed, full-                 ■■ Global overcurrent sensing
speed and low-speed (1.5Mbps) on each of the 4 downstream ports.                  ■■ Single 5V or 3.3V power supply
                                                                                  ■■ Single 12MHz Crystal
The XR22404 provides ganged power control and global overcurrent
sensing for the downstream ports.                                                 APPLICATIONS
                                                                                  ■■ USB port expansion
The XR22404 may be operated from either 5V or 3.3V. If powered
                                                                                  ■■ Docking stations
from 5V internal regulators provide 3.3V and 1.8V used internally by
                                                                                  ■■ POS terminals
the device. Port activity and overall hub activity indicators provide             ■■ Factory automation and process controls
status outputs for external LEDs. An external I2C EEPROM may be                   ■■ Industrial applications
used with the XR22404 to configure USB device descriptors.
Typical Application
                                                           USB Host
                                                         Upstream Phy
                                      XR22404
                                                        Hub Controller
                                                               TT
                                                          Port Routing
                                                      Downstream Phy x4
                                      Device #1     Device #2      Device #3   Device #4
                                                 Figure 1. Typical Application
                                                              REV1B                                                           1/15


                                                                                                                                           XR22404
Absolute Maximum Ratings                                                         Operating Conditions
Stresses beyond the limits listed below may cause                                Operating temperature range............................ 0°C to 70°C
permanent damage to the device. Exposure to any Absolute                         VCC5 supply voltage.........................................4.4V to 5.5V
Maximum Rating condition for extended periods may affect
device reliability and lifetime.                                                 VCC33 supply voltage.......................................3.0V to 3.6V
VCC5 supply voltage.......................................... -0.5V to 6V
VCC33 supply voltage........................................ -0.5V to 4V
Input voltage
(all pins except USBD+, USBD–).................... -0.3V to 5.5V
Input voltage (USBD+ and USBD–).............. -0.3V to 5.75V
Junction temperature.................................................. 125°C
                                                                            REV1B                                                                     2/15


                                                                                                 XR22404
Electrical Characteristics
Unless otherwise noted: TA = 0°C to 70°C, VCC = 4.4V to 5.5V.
                                          Conditions
 Symbol                                                                              Min Typ Max    Units
            Upstream            Number of Active            Downstream Ports
           Port Speed          Downstream Ports                 Device Speed
 Power Consumption DC Supply Current (VCC = VCC5)
                                    Suspend                                              1.2 2.5     mA
                                      None                                                44         mA
                                                                 1x Full Speed            55         mA
                                        1
                                                                1x High Speed             56         mA
            High Speed                                           2x Full Speed            59         mA
                                        2               1x Full Speed, 1x High Speed      68         mA
   ICC                                                          2x High Speed             74         mA
                                                                 4x Full Speed            70         mA
                                        4
                                                                4x High Speed            100         mA
                                    Suspend                                              1.2 2.5     mA
                                      None                                                30         mA
            Full Speed
                                        1                        1x Full Speed            35         mA
                                        4                        4x Full Speed            55         mA
                                          Conditions
 Symbol                                                                              Min Typ Max    Units
            Upstream            Number of Active            Downstream Ports
           Port Speed          Downstream Ports                 Device Speed
 Power Consumption DC Supply Current (VCC = VCC33)
                                    Suspend                                              1.1 2.5     mA
                                      None                                                42         mA
                                                                 1x Full Speed            50         mA
                                        1
                                                                1x High Speed             54         mA
            High Speed                                           2x Full Speed            58         mA
                                        2               1x Full Speed, 1x High Speed      61         mA
   ICC                                                          2x High Speed             72         mA
                                                                 4x Full Speed            68         mA
                                        4
                                                                4x High Speed             97         mA
                                    Suspend                                              1.1 2.5     mA
                                      None                                                29         mA
            Full Speed
                                        1                        1x Full Speed            34         mA
                                        4                        4x Full Speed            53         mA
                                                         REV1B                                           3/15


                                                                                                                                                 XR22404
Electrical Characteristics (Continued)
Unless otherwise noted: TA = 0°C to 70°C, VCC = 4.4V to 5.5V.
 Symbol          Parameter                                              Conditions                                                 Min    Typ    Max       Units
 Non-USB I/O Pins
 VIL             Input low voltage                                                                                                 -0.3           0.8        V
 VIH             Input high voltage                                                                                                2.0            5.5        V
 VOL             Output low voltage                                     IOL = 4 mA                                                                0.4        V
 VOH             Output high voltage                                    IOL = -4 mA                                                2.4                       V
 IIL             Input low leakage current                                                                                                       ±10        μA
 IIH             Input high leakage current                                                                                                      ±10        μA
 CIN             Input pin capacitance                                                                                                            5         pF
 USB I/O Pins(1)
 3.3V Regulated Power Output (when VCC5 is connected to 5V input)
 VCC33           Output voltage                                         Max load current 100 mA                                    3.0    3.3     3.6        V
NOTE:
1. See USB 2.0 Specification for USB I/O pins DC Electrical Characteristics.
Pin Configuration, Top View
                                                   LED_CTL/CHRGEN
                                                                                                                GND    1                   28   TEST4
                                                                                                             XTALOUT   2                   27   TEST#/SDA
                          PWR#          LED1/SCL                    VCC33
                                                                                                              XTALIN   3                   26   OVC#
                                 LED2                                       VCC5
                                                                                                                DM4    4                   25   PWR#
                          24     23     22         21               20      19
                                                                                                                DP4    5                   24   LED2
           OVC#     1                                                              18   BUS_PWR#
                                                                                                                DM3    6                   23   LED1/SCL
       TEST/SDA     2                                                              17   VBUS_SENSE
                                                                                                                DP3    7                   22   LED_CTL/CHRGEN
       XTALOUT      3                                                              16   EXT_RST#
                                            GND                                                                 DM2    8                   21   VCC33
          XTALIN    4                                                              15   UP_DP
                                                                                                                DP2    9                   20   VCC5
            DM4     5                                                              14   UP_DM
                                                                                                                DM1    10                  19   BUS_PWR#
             DP4    6                                                              13   REXT
                                                                                                                DP1    11                  18   VBUS_SENSE
                          7      8      9          10               11      12
                                                                                                               TEST2   12                  17   EXT_RST#
                          DM3    DP3    DM2        DP2              DM1     DP1
                                                                                                               TEST3   13                  16   UP_DP
                                                                                                                REXT   14                  15   UP_DM
                                 24-Pin TQFN
NOTE:
Center Pad must be connected to digital ground on PCB.                                                                      28-Pin SSOP
                                                                                                     REV1B                                                    4/15


                                                                                                                                               XR22404
Pin Functions
   TQFN-24            SSOP-28
                                          Pin Name        Type      Description
 Pin Number          Pin Number
  Center Pad                1                 GND         PWR       Digital ground (in TQFN package Center Pad must be connected to digital ground).
         3                  2              XTALOUT           O      12 MHz crystal feedback output.
                                                                    12 MHz ± 50 ppm crystal input with load capacitance rating of 16-20 pF. An external 3.3V
         4                  3               XTALIN            I
                                                                    clock may be used instead on XTALIN, leaving XTALOUT unconnected.
         5                  4                 DM4           I/O     Downstream port 4 USB D- data.
         6                  5                  DP4          I/O     Downstream port 4 USB D+ data.
         7                  6                 DM3           I/O     Downstream port 3 USB D- data.
         8                  7                  DP3          I/O     Downstream port 3 USB D+ data.
         9                  8                 DM2           I/O     Downstream port 2 USB D- data.
        10                  9                  DP2          I/O     Downstream port 2 USB D+ data.
        11                 10                 DM1           I/O     Downstream port 1 USB D- data.
        12                 11                  DP1          I/O     Downstream port 1 USB D+ data.
         -                 12                TEST2            -     Leave unconnected for normal operation.
         -                 13                TEST3            -     Leave unconnected for normal operation.
        13                 14                REXT             I     External bias resistor. Connect 2.7kΩ 1% resistor from this pin to GND.
        14                 15               UP_DM           I/O     Upstream port USB D- data.
        15                 16                UP_DP          I/O     Upstream port USB D+ data.
        16                 17             EXT_RST#            I     External reset input, active low. Must be asserted for a minimum of 10 µS.
                                                                    Active high. Indicates connection to USB host. Connect to VBUS power input from
        17                 18            VBUS_SENSE           I     USB host through series 10kΩ registor. A 100kΩ pull-down registor and 100nF shunt
                                                                    capacitance are required on this pin.
                                                                    Bus power indicator, active low. For bus powered mode, connect to ground. For self-
        18                 19             BUS_PWR#            I
                                                                    powered mode, connect to logic ‘1’.
        19                 20                VCC5         PWR       5V power to internal 5V to 3.3V regulator, unused when device is powered by 3.3V.
                                                                    3.3V power input, when device is powered by 3.3V. If device is powered by 5V to VCC5
        20                 21                VCC33        PWR
                                                                    pin, decouple this pin with 4.7 µF.
                                                                    LED hub active indicator or downstream port charge enable, active high. May also be
                                           LED_CTL/
        21                 22                               I/O     used in conjunction with port status LEDs. If sampled high during power up reset,
                                           CHRGEN
                                                                    all downstream ports may be used as charging ports. Refer to Table 1.
                                                                    Port 1 LED indicator or I2C clock for external EEPROM. Max source current 3 mA. May be
        22                 23              LED1/SCL         I/O
                                                                    used in conjunction with LED_CTL/CHRGEN pin.
                                                                    Port 2 LED indicator. Max source current 3 mA. May be used in conjunction with DRV pin.
        23                 24                 LED2          I/O
                                                                    Refer to Figure 3.
                                                                    Power enable for all downstream devices. Asserted when XR22404 device is configured
        24                 25                PWR#            O      and OVC# is not asserted. Deasserted (high) if OVC# input is asserted or XR22404 is
                                                                    not configured.
         1                 26                OVC#             I     Downstream port global overcurrent indicator, active low.
                                                                    Test mode enable, active low or I2C serial data for external EEPROM. Tie to logic ‘1’ for
         2                 27             TEST#/SDA           I
                                                                    normal device operation or connect to serial data of I2C EEPROM.
         -                 28                TEST4            -     Leave unconnected for normal operation.
NOTE:
Type: I = Input, O = Output, I/O = Input/Output, PWR = Power, OD = Open-Drain.
                                                                                 REV1B                                                                       5/15


                                                                                               XR22404
Functional Block Diagram
                            XR22404                  USB Host
                                                   Upstream Phy
                                              Upstream Port Controller
                    Port         LED                                        Hub         Hub
                 Indicators   Controller                                 Controller   Activity
                                                                                     Indicator
                     12        Oscillator                    5V to 3.3V 3.3V to 1.8V
                    MHz                                      Regulator   Regulator
                               PLL (x40)         480
                                                 MHz
               Overcurrent                                                             Power
                                             Downstream Port Controller               Control
                Detection
                                                Port Routing Switch
                                                        TT
                             Downstream     Downstream     Downstream   Downstream
                                Phy #1         Phy #2         Phy #3       Phy #4
                               Device #1      Device #2      Device #3   Device #4
                                      Figure 2. Functional Block Diagram
                                                      REV1B                                         6/15


                                                                                                                 XR22404
Applications Information
Functional Description
The XR22404 hub has a single transaction translator that allows the USB 2.0 hub to take incoming high speed packets from
the USB host on the upstream port and translate these commands if necessary, to full or low speed commands on any of
the 4 downstream ports. Additionally, the XR22404 can provide battery charging on all four downstream ports compatible
with the USB Battery Charging Specification revision 1.1/1.2.
USB Interface
The hub function of the XR22404 supports one configuration and utilizes the following USB endpoints:
    ■■ Control endpoint
    ■■ Status change endpoint
The XR22404 hub may be configured for bus powered mode with a maximum power of 500 mA or self-powered mode by
connecting the BUS_PWR# pin to the appropriate logic state. In bus powered mode, downstream ports are limited to low
power (100 mA or less). When self-powered, downstream devices can draw up to 500 mA on each of the four ports.
USB Vendor ID
Exar’s USB vendor ID is 0x04E2.
USB Product ID
Exar’s USB hub product ID is 0x0404.
Device Reset
The XR22404 has both an automatic power-up reset and an external hardware pin reset. Normal hub operation or charging
mode is sampled on the LED_CTL/CHRGEN pin at device reset. Refer to Table 1 for further description of charging modes.
USB Suspend
All USB peripheral devices must support the USB suspend mode. Per USB standard, the XR22404 device will begin to
enter the suspend state if it does not detect any activity, (including Start of Frame or SOF packets) on its USB data lines for
3 ms. In bus powered mode the peripheral device must then reduce power consumption from VBUS power within the next
7 ms to the allowed limit of 2.5 mA for the suspended state. Note that in this context, the “device” is all circuitry (including
the XR22404) that draws power from the host VBUS. Each attached downstream port is also allowed an additional 2.5 mA
of suspend current. If no devices are connected to the XR22404 downstream ports, the USB host will suspend the hub.
Ganged Power Control and Global Overcurrent Sensing
The OVC# pin is used as a global overcurrent protection input for current sensing. The PWR# pin will be asserted whenever
the OVC# input pin is asserted or the XR22404 device is not yet configured.
                                                               REV1B                                                         7/15


                                                                                                                            XR22404
Applications Information (Continued)
Battery Charging
The XR22404 will provide downstream charging irrespective of its state, i.e., enumerated, detached, operational, or
suspended as long as it is powered by an external source, i.e., self-powered. In bus powered mode, VBUS power is not
capable of providing sufficient power for the XR22404 to charge downstream devices.
If the XR22404 device is self-powered and LED_CTL/CHRGEN pin is tied to a logic ‘1’ during power up or external reset, the
XR22404 battery charging function will be enabled on all downstream ports. If the device is self-powered and connected to
an upstream USB host, the XR22404 will function as a Charging Downstream Port (CDP). If the device is self-powered but
not connected to a USB host, the XR22404 will function as a Dedicated Charging Port (DCP). Refer to Table 1.
                                             Table 1. Downstream Port Capability
         CHRGEN         VBUS_SENSE        BUS_PWR#        Capability
                                                          CDP - Connected to upstream USB host, downstream ports may be used in
          Logic ‘1’        Logic ‘1’        Logic ‘1’
                                                          normal hub operation or for charging.
                                                          DCP - Not connected to upstream USB host, all downstream ports may be
          Logic ‘1’        Logic ‘0’        Logic ‘1’
                                                          used for charging.
                                                          SDP - Bus power is not capable of providing enough power for battery
            “X”            Logic ‘1’        Logic ‘0’
                                                          charging capability, downstream ports used in normal hub operation.
          Logic ‘0’        Logic ‘1’           “X”        SDP - Normal hub operation.
USB Hub Drivers
All Operating Systems provide a native USB hub device driver required for the XR22404 device to operate. No other device
drivers are necessary for the XR22404.
Regulated 3.3V Power Output
The XR22404 internal voltage regulator provides 3.3 VDC output power from 5V input, which can be utilized by
other circuitry. Refer to Electrical Characteristics on page 2 for maximum power capability.
                                                                REV1B                                                            8/15


                                                                                                                            XR22404
Applications Information (Continued)
External EEPROM
An external I2C EEPROM may be used with the XR22404 to configure USB device descriptors and the number of
downstream ports. The contents of the EEPROM are described in Table 2. In order for contents of the EEPROM to be
used by the XR22404, both the EEPROM check values at address 0x00, 0x01 and the checksum at address 0x1F must be
correct. If either field is incorrect or reserved fields are not set to 0x00, the EEPROM contents will be ignored and the device
will use the default descriptor values.
                                                      Table 2. EEPROM Contents
         Address                  Content          Description
           0x00                     0x40           EEPROM check value.
           0x01                     0x1A           EEPROM check value.
           0x02               Vendor ID, LSB       idVendor field LSB of device descriptor.
           0x03               Vendor ID, MSB       idVendor field MSB of device descriptor.
           0x04               Product ID, LSB      idProduct field LSB of device descriptor.
           0x05               Product ID, MSB      idProduct field MSB of device descriptor.
           0x06             Device Release, LSB    bcdDevice field LSB of device descriptor in binary coded decimal format.
           0x07             Device Release, MSB    bcdDevice field MSB of device descriptor in binary coded decimal format.
       0x08 to 0x19              Reserved          Must be 0x00.
           0x1A              Downstream Ports      Number of downstream ports in the bNbrPorts field of the hub descriptor.
       0x1B to 0x1E              Reserved          Must be 0x00.
           0x1F                  Checksum          Bitwise checksum of EEPROM values from address 0x00 to 0x1E.
                                                                     REV1B                                                       9/15


                                                                                                                XR22404
Applications Information (Continued)
LED Indicators
LED indicators in the XR22404 may be used for downstream port and hub activity indicators or as a downstream charging
indicator. Figure 3 demonstrates individual and hub activity indicators. Figure 4 demonstrates a joint port activity along with
hub activity indicators.
                                                                              Green Port
                                                                               1 Activity
                                                LED1/SCL
                                                                                 Green Port
                                                                                  3 Activity
                                        XR22404                               Green Port
                                                                               2 Activity
                                                    LED2
                                                                                 Green Port
                                                                                  4 Activity
                                        LED_CTL/CHRGEN
                                                                     Hub active
                                                                 indicator (optional)
                                          Figure 3. Port and Hub Activity Indicators
                                                            REV1B                                                         10/15


                                                                                                       XR22404
Applications Information (Continued)
                                                                      3.3V
                                                     LED1/SCL
                                             XR22404
                                                         LED2
                                             LED_CTL/CHRGEN
                                                                      Hub active
                                                                       indicator
                                     Figure 4. Joint Port and Hub Activity Indicators
External Crystal
A 12 MHz ± 50 PPM fundamental frequency external crystal must be connected between the XTALIN and XTALOUT pins
of the XR22404 device. The crystal should have a rated load capacitance of 16-20pF. However, note that both the load
capacitors and feedback resistance are internal to the XR22404 device as shown.
                                                              Y1
                                        Figure 5. Typical Oscillator Connections
                                                            REV1B                                               11/15


                                                                          XR22404
Mechanical Dimensions
TQFN-24
                      TOP VIEW                            BOTTOM VIEW
                                   SIDE VIEW
                               TERMINAL DETAILS
                                                Drawing No.: POD-00000091
                                                Revision: B
                                       REV1B                                   12/15


                                                                                  XR22404
Recommended Land Pattern and Stencil
TQFN-24
                                TYPICAL RECOMMENDED LAND PATTERN
                                 TYPICAL RECOMMENDED STENCIL
                                                        Drawing No.: POD-00000091
                                                        Revision: B
                                             REV1B                                     13/15


                                                                                                 XR22404
Package Description (Continued)
SSOP-28
                                  TOP VIEW                               FRONT VIEW
                                           SIDE VIEW
                        TERMINAL DIMENSION                      TYPICAL RECOMMENDED LAND PATTERN
                                               1. Dimensions and tolerance per Jedec MO-150
         Drawing No. : POD - 00000090
         Revision: A
                                                    REV1B                                             14/15


                                                                                                                                                                                        XR22404
Ordering Information(1)
   Part Number                           Operating Temperature Range                                    Lead-Free                              Package                        Packaging Method
   XR22404CL24TR-F                                                                                                                           24-pin TQFN                                 Reel
                                                         0°C to 70°C                                        Yes(2)
   XR22404CG28TR-F                                                                                                                           28-pin SSOP                                 Reel
   XR22404CL24EVB                                                                                     Evaluation board for TQFN-24
   XR22404CG28EVB                                                                                     Evaluation board for SSOP-28
NOTE:
1. Refer to www.exar.com/XR22404 for most up-to-date Ordering Information.
2. Visit www.exar.com for additional information on Environmental Rating.
Revision History
              Revision                                  Date                   Description
                   1A                                Aug 2016                  Initial Release
                                                                               Update to MaxLinear logo. Update format and Ordering Information. Changed QFN package
                   1B                              August 2018                 name to TQFN. Input voltage absolute max changed to 5.5V. 3V3_OUT changed to VCC33.
                                                                               XTALIN pin description updated.
                                           Corporate Headquarters:               High Performance Analog:
                                           5966 La Place Court                   1060 Rincon Circle
                                           Suite 100                             San Jose, CA 95131
                                           Carlsbad, CA 92008                    Tel.: +1 (669) 265-6100
                                           Tel.:+1 (760) 692-0711                Fax: +1 (669) 265-6101
                                           Fax: +1 (760) 444-8598                www.exar.com
                                           www.maxlinear.com
The content of this document is furnished for informational use only, is subject to change without notice, and should not be construed as a commitment by MaxLinear, Inc.. MaxLinear, Inc. assumes
no responsibility or liability for any errors or inaccuracies that may appear in the informational content contained in this guide. Complying with all applicable copyright laws is the responsibility of the
user. Without limiting the rights under copyright, no part of this document may be reproduced into, stored in, or introduced into a retrieval system, or transmitted in any form or by any means (electronic,
mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of MaxLinear, Inc.
Maxlinear, Inc. does not recommend the use of any of its products in life support applications where the failure or malfunction of the product can reasonably be expected to cause failure of the life support
system or to significantly affect its safety or effectiveness. Products are not authorized for use in such applications unless MaxLinear, Inc. receives, in writing, assurances to its satisfaction that: (a) the
risk of injury or damage has been minimized; (b) the user assumes all such risks; (c) potential liability of MaxLinear, Inc. is adequately protected under the circumstances.
MaxLinear, Inc. may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document. Except as expressly provided in any written
license agreement from MaxLinear, Inc., the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.
Company and product names may be registered trademarks or trademarks of the respective owners with which they are associated.
© 2016 - 2018 MaxLinear, Inc. All rights reserved
XR22404_DS_081418                                                                                    REV1B                                                                                              15/15


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 XR22404CG28TR-F XR22404CL24TR-F
